{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mikec\\\\MikesBridge\\\\bonusbridge\\\\src\\\\BridgeGameUI.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport ContractInput from './components/ContractInput';\nimport TrickInput from './components/TrickInput';\nimport ScoreTracking from './components/ScoreTracking';\nimport { requestWakeLock, releaseWakeLock, isWakeLockSupported } from './utils/wakeLock';\nimport { vulnerabilityDescription, parseContract, determineDealer } from './utils/scoring';\nimport './global.css';\nimport './styles/BridgeGame.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BridgeGameUI = ({\n  gameState,\n  updateCurrentDeal,\n  onNextDeal,\n  onNewGame,\n  setGameState,\n  onChooseBonusBridge,\n  onChoosePartyBridge\n}) => {\n  _s();\n  // State for quit confirmation\n  const [showQuitConfirm, setShowQuitConfirm] = useState(false);\n\n  // Function to keep the device awake\n  const toggleKeepAwake = async () => {\n    const newAwakeState = !gameState.isAwake;\n\n    // Update state first for immediate UI feedback\n    setGameState(prev => ({\n      ...prev,\n      isAwake: newAwakeState\n    }));\n    if (newAwakeState) {\n      // Turn on wake lock\n      if (isWakeLockSupported()) {\n        const success = await requestWakeLock();\n        if (!success) {\n          // Wake lock request failed, revert state\n          setGameState(prev => ({\n            ...prev,\n            isAwake: false\n          }));\n        }\n      } else {\n        console.log('Wake Lock API not supported in this browser');\n      }\n    } else {\n      // Turn off wake lock\n      await releaseWakeLock();\n    }\n  };\n\n  // Show score popup\n  const showScorePopup = () => {\n    console.log('Showing score popup with current deal:', gameState.currentDeal);\n    console.log('Current scores:', gameState.scores);\n    setGameState(prev => ({\n      ...prev,\n      showScorePopup: true\n    }));\n  };\n\n  // Hide score popup\n  const hideScorePopup = () => {\n    console.log(\"Hiding score popup\");\n    setGameState(prev => ({\n      ...prev,\n      showScorePopup: false\n    }));\n  };\n\n  // Show quit confirmation\n  const showQuitConfirmation = () => {\n    setShowQuitConfirm(true);\n  };\n\n  // Hide quit confirmation\n  const hideQuitConfirmation = () => {\n    setShowQuitConfirm(false);\n  };\n\n  // Handle quitting the app\n  const handleQuit = () => {\n    // This would actually close the app in a native environment\n    // For web, we'll just show an alert\n    alert('App would close here in the final version');\n    // You would add your native app closing code here\n  };\n\n  // Handle contract input changes\n  const handleContractChange = contract => {\n    updateCurrentDeal({\n      contract\n    });\n  };\n\n  // Handle trick input changes\n  const handleTrickChange = (result, tricks) => {\n    updateCurrentDeal({\n      result,\n      tricks\n    });\n\n    // Calculate score when tricks are selected\n    if (gameState.currentDeal.contract && result !== null) {\n      calculateScore(gameState.currentDeal.contract, result);\n    }\n  };\n\n  // Calculate bridge score based on contract and result\n  const calculateScore = (contract, result) => {\n    // This is already handled by your existing scoring code\n    // No changes needed here since you already calculate the score\n    // in your parseContract function and store it in gameState.currentDeal\n  };\n\n  // Format contract for display\n  const formatContractForDisplay = (contract, vulnerable) => {\n    if (!contract) return \"\";\n    console.log(\"Formatting contract:\", contract); // Debug log\n\n    const contractMatch = contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\n    if (!contractMatch) {\n      console.log(\"Contract match failed\"); // Debug log\n      return contract;\n    }\n    const level = contractMatch[1];\n    const suit = contractMatch[2];\n    const declarer = contractMatch[3];\n    const doubled = contractMatch[4];\n    console.log(\"Parsed contract parts:\", level, suit, declarer, doubled); // Debug log\n\n    // Get full declarer name\n    let declarerName = \"\";\n    switch (declarer) {\n      case 'N':\n        declarerName = \"North\";\n        break;\n      case 'E':\n        declarerName = \"East\";\n        break;\n      case 'S':\n        declarerName = \"South\";\n        break;\n      case 'W':\n        declarerName = \"West\";\n        break;\n      default:\n        declarerName = declarer;\n    }\n\n    // Format doubled status\n    let doubledText = \"\";\n    if (doubled === \"X\") {\n      doubledText = \" Doubled\";\n    } else if (doubled === \"XX\") {\n      doubledText = \" Redoubled\";\n    }\n\n    // Get vulnerability text\n    const isNS = declarer === 'N' || declarer === 'S';\n    const declarerVulnerable = isNS ? (vulnerable === null || vulnerable === void 0 ? void 0 : vulnerable.ns) || false : (vulnerable === null || vulnerable === void 0 ? void 0 : vulnerable.ew) || false;\n    const vulText = declarerVulnerable ? \"vul\" : \"not vul\";\n    const formattedContract = `${level}${suit} by ${declarerName}${doubledText} ${vulText}`;\n    console.log(\"Formatted contract:\", formattedContract); // Debug log\n\n    return formattedContract;\n  };\n\n  // Get a full description of the contract and result\n  const getFullContractDescription = currentDeal => {\n    var _currentDeal$vulnerab, _currentDeal$vulnerab2;\n    if (!currentDeal || !currentDeal.contract) return \"\";\n    const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\n    if (!contractMatch) return \"\";\n    const level = contractMatch[1];\n    const suit = contractMatch[2];\n    const declarer = contractMatch[3];\n    const doubled = contractMatch[4];\n\n    // Determine declarer's full name\n    let declarerName = \"\";\n    switch (declarer) {\n      case 'N':\n        declarerName = \"North\";\n        break;\n      case 'E':\n        declarerName = \"East\";\n        break;\n      case 'S':\n        declarerName = \"South\";\n        break;\n      case 'W':\n        declarerName = \"West\";\n        break;\n      default:\n        declarerName = declarer;\n    }\n\n    // Format doubled status\n    let doubledText = \"\";\n    if (doubled === \"X\") {\n      doubledText = \" Doubled\";\n    } else if (doubled === \"XX\") {\n      doubledText = \" Redoubled\";\n    }\n\n    // Calculate required tricks\n    const requiredTricks = parseInt(level) + 6;\n\n    // Calculate actual tricks\n    let actualTricks = requiredTricks + (currentDeal.result || 0);\n\n    // Determine if the contract was made or went down\n    const madeContract = currentDeal.result >= 0;\n\n    // Get vulnerability text\n    const isNS = declarer === 'N' || declarer === 'S';\n    const declarerVulnerable = isNS ? ((_currentDeal$vulnerab = currentDeal.vulnerable) === null || _currentDeal$vulnerab === void 0 ? void 0 : _currentDeal$vulnerab.ns) || false : ((_currentDeal$vulnerab2 = currentDeal.vulnerable) === null || _currentDeal$vulnerab2 === void 0 ? void 0 : _currentDeal$vulnerab2.ew) || false;\n    const vulText = declarerVulnerable ? \"vul\" : \"not vul\";\n\n    // Determine which side scores\n    const scoringSide = isNS ? 'NS' : 'EW';\n\n    // Calculate standard bridge score\n    const contractDetails = parseContract(currentDeal.contract, currentDeal.result, currentDeal.vulnerable);\n    const score = currentDeal.rawScore || 0;\n\n    // Determine which side gets the score\n    let scoreValue = 0;\n    let scoringSideDisplay = '';\n    if (madeContract) {\n      // If contract was made, declarer's side gets the score\n      scoreValue = isNS ? currentDeal.nsPoints : currentDeal.ewPoints;\n      scoringSideDisplay = scoringSide;\n    } else {\n      // If contract was defeated, defenders get the score\n      scoreValue = isNS ? currentDeal.ewPoints : currentDeal.nsPoints;\n      scoringSideDisplay = isNS ? 'EW' : 'NS';\n    }\n\n    // Result description\n    const resultDesc = madeContract ? currentDeal.result > 0 ? `making ${actualTricks} tricks (+${currentDeal.result})` : `making ${actualTricks} tricks (just made)` : `making ${actualTricks} tricks (down ${Math.abs(currentDeal.result)})`;\n\n    // Create the full description\n    const description = `${level}${suit} by ${declarerName}${doubledText} ${vulText} ${resultDesc} scoring ${scoreValue} for ${scoringSideDisplay}`;\n    return description;\n  };\n\n  // Reset the game state when component mounts or when a new game starts\n  useEffect(() => {\n    if (gameState.dealNumber === 1) {\n      // Clear any previously selected inputs\n      updateCurrentDeal({\n        contract: '',\n        declarer: '',\n        result: null,\n        tricks: null\n      });\n    }\n    // Important: Add gameState.dealNumber to dependencies but NOT updateCurrentDeal\n    // This prevents the infinite loop\n  }, [gameState.dealNumber, gameState.gameNumber]); // Remove updateCurrentDeal from dependencies\n\n  // NEW EFFECT: Ensure score popup is closed when deal changes or contract is reset\n  useEffect(() => {\n    // This ensures the showScorePopup state is properly reset when the deal changes\n    if (gameState.showScorePopup && gameState.currentDeal.contract === '') {\n      // If we're showing a score popup but have no contract, we probably just moved to a new deal\n      console.log('Automatically closing score popup on new deal');\n      setGameState(prev => ({\n        ...prev,\n        showScorePopup: false\n      }));\n    }\n  }, [gameState.dealNumber, gameState.currentDeal.contract, setGameState]);\n\n  // Styles for quit confirmation\n  const quitConfirmStyles = {\n    overlay: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0, 0, 0, 0.7)',\n      zIndex: 1000,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    container: {\n      backgroundColor: '#fff',\n      borderRadius: '8px',\n      padding: '20px',\n      width: '80%',\n      maxWidth: '320px',\n      boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)'\n    },\n    title: {\n      fontSize: '18px',\n      fontWeight: 'bold',\n      marginBottom: '15px',\n      textAlign: 'center',\n      color: '#1e5c8b'\n    },\n    message: {\n      marginBottom: '15px',\n      lineHeight: '1.4',\n      textAlign: 'center',\n      fontSize: '15px'\n    },\n    buttonContainer: {\n      display: 'flex',\n      justifyContent: 'space-around'\n    },\n    button: {\n      padding: '8px 15px',\n      borderRadius: '5px',\n      border: 'none',\n      color: '#fff',\n      fontWeight: 'bold',\n      cursor: 'pointer',\n      fontSize: '14px'\n    },\n    cancelButton: {\n      backgroundColor: '#1e5c8b'\n    },\n    confirmButton: {\n      backgroundColor: '#e74c3c'\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bridge-game-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"game-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-header-top\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-info-left\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Bonus Bridge\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-title\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\"Game #\", gameState.gameNumber]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-info-right\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Deal #\", gameState.dealNumber]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"vulnerability-info\",\n        children: [\"Dealer: \", determineDealer(gameState.dealNumber), \" - \", vulnerabilityDescription(gameState.currentDeal.vulnerable)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-board\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contract-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contract-label\",\n          children: \"Contract:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ContractInput, {\n          onContractChange: handleContractChange,\n          initialContract: gameState.currentDeal.contract\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this), gameState.currentDeal.contract && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"current-contract-display\",\n        children: [\"Current Contract: \", gameState.currentDeal.contract]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tricks-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tricks-label\",\n          children: \"Tricks Taken:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TrickInput, {\n          onTrickChange: handleTrickChange,\n          initialResult: gameState.currentDeal.result,\n          contract: gameState.currentDeal.contract\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 9\n      }, this), gameState.currentDeal.result !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result-display\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-text\",\n          children: [\"Result: \", gameState.currentDeal.result > 0 ? `+${gameState.currentDeal.result}` : gameState.currentDeal.result, \" (\", gameState.currentDeal.tricks, \" tricks)\", gameState.currentDeal.nsPoints || gameState.currentDeal.ewPoints ? `, Score: ${gameState.currentDeal.nsPoints ? gameState.currentDeal.nsPoints : gameState.currentDeal.ewPoints}` : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"game-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"top-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `keep-awake-btn ${gameState.isAwake ? 'active' : ''}`,\n          onClick: toggleKeepAwake,\n          children: [\"Keep Awake: \", gameState.isAwake ? 'ON' : 'OFF']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"score-btn\",\n          onClick: showScorePopup,\n          children: \"Show Scores\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bottom-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"quit-btn\",\n          onClick: showQuitConfirmation,\n          children: \"Quit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"new-game-btn\",\n          onClick: onNewGame,\n          children: \"New Game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 7\n    }, this), gameState.showScorePopup && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"score-popup\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"score-popup-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Current Scores\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ScoreTracking, {\n          scores: {\n            // Party Bridge scores (standard)\n            nsPoints: gameState.currentDeal.nsPoints || 0,\n            ewPoints: gameState.currentDeal.ewPoints || 0,\n            nsTotal: gameState.scores.nsTotal || 0,\n            ewTotal: gameState.scores.ewTotal || 0,\n            // Bonus Bridge scores\n            bonusNsPoints: gameState.currentDeal.bonusNsPoints || 0,\n            bonusEwPoints: gameState.currentDeal.bonusEwPoints || 0,\n            bonusNsTotal: gameState.scores.bonusNsTotal || 0,\n            bonusEwTotal: gameState.scores.bonusEwTotal || 0,\n            // Current deal tracking\n            currentDealNumber: gameState.dealNumber,\n            // Flag to show which type of score to display\n            showBonusScores: false // Show Party Bridge scores by default in popup\n          },\n          currentDeal: gameState.currentDeal,\n          onChooseBonusBridge: onChooseBonusBridge,\n          onChoosePartyBridge: onChoosePartyBridge\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-btn\",\n          onClick: hideScorePopup,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 9\n    }, this), showQuitConfirm && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: quitConfirmStyles.overlay,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: quitConfirmStyles.container,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: quitConfirmStyles.title,\n          children: \"Confirm Quit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: quitConfirmStyles.message,\n          children: \"Are you sure you want to quit? This will close the app and all unsaved data will be lost.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: quitConfirmStyles.buttonContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              ...quitConfirmStyles.button,\n              ...quitConfirmStyles.cancelButton\n            },\n            onClick: hideQuitConfirmation,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              ...quitConfirmStyles.button,\n              ...quitConfirmStyles.confirmButton\n            },\n            onClick: handleQuit,\n            children: \"Quit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 337,\n    columnNumber: 5\n  }, this);\n};\n_s(BridgeGameUI, \"eDhqpXvpgJUG52+I6gfA5qIH3rQ=\");\n_c = BridgeGameUI;\nexport default BridgeGameUI;\nvar _c;\n$RefreshReg$(_c, \"BridgeGameUI\");","map":{"version":3,"names":["React","useState","useEffect","ContractInput","TrickInput","ScoreTracking","requestWakeLock","releaseWakeLock","isWakeLockSupported","vulnerabilityDescription","parseContract","determineDealer","jsxDEV","_jsxDEV","BridgeGameUI","gameState","updateCurrentDeal","onNextDeal","onNewGame","setGameState","onChooseBonusBridge","onChoosePartyBridge","_s","showQuitConfirm","setShowQuitConfirm","toggleKeepAwake","newAwakeState","isAwake","prev","success","console","log","showScorePopup","currentDeal","scores","hideScorePopup","showQuitConfirmation","hideQuitConfirmation","handleQuit","alert","handleContractChange","contract","handleTrickChange","result","tricks","calculateScore","formatContractForDisplay","vulnerable","contractMatch","match","level","suit","declarer","doubled","declarerName","doubledText","isNS","declarerVulnerable","ns","ew","vulText","formattedContract","getFullContractDescription","_currentDeal$vulnerab","_currentDeal$vulnerab2","requiredTricks","parseInt","actualTricks","madeContract","scoringSide","contractDetails","score","rawScore","scoreValue","scoringSideDisplay","nsPoints","ewPoints","resultDesc","Math","abs","description","dealNumber","gameNumber","quitConfirmStyles","overlay","position","top","left","right","bottom","backgroundColor","zIndex","display","justifyContent","alignItems","container","borderRadius","padding","width","maxWidth","boxShadow","title","fontSize","fontWeight","marginBottom","textAlign","color","message","lineHeight","buttonContainer","button","border","cursor","cancelButton","confirmButton","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onContractChange","initialContract","onTrickChange","initialResult","onClick","nsTotal","ewTotal","bonusNsPoints","bonusEwPoints","bonusNsTotal","bonusEwTotal","currentDealNumber","showBonusScores","style","_c","$RefreshReg$"],"sources":["C:/Users/mikec/MikesBridge/bonusbridge/src/BridgeGameUI.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ContractInput from './components/ContractInput';\r\nimport TrickInput from './components/TrickInput';\r\nimport ScoreTracking from './components/ScoreTracking';\r\nimport { \r\n  requestWakeLock, \r\n  releaseWakeLock, \r\n  isWakeLockSupported \r\n} from './utils/wakeLock';\r\nimport { \r\n  vulnerabilityDescription, \r\n  parseContract,\r\n  determineDealer\r\n} from './utils/scoring';\r\nimport './global.css';\r\nimport './styles/BridgeGame.css';\r\n\r\nconst BridgeGameUI = ({ \r\n  gameState, \r\n  updateCurrentDeal, \r\n  onNextDeal, \r\n  onNewGame, \r\n  setGameState,\r\n  onChooseBonusBridge,\r\n  onChoosePartyBridge\r\n}) => {\r\n  // State for quit confirmation\r\n  const [showQuitConfirm, setShowQuitConfirm] = useState(false);\r\n  \r\n  // Function to keep the device awake\r\n  const toggleKeepAwake = async () => {\r\n    const newAwakeState = !gameState.isAwake;\r\n    \r\n    // Update state first for immediate UI feedback\r\n    setGameState(prev => ({\r\n      ...prev,\r\n      isAwake: newAwakeState\r\n    }));\r\n    \r\n    if (newAwakeState) {\r\n      // Turn on wake lock\r\n      if (isWakeLockSupported()) {\r\n        const success = await requestWakeLock();\r\n        if (!success) {\r\n          // Wake lock request failed, revert state\r\n          setGameState(prev => ({\r\n            ...prev,\r\n            isAwake: false\r\n          }));\r\n        }\r\n      } else {\r\n        console.log('Wake Lock API not supported in this browser');\r\n      }\r\n    } else {\r\n      // Turn off wake lock\r\n      await releaseWakeLock();\r\n    }\r\n  };\r\n\r\n  // Show score popup\r\n  const showScorePopup = () => {\r\n    console.log('Showing score popup with current deal:', gameState.currentDeal);\r\n    console.log('Current scores:', gameState.scores);\r\n    \r\n    setGameState(prev => ({\r\n      ...prev,\r\n      showScorePopup: true\r\n    }));\r\n  };\r\n\r\n  // Hide score popup\r\n  const hideScorePopup = () => {\r\n    console.log(\"Hiding score popup\");\r\n    setGameState(prev => ({\r\n      ...prev,\r\n      showScorePopup: false\r\n    }));\r\n  };\r\n\r\n  // Show quit confirmation\r\n  const showQuitConfirmation = () => {\r\n    setShowQuitConfirm(true);\r\n  };\r\n\r\n  // Hide quit confirmation\r\n  const hideQuitConfirmation = () => {\r\n    setShowQuitConfirm(false);\r\n  };\r\n\r\n  // Handle quitting the app\r\n  const handleQuit = () => {\r\n    // This would actually close the app in a native environment\r\n    // For web, we'll just show an alert\r\n    alert('App would close here in the final version');\r\n    // You would add your native app closing code here\r\n  };\r\n\r\n  // Handle contract input changes\r\n  const handleContractChange = (contract) => {\r\n    updateCurrentDeal({ contract });\r\n  };\r\n\r\n  // Handle trick input changes\r\n  const handleTrickChange = (result, tricks) => {\r\n    updateCurrentDeal({ result, tricks });\r\n    \r\n    // Calculate score when tricks are selected\r\n    if (gameState.currentDeal.contract && result !== null) {\r\n      calculateScore(gameState.currentDeal.contract, result);\r\n    }\r\n  };\r\n  \r\n  // Calculate bridge score based on contract and result\r\n  const calculateScore = (contract, result) => {\r\n    // This is already handled by your existing scoring code\r\n    // No changes needed here since you already calculate the score\r\n    // in your parseContract function and store it in gameState.currentDeal\r\n  };\r\n  \r\n  // Format contract for display\r\n  const formatContractForDisplay = (contract, vulnerable) => {\r\n    if (!contract) return \"\";\r\n    \r\n    console.log(\"Formatting contract:\", contract); // Debug log\r\n    \r\n    const contractMatch = contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\r\n    if (!contractMatch) {\r\n      console.log(\"Contract match failed\"); // Debug log\r\n      return contract;\r\n    }\r\n    \r\n    const level = contractMatch[1];\r\n    const suit = contractMatch[2];\r\n    const declarer = contractMatch[3];\r\n    const doubled = contractMatch[4];\r\n    \r\n    console.log(\"Parsed contract parts:\", level, suit, declarer, doubled); // Debug log\r\n    \r\n    // Get full declarer name\r\n    let declarerName = \"\";\r\n    switch (declarer) {\r\n      case 'N': declarerName = \"North\"; break;\r\n      case 'E': declarerName = \"East\"; break;\r\n      case 'S': declarerName = \"South\"; break;\r\n      case 'W': declarerName = \"West\"; break;\r\n      default: declarerName = declarer;\r\n    }\r\n    \r\n    // Format doubled status\r\n    let doubledText = \"\";\r\n    if (doubled === \"X\") {\r\n      doubledText = \" Doubled\";\r\n    } else if (doubled === \"XX\") {\r\n      doubledText = \" Redoubled\";\r\n    }\r\n    \r\n    // Get vulnerability text\r\n    const isNS = declarer === 'N' || declarer === 'S';\r\n    const declarerVulnerable = isNS ? \r\n      (vulnerable?.ns || false) : \r\n      (vulnerable?.ew || false);\r\n    \r\n    const vulText = declarerVulnerable ? \"vul\" : \"not vul\";\r\n    \r\n    const formattedContract = `${level}${suit} by ${declarerName}${doubledText} ${vulText}`;\r\n    console.log(\"Formatted contract:\", formattedContract); // Debug log\r\n    \r\n    return formattedContract;\r\n  };\r\n  \r\n  // Get a full description of the contract and result\r\n  const getFullContractDescription = (currentDeal) => {\r\n    if (!currentDeal || !currentDeal.contract) return \"\";\r\n    \r\n    const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\r\n    if (!contractMatch) return \"\";\r\n    \r\n    const level = contractMatch[1];\r\n    const suit = contractMatch[2];\r\n    const declarer = contractMatch[3];\r\n    const doubled = contractMatch[4];\r\n    \r\n    // Determine declarer's full name\r\n    let declarerName = \"\";\r\n    switch (declarer) {\r\n      case 'N': declarerName = \"North\"; break;\r\n      case 'E': declarerName = \"East\"; break;\r\n      case 'S': declarerName = \"South\"; break;\r\n      case 'W': declarerName = \"West\"; break;\r\n      default: declarerName = declarer;\r\n    }\r\n    \r\n    // Format doubled status\r\n    let doubledText = \"\";\r\n    if (doubled === \"X\") {\r\n      doubledText = \" Doubled\";\r\n    } else if (doubled === \"XX\") {\r\n      doubledText = \" Redoubled\";\r\n    }\r\n    \r\n    // Calculate required tricks\r\n    const requiredTricks = parseInt(level) + 6;\r\n    \r\n    // Calculate actual tricks\r\n    let actualTricks = requiredTricks + (currentDeal.result || 0);\r\n    \r\n    // Determine if the contract was made or went down\r\n    const madeContract = currentDeal.result >= 0;\r\n    \r\n    // Get vulnerability text\r\n    const isNS = declarer === 'N' || declarer === 'S';\r\n    const declarerVulnerable = isNS ? \r\n      (currentDeal.vulnerable?.ns || false) : \r\n      (currentDeal.vulnerable?.ew || false);\r\n    \r\n    const vulText = declarerVulnerable ? \"vul\" : \"not vul\";\r\n    \r\n    // Determine which side scores\r\n    const scoringSide = isNS ? 'NS' : 'EW';\r\n    \r\n    // Calculate standard bridge score\r\n    const contractDetails = parseContract(currentDeal.contract, currentDeal.result, currentDeal.vulnerable);\r\n    const score = currentDeal.rawScore || 0;\r\n    \r\n    // Determine which side gets the score\r\n    let scoreValue = 0;\r\n    let scoringSideDisplay = '';\r\n    \r\n    if (madeContract) {\r\n      // If contract was made, declarer's side gets the score\r\n      scoreValue = isNS ? currentDeal.nsPoints : currentDeal.ewPoints;\r\n      scoringSideDisplay = scoringSide;\r\n    } else {\r\n      // If contract was defeated, defenders get the score\r\n      scoreValue = isNS ? currentDeal.ewPoints : currentDeal.nsPoints;\r\n      scoringSideDisplay = isNS ? 'EW' : 'NS';\r\n    }\r\n    \r\n    // Result description\r\n    const resultDesc = madeContract ? \r\n      (currentDeal.result > 0 ? \r\n        `making ${actualTricks} tricks (+${currentDeal.result})` : \r\n        `making ${actualTricks} tricks (just made)`) : \r\n      `making ${actualTricks} tricks (down ${Math.abs(currentDeal.result)})`;\r\n    \r\n    // Create the full description\r\n    const description = `${level}${suit} by ${declarerName}${doubledText} ${vulText} ${resultDesc} scoring ${scoreValue} for ${scoringSideDisplay}`;\r\n    \r\n    return description;\r\n  };\r\n\r\n  // Reset the game state when component mounts or when a new game starts\r\n  useEffect(() => {\r\n    if (gameState.dealNumber === 1) {\r\n      // Clear any previously selected inputs\r\n      updateCurrentDeal({\r\n        contract: '',\r\n        declarer: '',\r\n        result: null,\r\n        tricks: null\r\n      });\r\n    }\r\n  // Important: Add gameState.dealNumber to dependencies but NOT updateCurrentDeal\r\n  // This prevents the infinite loop\r\n  }, [gameState.dealNumber, gameState.gameNumber]); // Remove updateCurrentDeal from dependencies\r\n\r\n  // NEW EFFECT: Ensure score popup is closed when deal changes or contract is reset\r\n  useEffect(() => {\r\n    // This ensures the showScorePopup state is properly reset when the deal changes\r\n    if (gameState.showScorePopup && gameState.currentDeal.contract === '') {\r\n      // If we're showing a score popup but have no contract, we probably just moved to a new deal\r\n      console.log('Automatically closing score popup on new deal');\r\n      setGameState(prev => ({\r\n        ...prev,\r\n        showScorePopup: false\r\n      }));\r\n    }\r\n  }, [gameState.dealNumber, gameState.currentDeal.contract, setGameState]);\r\n\r\n  // Styles for quit confirmation\r\n  const quitConfirmStyles = {\r\n    overlay: {\r\n      position: 'fixed',\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n      zIndex: 1000,\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center'\r\n    },\r\n    container: {\r\n      backgroundColor: '#fff',\r\n      borderRadius: '8px',\r\n      padding: '20px',\r\n      width: '80%',\r\n      maxWidth: '320px',\r\n      boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)'\r\n    },\r\n    title: {\r\n      fontSize: '18px',\r\n      fontWeight: 'bold',\r\n      marginBottom: '15px',\r\n      textAlign: 'center',\r\n      color: '#1e5c8b'\r\n    },\r\n    message: {\r\n      marginBottom: '15px',\r\n      lineHeight: '1.4',\r\n      textAlign: 'center',\r\n      fontSize: '15px'\r\n    },\r\n    buttonContainer: {\r\n      display: 'flex',\r\n      justifyContent: 'space-around'\r\n    },\r\n    button: {\r\n      padding: '8px 15px',\r\n      borderRadius: '5px',\r\n      border: 'none',\r\n      color: '#fff',\r\n      fontWeight: 'bold',\r\n      cursor: 'pointer',\r\n      fontSize: '14px'\r\n    },\r\n    cancelButton: {\r\n      backgroundColor: '#1e5c8b'\r\n    },\r\n    confirmButton: {\r\n      backgroundColor: '#e74c3c'\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bridge-game-container\">\r\n      <header className=\"game-header\">\r\n        <div className=\"game-header-top\">\r\n          <div className=\"game-info-left\">\r\n            <span>Bonus Bridge</span>\r\n          </div>\r\n          <div className=\"game-title\">\r\n            <h1>Game #{gameState.gameNumber}</h1>\r\n          </div>\r\n          <div className=\"game-info-right\">\r\n            <span>Deal #{gameState.dealNumber}</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"vulnerability-info\">\r\n          Dealer: {determineDealer(gameState.dealNumber)} - {vulnerabilityDescription(gameState.currentDeal.vulnerable)}\r\n        </div>\r\n      </header>\r\n      \r\n      <div className=\"game-board\">\r\n        <div className=\"contract-container\">\r\n          <div className=\"contract-label\">Contract:</div>\r\n          <ContractInput \r\n            onContractChange={handleContractChange}\r\n            initialContract={gameState.currentDeal.contract}\r\n          />\r\n        </div>\r\n        \r\n        {gameState.currentDeal.contract && (\r\n          <div className=\"current-contract-display\">\r\n            Current Contract: {gameState.currentDeal.contract}\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"tricks-container\">\r\n          <div className=\"tricks-label\">Tricks Taken:</div>\r\n          <TrickInput \r\n            onTrickChange={handleTrickChange}\r\n            initialResult={gameState.currentDeal.result}\r\n            contract={gameState.currentDeal.contract}\r\n          />\r\n        </div>\r\n        \r\n        {gameState.currentDeal.result !== null && (\r\n          <div className=\"result-display\">\r\n            <div className=\"result-text\">\r\n              Result: {gameState.currentDeal.result > 0 ? `+${gameState.currentDeal.result}` : gameState.currentDeal.result} ({gameState.currentDeal.tricks} tricks)\r\n              {gameState.currentDeal.nsPoints || gameState.currentDeal.ewPoints ? \r\n                `, Score: ${gameState.currentDeal.nsPoints ? gameState.currentDeal.nsPoints : gameState.currentDeal.ewPoints}` : ''}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      <footer className=\"game-controls\">\r\n        <div className=\"top-controls\">\r\n          <button \r\n            className={`keep-awake-btn ${gameState.isAwake ? 'active' : ''}`}\r\n            onClick={toggleKeepAwake}\r\n          >\r\n            Keep Awake: {gameState.isAwake ? 'ON' : 'OFF'}\r\n          </button>\r\n          \r\n          <button \r\n            className=\"score-btn\"\r\n            onClick={showScorePopup}\r\n          >\r\n            Show Scores\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"bottom-controls\">\r\n          <button \r\n            className=\"quit-btn\"\r\n            onClick={showQuitConfirmation}\r\n          >\r\n            Quit\r\n          </button>\r\n          \r\n          <button \r\n            className=\"new-game-btn\"\r\n            onClick={onNewGame}\r\n          >\r\n            New Game\r\n          </button>\r\n        </div>\r\n      </footer>\r\n      \r\n      {gameState.showScorePopup && (\r\n        <div className=\"score-popup\">\r\n          <div className=\"score-popup-content\">\r\n            <h2>Current Scores</h2>\r\n            <ScoreTracking \r\n              scores={{\r\n                // Party Bridge scores (standard)\r\n                nsPoints: gameState.currentDeal.nsPoints || 0,\r\n                ewPoints: gameState.currentDeal.ewPoints || 0,\r\n                nsTotal: gameState.scores.nsTotal || 0,\r\n                ewTotal: gameState.scores.ewTotal || 0,\r\n                \r\n                // Bonus Bridge scores\r\n                bonusNsPoints: gameState.currentDeal.bonusNsPoints || 0,\r\n                bonusEwPoints: gameState.currentDeal.bonusEwPoints || 0,\r\n                bonusNsTotal: gameState.scores.bonusNsTotal || 0,\r\n                bonusEwTotal: gameState.scores.bonusEwTotal || 0,\r\n                \r\n                // Current deal tracking\r\n                currentDealNumber: gameState.dealNumber,\r\n                \r\n                // Flag to show which type of score to display\r\n                showBonusScores: false // Show Party Bridge scores by default in popup\r\n              }}\r\n              currentDeal={gameState.currentDeal}\r\n              onChooseBonusBridge={onChooseBonusBridge}\r\n              onChoosePartyBridge={onChoosePartyBridge}\r\n            />\r\n            <button className=\"close-btn\" onClick={hideScorePopup}>\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Quit Confirmation Popup */}\r\n      {showQuitConfirm && (\r\n        <div style={quitConfirmStyles.overlay}>\r\n          <div style={quitConfirmStyles.container}>\r\n            <h2 style={quitConfirmStyles.title}>Confirm Quit</h2>\r\n            <p style={quitConfirmStyles.message}>\r\n              Are you sure you want to quit? This will close the app and all unsaved data will be lost.\r\n            </p>\r\n            <div style={quitConfirmStyles.buttonContainer}>\r\n              <button \r\n                style={{...quitConfirmStyles.button, ...quitConfirmStyles.cancelButton}}\r\n                onClick={hideQuitConfirmation}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button \r\n                style={{...quitConfirmStyles.button, ...quitConfirmStyles.confirmButton}}\r\n                onClick={handleQuit}\r\n              >\r\n                Quit\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BridgeGameUI;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}