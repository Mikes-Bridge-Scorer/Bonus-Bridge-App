{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mikec\\\\MikesBridge\\\\bonusbridge\\\\src\\\\components\\\\FinalScoreAnalysis.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './FinalScoreAnalysis.css';\nimport { determineVulnerability } from '../utils/scoring';\nimport BonusBridgeExplanation from './BonusBridgeExplanation';\n\n/**\r\n * FinalScoreAnalysis Component\r\n * Displays the final score analysis after bonus bridge calculations\r\n * @param {Object} props - Component props\r\n * @param {Object} props.analysisData - Analysis data from ScoreAdjustment\r\n * @param {Object} props.currentDeal - Current deal information\r\n * @param {Function} props.onSave - Function to save final analysis\r\n * @param {Function} props.onEdit - Function to return to ScoreAdjustment\r\n * @param {Function} props.setGameState - Function to update game state\r\n * @param {Object} props.scores - Current game scores\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FinalScoreAnalysis = ({\n  analysisData,\n  currentDeal,\n  onSave,\n  onEdit,\n  setGameState,\n  scores\n}) => {\n  _s();\n  const [showDetails, setShowDetails] = useState(true);\n  const [showExplanation, setShowExplanation] = useState(false);\n\n  // Ensure we have analysis data\n  useEffect(() => {\n    if (!analysisData) {\n      console.error('No analysis data provided to FinalScoreAnalysis');\n    } else {\n      console.log('Analysis data received:', analysisData);\n      console.log('Current deal:', currentDeal);\n    }\n  }, [analysisData, currentDeal]);\n\n  // Toggle calculation details visibility\n  const toggleDetails = () => {\n    setShowDetails(prev => !prev);\n  };\n\n  // Show explanation popup\n  const handleShowExplanation = () => {\n    setShowExplanation(true);\n  };\n\n  // Hide explanation popup\n  const handleCloseExplanation = () => {\n    setShowExplanation(false);\n  };\n\n  // Format a number to display with correct sign\n  const formatNumber = num => {\n    if (num === undefined || num === null) return '0';\n    const formattedNum = parseFloat(num).toFixed(2);\n    if (formattedNum > 0) {\n      return `+${formattedNum}`;\n    }\n    return formattedNum;\n  };\n\n  // Handle continue to next deal button - MAIN FIX IS HERE\n  const handleContinueToNextDeal = () => {\n    // First, ensure we have the complete deal data with bonus scoring\n    const currentDealWithBonusScores = {\n      ...currentDeal,\n      dealNumber: currentDeal.dealNumber,\n      contract: currentDeal.contract,\n      result: currentDeal.result,\n      tricks: currentDeal.tricks,\n      vulnerable: currentDeal.vulnerable,\n      nsPoints: analysisData.nsPoints || 0,\n      // Bonus scoring points\n      ewPoints: analysisData.ewPoints || 0,\n      // Bonus scoring points\n      rawScore: currentDeal.rawScore || 0,\n      // Original raw score\n      rawNsPoints: currentDeal.nsPoints || 0,\n      // Original NS points\n      rawEwPoints: currentDeal.ewPoints || 0,\n      // Original EW points\n      bonusScoringEnabled: true,\n      handAnalysis: analysisData,\n      // Store all analysis data for historical reference\n      calculationSteps: analysisData.calculationSteps || [] // Store calculation steps\n    };\n\n    // Log the deal being saved\n    console.log('Saving deal with bonus scoring:', currentDealWithBonusScores);\n\n    // Calculate running totals using the bonus scoring points\n    const nsScores = currentDealWithBonusScores.nsPoints > 0;\n    const ewScores = currentDealWithBonusScores.ewPoints > 0;\n\n    // Get the absolute max value for NS or EW points as the raw score\n    const bonusRawScore = Math.max(Math.abs(currentDealWithBonusScores.nsPoints || 0), Math.abs(currentDealWithBonusScores.ewPoints || 0));\n\n    // Calculate new running totals\n    const nsRawTotal = nsScores ? (scores.nsTotal || 0) + bonusRawScore : scores.nsTotal || 0;\n    const ewRawTotal = ewScores ? (scores.ewTotal || 0) + bonusRawScore : scores.ewTotal || 0;\n    console.log('Calculating new running totals:', {\n      nsScores,\n      ewScores,\n      bonusRawScore,\n      previousNsTotal: scores.nsTotal || 0,\n      previousEwTotal: scores.ewTotal || 0,\n      newNsTotal: nsRawTotal,\n      newEwTotal: ewRawTotal\n    });\n\n    // Create updated scores object\n    const updatedScores = {\n      nsPoints: currentDealWithBonusScores.nsPoints,\n      ewPoints: currentDealWithBonusScores.ewPoints,\n      nsTotal: nsRawTotal,\n      ewTotal: ewRawTotal\n    };\n\n    // Pass the final analysis to the parent component\n    onSave({\n      currentDealWithBonusScores,\n      updatedScores,\n      nsPoints: currentDealWithBonusScores.nsPoints,\n      ewPoints: currentDealWithBonusScores.ewPoints\n    });\n  };\n\n  // If no analysis data, show loading\n  if (!analysisData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"final-score-analysis\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"Loading analysis data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Get calculation steps from analysis data\n  const {\n    rawScore,\n    hcpAdjustment,\n    afterHcpAdjustment,\n    performanceVariance,\n    afterPerformanceAssessment,\n    contractTypeAdjustment,\n    contractTypeDescription,\n    afterContractAdjustments,\n    distributionAdjustment,\n    defenderReward,\n    nsPoints,\n    ewPoints\n  } = analysisData;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"final-score-analysis\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"analysis-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Final Score Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Bonus Bridge Score Calculation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"explanation-btn\",\n        onClick: handleShowExplanation,\n        children: \"What is this?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contract-summary\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Contract: \", currentDeal.contract, \" \", currentDeal.result >= 0 ? `Made ${currentDeal.result > 0 ? '+' + currentDeal.result : 'exactly'}` : `Down ${Math.abs(currentDeal.result)}`]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Raw score: \", currentDeal.rawScore, \" points\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"analysis-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Hand Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"analysis-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-label\",\n            children: \"Combined HCP (Declarer + Dummy):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: analysisData.totalHCP\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-label\",\n            children: \"Declarer HCP Percentage:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: [analysisData.declarerHCPPercentage, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-label\",\n            children: \"Defender HCP Percentage:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: [analysisData.defenderHCPPercentage, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-label\",\n            children: \"HCP Advantage:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: [analysisData.hcpAdvantage, \"% to \", analysisData.advantageSide]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-label\",\n            children: \"Number of Singletons:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: analysisData.singletons\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-label\",\n            children: \"Number of Voids:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: analysisData.voids\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-label\",\n            children: \"Number of Long Suits (6+ cards):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: analysisData.longSuits\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-label\",\n            children: \"Distribution Points:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: analysisData.distributionPoints\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-label\",\n            children: \"Expected HCP for Contract:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: analysisData.expectedHCP\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-label\",\n            children: \"Contract Expected Tricks:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: analysisData.contractExpectedTricks\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-label\",\n            children: \"Hand Expected Tricks:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"detail-value\",\n            children: analysisData.handExpectedTricks\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"analysis-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Calculation Steps (\", currentDeal.result >= 0 ? 'Made Contract' : 'Defeated Contract', \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"toggle-details-btn\",\n        onClick: toggleDetails,\n        children: showDetails ? 'Hide Details' : 'Show Details'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), showDetails && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calculation-steps\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-label\",\n            children: \"1. Raw Score / 20:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-value\",\n            children: [rawScore, \" points\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-label\",\n            children: \"2. HCP Adjustment:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-value\",\n            children: [formatNumber(hcpAdjustment), \" points\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-label\",\n            children: \"3. After HCP Adjustment:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-value\",\n            children: [afterHcpAdjustment, \" points\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-label\",\n            children: \"4. Performance Variance:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-value\",\n            children: [performanceVariance, \" tricks\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-label\",\n            children: \"5. After Performance Assessment:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-value\",\n            children: [afterPerformanceAssessment, \" points\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-label\",\n            children: \"6. Contract Type Adjustment:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-value\",\n            children: [formatNumber(contractTypeAdjustment), \" \", contractTypeDescription || '(Game)']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-label\",\n            children: \"7. After Contract Adjustments:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-value\",\n            children: [afterContractAdjustments, \" points\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-label\",\n            children: \"8. Distribution Adjustment:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-value\",\n            children: [distributionAdjustment, \" points\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-label\",\n            children: \"9. Defender Reward:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-value\",\n            children: [defenderReward, \" points\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"final-scores-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Final Scores\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"final-scores\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"team-score ns-score\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"team-label\",\n            children: \"NS Score:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"team-value\",\n            children: [nsPoints, \" points\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"team-score ew-score\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"team-label\",\n            children: \"EW Score:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"team-value\",\n            children: [ewPoints, \" points\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"action-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"edit-btn\",\n        onClick: onEdit,\n        children: \"Edit Adjustments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"continue-btn\",\n        onClick: handleContinueToNextDeal,\n        children: \"Continue to Next Deal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }, this), showExplanation && /*#__PURE__*/_jsxDEV(BonusBridgeExplanation, {\n      onClose: handleCloseExplanation\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 5\n  }, this);\n};\n_s(FinalScoreAnalysis, \"H9rdcrR/6CLldD0xRg1+RtGkNPM=\");\n_c = FinalScoreAnalysis;\nexport default FinalScoreAnalysis;\nvar _c;\n$RefreshReg$(_c, \"FinalScoreAnalysis\");","map":{"version":3,"names":["React","useState","useEffect","determineVulnerability","BonusBridgeExplanation","jsxDEV","_jsxDEV","FinalScoreAnalysis","analysisData","currentDeal","onSave","onEdit","setGameState","scores","_s","showDetails","setShowDetails","showExplanation","setShowExplanation","console","error","log","toggleDetails","prev","handleShowExplanation","handleCloseExplanation","formatNumber","num","undefined","formattedNum","parseFloat","toFixed","handleContinueToNextDeal","currentDealWithBonusScores","dealNumber","contract","result","tricks","vulnerable","nsPoints","ewPoints","rawScore","rawNsPoints","rawEwPoints","bonusScoringEnabled","handAnalysis","calculationSteps","nsScores","ewScores","bonusRawScore","Math","max","abs","nsRawTotal","nsTotal","ewRawTotal","ewTotal","previousNsTotal","previousEwTotal","newNsTotal","newEwTotal","updatedScores","className","children","fileName","_jsxFileName","lineNumber","columnNumber","hcpAdjustment","afterHcpAdjustment","performanceVariance","afterPerformanceAssessment","contractTypeAdjustment","contractTypeDescription","afterContractAdjustments","distributionAdjustment","defenderReward","onClick","totalHCP","declarerHCPPercentage","defenderHCPPercentage","hcpAdvantage","advantageSide","singletons","voids","longSuits","distributionPoints","expectedHCP","contractExpectedTricks","handExpectedTricks","onClose","_c","$RefreshReg$"],"sources":["C:/Users/mikec/MikesBridge/bonusbridge/src/components/FinalScoreAnalysis.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './FinalScoreAnalysis.css';\r\nimport { determineVulnerability } from '../utils/scoring';\r\nimport BonusBridgeExplanation from './BonusBridgeExplanation';\r\n\r\n/**\r\n * FinalScoreAnalysis Component\r\n * Displays the final score analysis after bonus bridge calculations\r\n * @param {Object} props - Component props\r\n * @param {Object} props.analysisData - Analysis data from ScoreAdjustment\r\n * @param {Object} props.currentDeal - Current deal information\r\n * @param {Function} props.onSave - Function to save final analysis\r\n * @param {Function} props.onEdit - Function to return to ScoreAdjustment\r\n * @param {Function} props.setGameState - Function to update game state\r\n * @param {Object} props.scores - Current game scores\r\n */\r\nconst FinalScoreAnalysis = ({ \r\n  analysisData, \r\n  currentDeal, \r\n  onSave, \r\n  onEdit, \r\n  setGameState, \r\n  scores \r\n}) => {\r\n  const [showDetails, setShowDetails] = useState(true);\r\n  const [showExplanation, setShowExplanation] = useState(false);\r\n  \r\n  // Ensure we have analysis data\r\n  useEffect(() => {\r\n    if (!analysisData) {\r\n      console.error('No analysis data provided to FinalScoreAnalysis');\r\n    } else {\r\n      console.log('Analysis data received:', analysisData);\r\n      console.log('Current deal:', currentDeal);\r\n    }\r\n  }, [analysisData, currentDeal]);\r\n  \r\n  // Toggle calculation details visibility\r\n  const toggleDetails = () => {\r\n    setShowDetails(prev => !prev);\r\n  };\r\n  \r\n  // Show explanation popup\r\n  const handleShowExplanation = () => {\r\n    setShowExplanation(true);\r\n  };\r\n  \r\n  // Hide explanation popup\r\n  const handleCloseExplanation = () => {\r\n    setShowExplanation(false);\r\n  };\r\n  \r\n  // Format a number to display with correct sign\r\n  const formatNumber = (num) => {\r\n    if (num === undefined || num === null) return '0';\r\n    \r\n    const formattedNum = parseFloat(num).toFixed(2);\r\n    if (formattedNum > 0) {\r\n      return `+${formattedNum}`;\r\n    }\r\n    return formattedNum;\r\n  };\r\n  \r\n  // Handle continue to next deal button - MAIN FIX IS HERE\r\n  const handleContinueToNextDeal = () => {\r\n    // First, ensure we have the complete deal data with bonus scoring\r\n    const currentDealWithBonusScores = {\r\n      ...currentDeal,\r\n      dealNumber: currentDeal.dealNumber,\r\n      contract: currentDeal.contract,\r\n      result: currentDeal.result,\r\n      tricks: currentDeal.tricks,\r\n      vulnerable: currentDeal.vulnerable,\r\n      nsPoints: analysisData.nsPoints || 0, // Bonus scoring points\r\n      ewPoints: analysisData.ewPoints || 0, // Bonus scoring points\r\n      rawScore: currentDeal.rawScore || 0,  // Original raw score\r\n      rawNsPoints: currentDeal.nsPoints || 0, // Original NS points\r\n      rawEwPoints: currentDeal.ewPoints || 0, // Original EW points\r\n      bonusScoringEnabled: true,\r\n      handAnalysis: analysisData, // Store all analysis data for historical reference\r\n      calculationSteps: analysisData.calculationSteps || [] // Store calculation steps\r\n    };\r\n    \r\n    // Log the deal being saved\r\n    console.log('Saving deal with bonus scoring:', currentDealWithBonusScores);\r\n    \r\n    // Calculate running totals using the bonus scoring points\r\n    const nsScores = currentDealWithBonusScores.nsPoints > 0;\r\n    const ewScores = currentDealWithBonusScores.ewPoints > 0;\r\n    \r\n    // Get the absolute max value for NS or EW points as the raw score\r\n    const bonusRawScore = Math.max(\r\n      Math.abs(currentDealWithBonusScores.nsPoints || 0),\r\n      Math.abs(currentDealWithBonusScores.ewPoints || 0)\r\n    );\r\n    \r\n    // Calculate new running totals\r\n    const nsRawTotal = nsScores ? \r\n      (scores.nsTotal || 0) + bonusRawScore : \r\n      (scores.nsTotal || 0);\r\n    \r\n    const ewRawTotal = ewScores ? \r\n      (scores.ewTotal || 0) + bonusRawScore : \r\n      (scores.ewTotal || 0);\r\n    \r\n    console.log('Calculating new running totals:', {\r\n      nsScores,\r\n      ewScores,\r\n      bonusRawScore,\r\n      previousNsTotal: scores.nsTotal || 0,\r\n      previousEwTotal: scores.ewTotal || 0,\r\n      newNsTotal: nsRawTotal,\r\n      newEwTotal: ewRawTotal\r\n    });\r\n    \r\n    // Create updated scores object\r\n    const updatedScores = {\r\n      nsPoints: currentDealWithBonusScores.nsPoints,\r\n      ewPoints: currentDealWithBonusScores.ewPoints,\r\n      nsTotal: nsRawTotal,\r\n      ewTotal: ewRawTotal\r\n    };\r\n    \r\n    // Pass the final analysis to the parent component\r\n    onSave({\r\n      currentDealWithBonusScores,\r\n      updatedScores,\r\n      nsPoints: currentDealWithBonusScores.nsPoints,\r\n      ewPoints: currentDealWithBonusScores.ewPoints\r\n    });\r\n  };\r\n  \r\n  // If no analysis data, show loading\r\n  if (!analysisData) {\r\n    return (\r\n      <div className=\"final-score-analysis\">\r\n        <div className=\"loading\">Loading analysis data...</div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  // Get calculation steps from analysis data\r\n  const {\r\n    rawScore,\r\n    hcpAdjustment,\r\n    afterHcpAdjustment,\r\n    performanceVariance,\r\n    afterPerformanceAssessment,\r\n    contractTypeAdjustment,\r\n    contractTypeDescription,\r\n    afterContractAdjustments,\r\n    distributionAdjustment,\r\n    defenderReward,\r\n    nsPoints,\r\n    ewPoints\r\n  } = analysisData;\r\n  \r\n  return (\r\n    <div className=\"final-score-analysis\">\r\n      <header className=\"analysis-header\">\r\n        <h1>Final Score Analysis</h1>\r\n        <h2>Bonus Bridge Score Calculation</h2>\r\n        <button \r\n          className=\"explanation-btn\"\r\n          onClick={handleShowExplanation}\r\n        >\r\n          What is this?\r\n        </button>\r\n      </header>\r\n      \r\n      <div className=\"contract-summary\">\r\n        <h3>\r\n          Contract: {currentDeal.contract} {currentDeal.result >= 0 ? \r\n            `Made ${currentDeal.result > 0 ? '+' + currentDeal.result : 'exactly'}` : \r\n            `Down ${Math.abs(currentDeal.result)}`}\r\n        </h3>\r\n        <p>Raw score: {currentDeal.rawScore} points</p>\r\n      </div>\r\n      \r\n      <div className=\"analysis-section\">\r\n        <h3>Hand Analysis</h3>\r\n        <div className=\"analysis-details\">\r\n          <div className=\"detail-row\">\r\n            <span className=\"detail-label\">Combined HCP (Declarer + Dummy):</span>\r\n            <span className=\"detail-value\">{analysisData.totalHCP}</span>\r\n          </div>\r\n          <div className=\"detail-row\">\r\n            <span className=\"detail-label\">Declarer HCP Percentage:</span>\r\n            <span className=\"detail-value\">{analysisData.declarerHCPPercentage}%</span>\r\n          </div>\r\n          <div className=\"detail-row\">\r\n            <span className=\"detail-label\">Defender HCP Percentage:</span>\r\n            <span className=\"detail-value\">{analysisData.defenderHCPPercentage}%</span>\r\n          </div>\r\n          <div className=\"detail-row\">\r\n            <span className=\"detail-label\">HCP Advantage:</span>\r\n            <span className=\"detail-value\">{analysisData.hcpAdvantage}% to {analysisData.advantageSide}</span>\r\n          </div>\r\n          <div className=\"detail-row\">\r\n            <span className=\"detail-label\">Number of Singletons:</span>\r\n            <span className=\"detail-value\">{analysisData.singletons}</span>\r\n          </div>\r\n          <div className=\"detail-row\">\r\n            <span className=\"detail-label\">Number of Voids:</span>\r\n            <span className=\"detail-value\">{analysisData.voids}</span>\r\n          </div>\r\n          <div className=\"detail-row\">\r\n            <span className=\"detail-label\">Number of Long Suits (6+ cards):</span>\r\n            <span className=\"detail-value\">{analysisData.longSuits}</span>\r\n          </div>\r\n          <div className=\"detail-row\">\r\n            <span className=\"detail-label\">Distribution Points:</span>\r\n            <span className=\"detail-value\">{analysisData.distributionPoints}</span>\r\n          </div>\r\n          <div className=\"detail-row\">\r\n            <span className=\"detail-label\">Expected HCP for Contract:</span>\r\n            <span className=\"detail-value\">{analysisData.expectedHCP}</span>\r\n          </div>\r\n          <div className=\"detail-row\">\r\n            <span className=\"detail-label\">Contract Expected Tricks:</span>\r\n            <span className=\"detail-value\">{analysisData.contractExpectedTricks}</span>\r\n          </div>\r\n          <div className=\"detail-row\">\r\n            <span className=\"detail-label\">Hand Expected Tricks:</span>\r\n            <span className=\"detail-value\">{analysisData.handExpectedTricks}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"analysis-section\">\r\n        <h3>\r\n          Calculation Steps ({currentDeal.result >= 0 ? 'Made Contract' : 'Defeated Contract'})\r\n        </h3>\r\n        <button className=\"toggle-details-btn\" onClick={toggleDetails}>\r\n          {showDetails ? 'Hide Details' : 'Show Details'}\r\n        </button>\r\n        {showDetails && (\r\n          <div className=\"calculation-steps\">\r\n            <div className=\"step-row\">\r\n              <span className=\"step-label\">1. Raw Score / 20:</span>\r\n              <span className=\"step-value\">{rawScore} points</span>\r\n            </div>\r\n            <div className=\"step-row\">\r\n              <span className=\"step-label\">2. HCP Adjustment:</span>\r\n              <span className=\"step-value\">{formatNumber(hcpAdjustment)} points</span>\r\n            </div>\r\n            <div className=\"step-row\">\r\n              <span className=\"step-label\">3. After HCP Adjustment:</span>\r\n              <span className=\"step-value\">{afterHcpAdjustment} points</span>\r\n            </div>\r\n            <div className=\"step-row\">\r\n              <span className=\"step-label\">4. Performance Variance:</span>\r\n              <span className=\"step-value\">{performanceVariance} tricks</span>\r\n            </div>\r\n            <div className=\"step-row\">\r\n              <span className=\"step-label\">5. After Performance Assessment:</span>\r\n              <span className=\"step-value\">{afterPerformanceAssessment} points</span>\r\n            </div>\r\n            <div className=\"step-row\">\r\n              <span className=\"step-label\">6. Contract Type Adjustment:</span>\r\n              <span className=\"step-value\">{formatNumber(contractTypeAdjustment)} {contractTypeDescription || '(Game)'}</span>\r\n            </div>\r\n            <div className=\"step-row\">\r\n              <span className=\"step-label\">7. After Contract Adjustments:</span>\r\n              <span className=\"step-value\">{afterContractAdjustments} points</span>\r\n            </div>\r\n            <div className=\"step-row\">\r\n              <span className=\"step-label\">8. Distribution Adjustment:</span>\r\n              <span className=\"step-value\">{distributionAdjustment} points</span>\r\n            </div>\r\n            <div className=\"step-row\">\r\n              <span className=\"step-label\">9. Defender Reward:</span>\r\n              <span className=\"step-value\">{defenderReward} points</span>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      <div className=\"final-scores-container\">\r\n        <h3>Final Scores</h3>\r\n        <div className=\"final-scores\">\r\n          <div className=\"team-score ns-score\">\r\n            <span className=\"team-label\">NS Score:</span>\r\n            <span className=\"team-value\">{nsPoints} points</span>\r\n          </div>\r\n          <div className=\"team-score ew-score\">\r\n            <span className=\"team-label\">EW Score:</span>\r\n            <span className=\"team-value\">{ewPoints} points</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"action-buttons\">\r\n        <button \r\n          className=\"edit-btn\"\r\n          onClick={onEdit}\r\n        >\r\n          Edit Adjustments\r\n        </button>\r\n        \r\n        <button \r\n          className=\"continue-btn\"\r\n          onClick={handleContinueToNextDeal}\r\n        >\r\n          Continue to Next Deal\r\n        </button>\r\n      </div>\r\n      \r\n      {/* Bonus Bridge Explanation Popup */}\r\n      {showExplanation && (\r\n        <BonusBridgeExplanation onClose={handleCloseExplanation} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FinalScoreAnalysis;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAO,0BAA0B;AACjC,SAASC,sBAAsB,QAAQ,kBAAkB;AACzD,OAAOC,sBAAsB,MAAM,0BAA0B;;AAE7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA,SAAAC,MAAA,IAAAC,OAAA;AAWA,MAAMC,kBAAkB,GAAGA,CAAC;EAC1BC,YAAY;EACZC,WAAW;EACXC,MAAM;EACNC,MAAM;EACNC,YAAY;EACZC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACgB,eAAe,EAAEC,kBAAkB,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;;EAE7D;EACAC,SAAS,CAAC,MAAM;IACd,IAAI,CAACM,YAAY,EAAE;MACjBW,OAAO,CAACC,KAAK,CAAC,iDAAiD,CAAC;IAClE,CAAC,MAAM;MACLD,OAAO,CAACE,GAAG,CAAC,yBAAyB,EAAEb,YAAY,CAAC;MACpDW,OAAO,CAACE,GAAG,CAAC,eAAe,EAAEZ,WAAW,CAAC;IAC3C;EACF,CAAC,EAAE,CAACD,YAAY,EAAEC,WAAW,CAAC,CAAC;;EAE/B;EACA,MAAMa,aAAa,GAAGA,CAAA,KAAM;IAC1BN,cAAc,CAACO,IAAI,IAAI,CAACA,IAAI,CAAC;EAC/B,CAAC;;EAED;EACA,MAAMC,qBAAqB,GAAGA,CAAA,KAAM;IAClCN,kBAAkB,CAAC,IAAI,CAAC;EAC1B,CAAC;;EAED;EACA,MAAMO,sBAAsB,GAAGA,CAAA,KAAM;IACnCP,kBAAkB,CAAC,KAAK,CAAC;EAC3B,CAAC;;EAED;EACA,MAAMQ,YAAY,GAAIC,GAAG,IAAK;IAC5B,IAAIA,GAAG,KAAKC,SAAS,IAAID,GAAG,KAAK,IAAI,EAAE,OAAO,GAAG;IAEjD,MAAME,YAAY,GAAGC,UAAU,CAACH,GAAG,CAAC,CAACI,OAAO,CAAC,CAAC,CAAC;IAC/C,IAAIF,YAAY,GAAG,CAAC,EAAE;MACpB,OAAO,IAAIA,YAAY,EAAE;IAC3B;IACA,OAAOA,YAAY;EACrB,CAAC;;EAED;EACA,MAAMG,wBAAwB,GAAGA,CAAA,KAAM;IACrC;IACA,MAAMC,0BAA0B,GAAG;MACjC,GAAGxB,WAAW;MACdyB,UAAU,EAAEzB,WAAW,CAACyB,UAAU;MAClCC,QAAQ,EAAE1B,WAAW,CAAC0B,QAAQ;MAC9BC,MAAM,EAAE3B,WAAW,CAAC2B,MAAM;MAC1BC,MAAM,EAAE5B,WAAW,CAAC4B,MAAM;MAC1BC,UAAU,EAAE7B,WAAW,CAAC6B,UAAU;MAClCC,QAAQ,EAAE/B,YAAY,CAAC+B,QAAQ,IAAI,CAAC;MAAE;MACtCC,QAAQ,EAAEhC,YAAY,CAACgC,QAAQ,IAAI,CAAC;MAAE;MACtCC,QAAQ,EAAEhC,WAAW,CAACgC,QAAQ,IAAI,CAAC;MAAG;MACtCC,WAAW,EAAEjC,WAAW,CAAC8B,QAAQ,IAAI,CAAC;MAAE;MACxCI,WAAW,EAAElC,WAAW,CAAC+B,QAAQ,IAAI,CAAC;MAAE;MACxCI,mBAAmB,EAAE,IAAI;MACzBC,YAAY,EAAErC,YAAY;MAAE;MAC5BsC,gBAAgB,EAAEtC,YAAY,CAACsC,gBAAgB,IAAI,EAAE,CAAC;IACxD,CAAC;;IAED;IACA3B,OAAO,CAACE,GAAG,CAAC,iCAAiC,EAAEY,0BAA0B,CAAC;;IAE1E;IACA,MAAMc,QAAQ,GAAGd,0BAA0B,CAACM,QAAQ,GAAG,CAAC;IACxD,MAAMS,QAAQ,GAAGf,0BAA0B,CAACO,QAAQ,GAAG,CAAC;;IAExD;IACA,MAAMS,aAAa,GAAGC,IAAI,CAACC,GAAG,CAC5BD,IAAI,CAACE,GAAG,CAACnB,0BAA0B,CAACM,QAAQ,IAAI,CAAC,CAAC,EAClDW,IAAI,CAACE,GAAG,CAACnB,0BAA0B,CAACO,QAAQ,IAAI,CAAC,CACnD,CAAC;;IAED;IACA,MAAMa,UAAU,GAAGN,QAAQ,GACzB,CAAClC,MAAM,CAACyC,OAAO,IAAI,CAAC,IAAIL,aAAa,GACpCpC,MAAM,CAACyC,OAAO,IAAI,CAAE;IAEvB,MAAMC,UAAU,GAAGP,QAAQ,GACzB,CAACnC,MAAM,CAAC2C,OAAO,IAAI,CAAC,IAAIP,aAAa,GACpCpC,MAAM,CAAC2C,OAAO,IAAI,CAAE;IAEvBrC,OAAO,CAACE,GAAG,CAAC,iCAAiC,EAAE;MAC7C0B,QAAQ;MACRC,QAAQ;MACRC,aAAa;MACbQ,eAAe,EAAE5C,MAAM,CAACyC,OAAO,IAAI,CAAC;MACpCI,eAAe,EAAE7C,MAAM,CAAC2C,OAAO,IAAI,CAAC;MACpCG,UAAU,EAAEN,UAAU;MACtBO,UAAU,EAAEL;IACd,CAAC,CAAC;;IAEF;IACA,MAAMM,aAAa,GAAG;MACpBtB,QAAQ,EAAEN,0BAA0B,CAACM,QAAQ;MAC7CC,QAAQ,EAAEP,0BAA0B,CAACO,QAAQ;MAC7Cc,OAAO,EAAED,UAAU;MACnBG,OAAO,EAAED;IACX,CAAC;;IAED;IACA7C,MAAM,CAAC;MACLuB,0BAA0B;MAC1B4B,aAAa;MACbtB,QAAQ,EAAEN,0BAA0B,CAACM,QAAQ;MAC7CC,QAAQ,EAAEP,0BAA0B,CAACO;IACvC,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,IAAI,CAAChC,YAAY,EAAE;IACjB,oBACEF,OAAA;MAAKwD,SAAS,EAAC,sBAAsB;MAAAC,QAAA,eACnCzD,OAAA;QAAKwD,SAAS,EAAC,SAAS;QAAAC,QAAA,EAAC;MAAwB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpD,CAAC;EAEV;;EAEA;EACA,MAAM;IACJ1B,QAAQ;IACR2B,aAAa;IACbC,kBAAkB;IAClBC,mBAAmB;IACnBC,0BAA0B;IAC1BC,sBAAsB;IACtBC,uBAAuB;IACvBC,wBAAwB;IACxBC,sBAAsB;IACtBC,cAAc;IACdrC,QAAQ;IACRC;EACF,CAAC,GAAGhC,YAAY;EAEhB,oBACEF,OAAA;IAAKwD,SAAS,EAAC,sBAAsB;IAAAC,QAAA,gBACnCzD,OAAA;MAAQwD,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBACjCzD,OAAA;QAAAyD,QAAA,EAAI;MAAoB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC7B7D,OAAA;QAAAyD,QAAA,EAAI;MAA8B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACvC7D,OAAA;QACEwD,SAAS,EAAC,iBAAiB;QAC3Be,OAAO,EAAErD,qBAAsB;QAAAuC,QAAA,EAChC;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAET7D,OAAA;MAAKwD,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBAC/BzD,OAAA;QAAAyD,QAAA,GAAI,YACQ,EAACtD,WAAW,CAAC0B,QAAQ,EAAC,GAAC,EAAC1B,WAAW,CAAC2B,MAAM,IAAI,CAAC,GACvD,QAAQ3B,WAAW,CAAC2B,MAAM,GAAG,CAAC,GAAG,GAAG,GAAG3B,WAAW,CAAC2B,MAAM,GAAG,SAAS,EAAE,GACvE,QAAQc,IAAI,CAACE,GAAG,CAAC3C,WAAW,CAAC2B,MAAM,CAAC,EAAE;MAAA;QAAA4B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC,CAAC,eACL7D,OAAA;QAAAyD,QAAA,GAAG,aAAW,EAACtD,WAAW,CAACgC,QAAQ,EAAC,SAAO;MAAA;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5C,CAAC,eAEN7D,OAAA;MAAKwD,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBAC/BzD,OAAA;QAAAyD,QAAA,EAAI;MAAa;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACtB7D,OAAA;QAAKwD,SAAS,EAAC,kBAAkB;QAAAC,QAAA,gBAC/BzD,OAAA;UAAKwD,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBzD,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAC;UAAgC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACtE7D,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAEvD,YAAY,CAACsE;UAAQ;YAAAd,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1D,CAAC,eACN7D,OAAA;UAAKwD,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBzD,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAC;UAAwB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC9D7D,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,GAAEvD,YAAY,CAACuE,qBAAqB,EAAC,GAAC;UAAA;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxE,CAAC,eACN7D,OAAA;UAAKwD,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBzD,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAC;UAAwB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC9D7D,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,GAAEvD,YAAY,CAACwE,qBAAqB,EAAC,GAAC;UAAA;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxE,CAAC,eACN7D,OAAA;UAAKwD,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBzD,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAC;UAAc;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACpD7D,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,GAAEvD,YAAY,CAACyE,YAAY,EAAC,OAAK,EAACzE,YAAY,CAAC0E,aAAa;UAAA;YAAAlB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/F,CAAC,eACN7D,OAAA;UAAKwD,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBzD,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAC;UAAqB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC3D7D,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAEvD,YAAY,CAAC2E;UAAU;YAAAnB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5D,CAAC,eACN7D,OAAA;UAAKwD,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBzD,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAC;UAAgB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACtD7D,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAEvD,YAAY,CAAC4E;UAAK;YAAApB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvD,CAAC,eACN7D,OAAA;UAAKwD,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBzD,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAC;UAAgC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACtE7D,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAEvD,YAAY,CAAC6E;UAAS;YAAArB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3D,CAAC,eACN7D,OAAA;UAAKwD,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBzD,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAC;UAAoB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC1D7D,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAEvD,YAAY,CAAC8E;UAAkB;YAAAtB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpE,CAAC,eACN7D,OAAA;UAAKwD,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBzD,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAC;UAA0B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAChE7D,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAEvD,YAAY,CAAC+E;UAAW;YAAAvB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7D,CAAC,eACN7D,OAAA;UAAKwD,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBzD,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAC;UAAyB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC/D7D,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAEvD,YAAY,CAACgF;UAAsB;YAAAxB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxE,CAAC,eACN7D,OAAA;UAAKwD,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBzD,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAC;UAAqB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC3D7D,OAAA;YAAMwD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAEvD,YAAY,CAACiF;UAAkB;YAAAzB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEN7D,OAAA;MAAKwD,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBAC/BzD,OAAA;QAAAyD,QAAA,GAAI,qBACiB,EAACtD,WAAW,CAAC2B,MAAM,IAAI,CAAC,GAAG,eAAe,GAAG,mBAAmB,EAAC,GACtF;MAAA;QAAA4B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACL7D,OAAA;QAAQwD,SAAS,EAAC,oBAAoB;QAACe,OAAO,EAAEvD,aAAc;QAAAyC,QAAA,EAC3DhD,WAAW,GAAG,cAAc,GAAG;MAAc;QAAAiD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxC,CAAC,EACRpD,WAAW,iBACVT,OAAA;QAAKwD,SAAS,EAAC,mBAAmB;QAAAC,QAAA,gBAChCzD,OAAA;UAAKwD,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvBzD,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAkB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACtD7D,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,GAAEtB,QAAQ,EAAC,SAAO;UAAA;YAAAuB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClD,CAAC,eACN7D,OAAA;UAAKwD,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvBzD,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAkB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACtD7D,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,GAAErC,YAAY,CAAC0C,aAAa,CAAC,EAAC,SAAO;UAAA;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrE,CAAC,eACN7D,OAAA;UAAKwD,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvBzD,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAwB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC5D7D,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,GAAEM,kBAAkB,EAAC,SAAO;UAAA;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5D,CAAC,eACN7D,OAAA;UAAKwD,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvBzD,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAwB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC5D7D,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,GAAEO,mBAAmB,EAAC,SAAO;UAAA;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7D,CAAC,eACN7D,OAAA;UAAKwD,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvBzD,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAgC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACpE7D,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,GAAEQ,0BAA0B,EAAC,SAAO;UAAA;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpE,CAAC,eACN7D,OAAA;UAAKwD,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvBzD,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAA4B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAChE7D,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,GAAErC,YAAY,CAAC8C,sBAAsB,CAAC,EAAC,GAAC,EAACC,uBAAuB,IAAI,QAAQ;UAAA;YAAAT,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7G,CAAC,eACN7D,OAAA;UAAKwD,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvBzD,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAA8B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAClE7D,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,GAAEW,wBAAwB,EAAC,SAAO;UAAA;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClE,CAAC,eACN7D,OAAA;UAAKwD,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvBzD,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAA2B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC/D7D,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,GAAEY,sBAAsB,EAAC,SAAO;UAAA;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChE,CAAC,eACN7D,OAAA;UAAKwD,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvBzD,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAmB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACvD7D,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,GAAEa,cAAc,EAAC,SAAO;UAAA;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAEN7D,OAAA;MAAKwD,SAAS,EAAC,wBAAwB;MAAAC,QAAA,gBACrCzD,OAAA;QAAAyD,QAAA,EAAI;MAAY;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACrB7D,OAAA;QAAKwD,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3BzD,OAAA;UAAKwD,SAAS,EAAC,qBAAqB;UAAAC,QAAA,gBAClCzD,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC7C7D,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,GAAExB,QAAQ,EAAC,SAAO;UAAA;YAAAyB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClD,CAAC,eACN7D,OAAA;UAAKwD,SAAS,EAAC,qBAAqB;UAAAC,QAAA,gBAClCzD,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAS;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC7C7D,OAAA;YAAMwD,SAAS,EAAC,YAAY;YAAAC,QAAA,GAAEvB,QAAQ,EAAC,SAAO;UAAA;YAAAwB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEN7D,OAAA;MAAKwD,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC7BzD,OAAA;QACEwD,SAAS,EAAC,UAAU;QACpBe,OAAO,EAAElE,MAAO;QAAAoD,QAAA,EACjB;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAET7D,OAAA;QACEwD,SAAS,EAAC,cAAc;QACxBe,OAAO,EAAE7C,wBAAyB;QAAA+B,QAAA,EACnC;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAGLlD,eAAe,iBACdX,OAAA,CAACF,sBAAsB;MAACsF,OAAO,EAAEjE;IAAuB;MAAAuC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAC3D;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACrD,EAAA,CA1SIP,kBAAkB;AAAAoF,EAAA,GAAlBpF,kBAAkB;AA4SxB,eAAeA,kBAAkB;AAAC,IAAAoF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}