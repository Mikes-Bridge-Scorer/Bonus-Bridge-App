{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mikec\\\\MikesBridge\\\\bonusbridge\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport BridgeGameUI from './BridgeGameUI';\nimport { determineVulnerability } from './utils/scoring';\nimport './global.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [gameState, setGameState] = useState(() => {\n    // Try to load game state from local storage\n    const savedState = localStorage.getItem('bridgeGameState');\n    if (savedState) {\n      try {\n        return JSON.parse(savedState);\n      } catch (e) {\n        console.error('Error parsing saved game state', e);\n      }\n    }\n\n    // Default initial state\n    return {\n      gameNumber: 1,\n      dealNumber: 1,\n      scores: {\n        nsScore: 0,\n        ewScore: 0\n      },\n      deals: [],\n      currentDeal: {\n        contract: '',\n        declarer: '',\n        result: null,\n        tricks: null,\n        vulnerable: determineVulnerability(1)\n      },\n      isAwake: false,\n      showScorePopup: false\n    };\n  });\n\n  // Save game state to local storage whenever it changes\n  // Use a more specific dependency array to avoid infinite loops\n  useEffect(() => {\n    localStorage.setItem('bridgeGameState', JSON.stringify(gameState));\n  }, [gameState.gameNumber, gameState.dealNumber, gameState.scores.nsScore, gameState.scores.ewScore, gameState.isAwake, gameState.showScorePopup,\n  // We don't want to deeply track all changes to currentDeal as it would cause too many updates\n  // Instead, just track these key properties:\n  gameState.currentDeal.contract, gameState.currentDeal.result]);\n\n  // Use useCallback for these functions to prevent them from being recreated on every render\n  const handleNextDeal = useCallback(() => {\n    setGameState(prev => ({\n      ...prev,\n      dealNumber: prev.dealNumber + 1,\n      showScorePopup: false,\n      currentDeal: {\n        contract: '',\n        declarer: '',\n        result: null,\n        tricks: null,\n        vulnerable: determineVulnerability(prev.dealNumber + 1)\n      }\n    }));\n  }, []);\n  const handleNewGame = useCallback(() => {\n    setGameState(prev => ({\n      gameNumber: prev.gameNumber + 1,\n      dealNumber: 1,\n      scores: {\n        nsScore: 0,\n        ewScore: 0\n      },\n      deals: [],\n      currentDeal: {\n        contract: '',\n        declarer: '',\n        result: null,\n        tricks: null,\n        vulnerable: determineVulnerability(1)\n      },\n      isAwake: prev.isAwake,\n      showScorePopup: false\n    }));\n  }, []);\n  const updateCurrentDeal = useCallback(updatedDeal => {\n    setGameState(prev => ({\n      ...prev,\n      currentDeal: {\n        ...prev.currentDeal,\n        ...updatedDeal\n      }\n    }));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: /*#__PURE__*/_jsxDEV(BridgeGameUI, {\n      gameState: gameState,\n      updateCurrentDeal: updateCurrentDeal,\n      onNextDeal: handleNextDeal,\n      onNewGame: handleNewGame,\n      setGameState: setGameState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"DS/liFyNDMyAZlLvlcLXNuaZB5I=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","BridgeGameUI","determineVulnerability","jsxDEV","_jsxDEV","App","_s","gameState","setGameState","savedState","localStorage","getItem","JSON","parse","e","console","error","gameNumber","dealNumber","scores","nsScore","ewScore","deals","currentDeal","contract","declarer","result","tricks","vulnerable","isAwake","showScorePopup","setItem","stringify","handleNextDeal","prev","handleNewGame","updateCurrentDeal","updatedDeal","className","children","onNextDeal","onNewGame","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/mikec/MikesBridge/bonusbridge/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport BridgeGameUI from './BridgeGameUI';\r\nimport { determineVulnerability } from './utils/scoring';\r\nimport './global.css';\r\n\r\nconst App = () => {\r\n  const [gameState, setGameState] = useState(() => {\r\n    // Try to load game state from local storage\r\n    const savedState = localStorage.getItem('bridgeGameState');\r\n    if (savedState) {\r\n      try {\r\n        return JSON.parse(savedState);\r\n      } catch (e) {\r\n        console.error('Error parsing saved game state', e);\r\n      }\r\n    }\r\n    \r\n    // Default initial state\r\n    return {\r\n      gameNumber: 1,\r\n      dealNumber: 1,\r\n      scores: {\r\n        nsScore: 0,\r\n        ewScore: 0\r\n      },\r\n      deals: [],\r\n      currentDeal: {\r\n        contract: '',\r\n        declarer: '',\r\n        result: null,\r\n        tricks: null,\r\n        vulnerable: determineVulnerability(1)\r\n      },\r\n      isAwake: false,\r\n      showScorePopup: false\r\n    };\r\n  });\r\n  \r\n  // Save game state to local storage whenever it changes\r\n  // Use a more specific dependency array to avoid infinite loops\r\n  useEffect(() => {\r\n    localStorage.setItem('bridgeGameState', JSON.stringify(gameState));\r\n  }, [\r\n    gameState.gameNumber, \r\n    gameState.dealNumber, \r\n    gameState.scores.nsScore, \r\n    gameState.scores.ewScore,\r\n    gameState.isAwake,\r\n    gameState.showScorePopup,\r\n    // We don't want to deeply track all changes to currentDeal as it would cause too many updates\r\n    // Instead, just track these key properties:\r\n    gameState.currentDeal.contract,\r\n    gameState.currentDeal.result\r\n  ]);\r\n  \r\n  // Use useCallback for these functions to prevent them from being recreated on every render\r\n  const handleNextDeal = useCallback(() => {\r\n    setGameState(prev => ({\r\n      ...prev,\r\n      dealNumber: prev.dealNumber + 1,\r\n      showScorePopup: false,\r\n      currentDeal: {\r\n        contract: '',\r\n        declarer: '',\r\n        result: null,\r\n        tricks: null,\r\n        vulnerable: determineVulnerability(prev.dealNumber + 1)\r\n      }\r\n    }));\r\n  }, []);\r\n  \r\n  const handleNewGame = useCallback(() => {\r\n    setGameState(prev => ({\r\n      gameNumber: prev.gameNumber + 1,\r\n      dealNumber: 1,\r\n      scores: {\r\n        nsScore: 0,\r\n        ewScore: 0\r\n      },\r\n      deals: [],\r\n      currentDeal: {\r\n        contract: '',\r\n        declarer: '',\r\n        result: null,\r\n        tricks: null,\r\n        vulnerable: determineVulnerability(1)\r\n      },\r\n      isAwake: prev.isAwake,\r\n      showScorePopup: false\r\n    }));\r\n  }, []);\r\n  \r\n  const updateCurrentDeal = useCallback((updatedDeal) => {\r\n    setGameState(prev => ({\r\n      ...prev,\r\n      currentDeal: {\r\n        ...prev.currentDeal,\r\n        ...updatedDeal\r\n      }\r\n    }));\r\n  }, []);\r\n  \r\n  return (\r\n    <div className=\"app-container\">\r\n      <BridgeGameUI \r\n        gameState={gameState} \r\n        updateCurrentDeal={updateCurrentDeal}\r\n        onNextDeal={handleNextDeal}\r\n        onNewGame={handleNewGame}\r\n        setGameState={setGameState}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}