{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mikec\\\\MikesBridge\\\\bonusbridge\\\\src\\\\components\\\\scoreTracking.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { parseContract, calculateBridgeScore } from '../utils/scoring';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ScoreTracking = ({\n  scores,\n  currentDeal\n}) => {\n  _s();\n  const [showScoreDetails, setShowScoreDetails] = useState(false);\n\n  // Get a detailed score calculation explanation\n  const getScoreCalculationDetails = () => {\n    var _currentDeal$vulnerab, _currentDeal$vulnerab2;\n    if (!currentDeal || !currentDeal.contract) return [];\n    const contractDetails = parseContract(currentDeal.contract, currentDeal.result, currentDeal.vulnerable);\n    if (!contractDetails) return [];\n    const {\n      level,\n      suit,\n      declarer,\n      doubled,\n      isMade,\n      result\n    } = contractDetails;\n    const isNS = declarer === 'N' || declarer === 'S';\n    const vulText = isNS ? (_currentDeal$vulnerab = currentDeal.vulnerable) !== null && _currentDeal$vulnerab !== void 0 && _currentDeal$vulnerab.ns ? \"vulnerable\" : \"not vulnerable\" : (_currentDeal$vulnerab2 = currentDeal.vulnerable) !== null && _currentDeal$vulnerab2 !== void 0 && _currentDeal$vulnerab2.ew ? \"vulnerable\" : \"not vulnerable\";\n    const details = [];\n    details.push(`Contract: ${level}${suit} by ${declarer}${doubled || ''} (${vulText})`);\n    details.push(`Required tricks: ${level} + 6 = ${parseInt(level) + 6}`);\n    details.push(`Actual tricks: ${parseInt(level) + 6 + (result || 0)}`);\n    if (isMade) {\n      // Add trick score calculation\n      const trickValue = suit === '♣' || suit === '♦' ? 20 : 30;\n      const firstTrickValue = suit === 'NT' ? 40 : trickValue;\n      let trickScore = firstTrickValue + (level - 1) * trickValue;\n      details.push(`Trick score: ${firstTrickValue} + (${level - 1} × ${trickValue}) = ${trickScore}`);\n\n      // Apply doubling if applicable\n      if (doubled === 'X') {\n        details.push(`Doubled: ${trickScore} × 2 = ${trickScore * 2}`);\n        trickScore *= 2;\n      } else if (doubled === 'XX') {\n        details.push(`Redoubled: ${trickScore} × 4 = ${trickScore * 4}`);\n        trickScore *= 4;\n      }\n\n      // Game or part score bonus\n      if (trickScore >= 100) {\n        var _currentDeal$vulnerab3, _currentDeal$vulnerab4;\n        const gameBonus = (_currentDeal$vulnerab3 = currentDeal.vulnerable) !== null && _currentDeal$vulnerab3 !== void 0 && _currentDeal$vulnerab3.ns || (_currentDeal$vulnerab4 = currentDeal.vulnerable) !== null && _currentDeal$vulnerab4 !== void 0 && _currentDeal$vulnerab4.ew ? 500 : 300;\n        details.push(`Game bonus (${trickScore} ≥ 100): + ${gameBonus}`);\n      } else {\n        details.push(`Part score bonus: + 50`);\n      }\n\n      // Slam bonus if applicable\n      if (level === 6) {\n        const slamBonus = vulText.includes(\"vulnerable\") ? 750 : 500;\n        details.push(`Small slam bonus: + ${slamBonus}`);\n      } else if (level === 7) {\n        const grandSlamBonus = vulText.includes(\"vulnerable\") ? 1500 : 1000;\n        details.push(`Grand slam bonus: + ${grandSlamBonus}`);\n      }\n\n      // Overtrick bonus if applicable\n      if (result > 0) {\n        const overtrickValue = doubled ? (vulText.includes(\"vulnerable\") ? 200 : 100) * (doubled === 'XX' ? 2 : 1) : suit === '♣' || suit === '♦' ? 20 : 30;\n        details.push(`Overtrick${result > 1 ? 's' : ''} (${result}): + ${overtrickValue * result}`);\n      }\n\n      // Insult bonus for doubles made\n      if (doubled === 'X') {\n        details.push(`Insult bonus (making doubled contract): + 50`);\n      } else if (doubled === 'XX') {\n        details.push(`Insult bonus (making redoubled contract): + 100`);\n      }\n    } else {\n      // Undertrick penalties\n      const undertricks = Math.abs(result);\n      if (!doubled) {\n        const penalty = vulText.includes(\"vulnerable\") ? 100 : 50;\n        details.push(`Undertrick${undertricks > 1 ? 's' : ''} (${undertricks}): - ${penalty * undertricks}`);\n      } else {\n        // Doubled undertrick calculations are more complex\n        if (doubled === 'X') {\n          details.push(`Doubled undertrick${undertricks > 1 ? 's' : ''} (${undertricks}):`);\n        } else {\n          details.push(`Redoubled undertrick${undertricks > 1 ? 's' : ''} (${undertricks}):`);\n        }\n        const multiplier = doubled === 'XX' ? 2 : 1;\n        if (vulText.includes(\"vulnerable\")) {\n          details.push(`  First undertrick: ${300 * multiplier}`);\n          if (undertricks > 1) {\n            details.push(`  Additional undertrick${undertricks - 1 > 1 ? 's' : ''} (${undertricks - 1}): ${(undertricks - 1) * 300 * multiplier}`);\n          }\n        } else {\n          details.push(`  First undertrick: ${100 * multiplier}`);\n          if (undertricks > 1) {\n            const secondAndThird = Math.min(undertricks - 1, 2);\n            details.push(`  Second${secondAndThird > 1 ? ' and third' : ''} undertrick${secondAndThird > 1 ? 's' : ''}: ${secondAndThird * 200 * multiplier}`);\n          }\n          if (undertricks > 3) {\n            details.push(`  Fourth and subsequent undertrick${undertricks - 3 > 1 ? 's' : ''} (${undertricks - 3}): ${(undertricks - 3) * 300 * multiplier}`);\n          }\n        }\n      }\n    }\n\n    // Calculate the total score\n    const score = calculateBridgeScore(contractDetails);\n    const totalScore = isNS ? score.nsPoints : score.ewPoints;\n    const scoringTeam = isNS ? \"North-South\" : \"East-West\";\n    if (totalScore > 0) {\n      details.push(`Total: ${totalScore} points to ${scoringTeam}`);\n    } else {\n      details.push(`Total: ${-totalScore} points to ${isNS ? \"East-West\" : \"North-South\"}`);\n    }\n    return details;\n  };\n\n  // Format contract display\n  const formatContract = () => {\n    if (!currentDeal || !currentDeal.contract) return '';\n\n    // This will return the contract as entered but can be formatted more nicely\n    return currentDeal.contract;\n  };\n\n  // Get result description\n  const getResultString = () => {\n    if (!currentDeal || currentDeal.result === null) return '';\n    if (currentDeal.result > 0) {\n      return `Made +${currentDeal.result}`;\n    } else if (currentDeal.result < 0) {\n      return `Down ${Math.abs(currentDeal.result)}`;\n    } else {\n      return 'Made exactly';\n    }\n  };\n\n  // Calculate deal-specific score\n  const getDealScore = () => {\n    if (!currentDeal || !currentDeal.contract) {\n      return {\n        ns: 0,\n        ew: 0\n      };\n    }\n    const contractDetails = parseContract(currentDeal.contract, currentDeal.result, currentDeal.vulnerable);\n    if (!contractDetails) {\n      return {\n        ns: 0,\n        ew: 0\n      };\n    }\n    const score = calculateBridgeScore(contractDetails);\n    return {\n      ns: score.nsPoints,\n      ew: score.ewPoints\n    };\n  };\n  const dealScore = getDealScore();\n  const scoreDetails = getScoreCalculationDetails();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"score-tracking\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Score Summary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"score-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Team\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"This Deal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Running Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"North-South\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: dealScore.ns\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: scores.nsScore\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"East-West\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: dealScore.ew\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: scores.ewScore\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contract-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Contract: \", formatContract()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Result: \", getResultString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"details-btn\",\n      onClick: () => setShowScoreDetails(!showScoreDetails),\n      children: showScoreDetails ? 'Hide Score Details' : 'Show Score Details'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), showScoreDetails && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"score-details\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Score Calculation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: scoreDetails.map((detail, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: detail\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 5\n  }, this);\n};\n_s(ScoreTracking, \"w16gvqvvR8jrZRTpesE8ZFf6qH0=\");\n_c = ScoreTracking;\nexport default ScoreTracking;\nvar _c;\n$RefreshReg$(_c, \"ScoreTracking\");","map":{"version":3,"names":["React","useState","parseContract","calculateBridgeScore","jsxDEV","_jsxDEV","ScoreTracking","scores","currentDeal","_s","showScoreDetails","setShowScoreDetails","getScoreCalculationDetails","_currentDeal$vulnerab","_currentDeal$vulnerab2","contract","contractDetails","result","vulnerable","level","suit","declarer","doubled","isMade","isNS","vulText","ns","ew","details","push","parseInt","trickValue","firstTrickValue","trickScore","_currentDeal$vulnerab3","_currentDeal$vulnerab4","gameBonus","slamBonus","includes","grandSlamBonus","overtrickValue","undertricks","Math","abs","penalty","multiplier","secondAndThird","min","score","totalScore","nsPoints","ewPoints","scoringTeam","formatContract","getResultString","getDealScore","dealScore","scoreDetails","className","children","fileName","_jsxFileName","lineNumber","columnNumber","nsScore","ewScore","onClick","map","detail","index","_c","$RefreshReg$"],"sources":["C:/Users/mikec/MikesBridge/bonusbridge/src/components/scoreTracking.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { parseContract, calculateBridgeScore } from '../utils/scoring';\r\n\r\nconst ScoreTracking = ({ scores, currentDeal }) => {\r\n  const [showScoreDetails, setShowScoreDetails] = useState(false);\r\n  \r\n  // Get a detailed score calculation explanation\r\n  const getScoreCalculationDetails = () => {\r\n    if (!currentDeal || !currentDeal.contract) return [];\r\n    \r\n    const contractDetails = parseContract(currentDeal.contract, currentDeal.result, currentDeal.vulnerable);\r\n    if (!contractDetails) return [];\r\n    \r\n    const { level, suit, declarer, doubled, isMade, result } = contractDetails;\r\n    const isNS = declarer === 'N' || declarer === 'S';\r\n    const vulText = isNS ? \r\n      (currentDeal.vulnerable?.ns ? \"vulnerable\" : \"not vulnerable\") : \r\n      (currentDeal.vulnerable?.ew ? \"vulnerable\" : \"not vulnerable\");\r\n    \r\n    const details = [];\r\n    \r\n    details.push(`Contract: ${level}${suit} by ${declarer}${doubled || ''} (${vulText})`);\r\n    details.push(`Required tricks: ${level} + 6 = ${parseInt(level) + 6}`);\r\n    details.push(`Actual tricks: ${parseInt(level) + 6 + (result || 0)}`);\r\n    \r\n    if (isMade) {\r\n      // Add trick score calculation\r\n      const trickValue = (suit === '♣' || suit === '♦') ? 20 : 30;\r\n      const firstTrickValue = suit === 'NT' ? 40 : trickValue;\r\n      let trickScore = firstTrickValue + (level - 1) * trickValue;\r\n      \r\n      details.push(`Trick score: ${firstTrickValue} + (${level - 1} × ${trickValue}) = ${trickScore}`);\r\n      \r\n      // Apply doubling if applicable\r\n      if (doubled === 'X') {\r\n        details.push(`Doubled: ${trickScore} × 2 = ${trickScore * 2}`);\r\n        trickScore *= 2;\r\n      } else if (doubled === 'XX') {\r\n        details.push(`Redoubled: ${trickScore} × 4 = ${trickScore * 4}`);\r\n        trickScore *= 4;\r\n      }\r\n      \r\n      // Game or part score bonus\r\n      if (trickScore >= 100) {\r\n        const gameBonus = currentDeal.vulnerable?.ns || currentDeal.vulnerable?.ew ? 500 : 300;\r\n        details.push(`Game bonus (${trickScore} ≥ 100): + ${gameBonus}`);\r\n      } else {\r\n        details.push(`Part score bonus: + 50`);\r\n      }\r\n      \r\n      // Slam bonus if applicable\r\n      if (level === 6) {\r\n        const slamBonus = vulText.includes(\"vulnerable\") ? 750 : 500;\r\n        details.push(`Small slam bonus: + ${slamBonus}`);\r\n      } else if (level === 7) {\r\n        const grandSlamBonus = vulText.includes(\"vulnerable\") ? 1500 : 1000;\r\n        details.push(`Grand slam bonus: + ${grandSlamBonus}`);\r\n      }\r\n      \r\n      // Overtrick bonus if applicable\r\n      if (result > 0) {\r\n        const overtrickValue = doubled \r\n          ? (vulText.includes(\"vulnerable\") ? 200 : 100) * (doubled === 'XX' ? 2 : 1)\r\n          : (suit === '♣' || suit === '♦' ? 20 : 30);\r\n        \r\n        details.push(`Overtrick${result > 1 ? 's' : ''} (${result}): + ${overtrickValue * result}`);\r\n      }\r\n      \r\n      // Insult bonus for doubles made\r\n      if (doubled === 'X') {\r\n        details.push(`Insult bonus (making doubled contract): + 50`);\r\n      } else if (doubled === 'XX') {\r\n        details.push(`Insult bonus (making redoubled contract): + 100`);\r\n      }\r\n      \r\n    } else {\r\n      // Undertrick penalties\r\n      const undertricks = Math.abs(result);\r\n      \r\n      if (!doubled) {\r\n        const penalty = vulText.includes(\"vulnerable\") ? 100 : 50;\r\n        details.push(`Undertrick${undertricks > 1 ? 's' : ''} (${undertricks}): - ${penalty * undertricks}`);\r\n      } else {\r\n        // Doubled undertrick calculations are more complex\r\n        if (doubled === 'X') {\r\n          details.push(`Doubled undertrick${undertricks > 1 ? 's' : ''} (${undertricks}):`);\r\n        } else {\r\n          details.push(`Redoubled undertrick${undertricks > 1 ? 's' : ''} (${undertricks}):`);\r\n        }\r\n        \r\n        const multiplier = doubled === 'XX' ? 2 : 1;\r\n        \r\n        if (vulText.includes(\"vulnerable\")) {\r\n          details.push(`  First undertrick: ${300 * multiplier}`);\r\n          if (undertricks > 1) {\r\n            details.push(`  Additional undertrick${undertricks - 1 > 1 ? 's' : ''} (${undertricks - 1}): ${(undertricks - 1) * 300 * multiplier}`);\r\n          }\r\n        } else {\r\n          details.push(`  First undertrick: ${100 * multiplier}`);\r\n          \r\n          if (undertricks > 1) {\r\n            const secondAndThird = Math.min(undertricks - 1, 2);\r\n            details.push(`  Second${secondAndThird > 1 ? ' and third' : ''} undertrick${secondAndThird > 1 ? 's' : ''}: ${secondAndThird * 200 * multiplier}`);\r\n          }\r\n          \r\n          if (undertricks > 3) {\r\n            details.push(`  Fourth and subsequent undertrick${undertricks - 3 > 1 ? 's' : ''} (${undertricks - 3}): ${(undertricks - 3) * 300 * multiplier}`);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Calculate the total score\r\n    const score = calculateBridgeScore(contractDetails);\r\n    const totalScore = isNS ? score.nsPoints : score.ewPoints;\r\n    const scoringTeam = isNS ? \"North-South\" : \"East-West\";\r\n    \r\n    if (totalScore > 0) {\r\n      details.push(`Total: ${totalScore} points to ${scoringTeam}`);\r\n    } else {\r\n      details.push(`Total: ${-totalScore} points to ${isNS ? \"East-West\" : \"North-South\"}`);\r\n    }\r\n    \r\n    return details;\r\n  };\r\n  \r\n  // Format contract display\r\n  const formatContract = () => {\r\n    if (!currentDeal || !currentDeal.contract) return '';\r\n    \r\n    // This will return the contract as entered but can be formatted more nicely\r\n    return currentDeal.contract;\r\n  };\r\n  \r\n  // Get result description\r\n  const getResultString = () => {\r\n    if (!currentDeal || currentDeal.result === null) return '';\r\n    \r\n    if (currentDeal.result > 0) {\r\n      return `Made +${currentDeal.result}`;\r\n    } else if (currentDeal.result < 0) {\r\n      return `Down ${Math.abs(currentDeal.result)}`;\r\n    } else {\r\n      return 'Made exactly';\r\n    }\r\n  };\r\n  \r\n  // Calculate deal-specific score\r\n  const getDealScore = () => {\r\n    if (!currentDeal || !currentDeal.contract) {\r\n      return { ns: 0, ew: 0 };\r\n    }\r\n    \r\n    const contractDetails = parseContract(\r\n      currentDeal.contract, \r\n      currentDeal.result, \r\n      currentDeal.vulnerable\r\n    );\r\n    \r\n    if (!contractDetails) {\r\n      return { ns: 0, ew: 0 };\r\n    }\r\n    \r\n    const score = calculateBridgeScore(contractDetails);\r\n    \r\n    return { \r\n      ns: score.nsPoints, \r\n      ew: score.ewPoints \r\n    };\r\n  };\r\n  \r\n  const dealScore = getDealScore();\r\n  const scoreDetails = getScoreCalculationDetails();\r\n  \r\n  return (\r\n    <div className=\"score-tracking\">\r\n      <h3>Score Summary</h3>\r\n      \r\n      <table className=\"score-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Team</th>\r\n            <th>This Deal</th>\r\n            <th>Running Total</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td>North-South</td>\r\n            <td>{dealScore.ns}</td>\r\n            <td>{scores.nsScore}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>East-West</td>\r\n            <td>{dealScore.ew}</td>\r\n            <td>{scores.ewScore}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      \r\n      <div className=\"contract-info\">\r\n        <div>Contract: {formatContract()}</div>\r\n        <div>Result: {getResultString()}</div>\r\n      </div>\r\n      \r\n      <button \r\n        className=\"details-btn\" \r\n        onClick={() => setShowScoreDetails(!showScoreDetails)}\r\n      >\r\n        {showScoreDetails ? 'Hide Score Details' : 'Show Score Details'}\r\n      </button>\r\n      \r\n      {showScoreDetails && (\r\n        <div className=\"score-details\">\r\n          <h4>Score Calculation</h4>\r\n          <ul>\r\n            {scoreDetails.map((detail, index) => (\r\n              <li key={index}>{detail}</li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ScoreTracking;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}