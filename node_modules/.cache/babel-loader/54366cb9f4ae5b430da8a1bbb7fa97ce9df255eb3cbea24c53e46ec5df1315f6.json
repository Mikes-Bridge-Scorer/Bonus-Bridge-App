{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mikec\\\\MikesBridge\\\\bonusbridge\\\\src\\\\components\\\\FinalScoreAnalysis.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport BonusBridgeExplanation from './BonusBridgeExplanation';\nimport './FinalScoreAnalysis.css';\n\n/**\r\n * Component to display final score analysis after Bonus Bridge adjustments\r\n * Redesigned for mobile with tabbed sections\r\n * @param {Object} props - Component props\r\n * @param {Object} props.analysisData - The complete analysis data\r\n * @param {Object} props.currentDeal - Current deal information\r\n * @param {Function} props.onSave - Function to save the analysis\r\n * @param {Function} props.onEdit - Function to go back to edit\r\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FinalScoreAnalysis = ({\n  analysisData,\n  currentDeal,\n  onSave,\n  onEdit,\n  setGameState,\n  scores\n}) => {\n  _s();\n  // State for active tab\n  const [activeTab, setActiveTab] = useState('calculation');\n  // State for showing explanation\n  const [showExplanation, setShowExplanation] = useState(false);\n  // State for showing scores so far\n  const [showScoresSoFar, setShowScoresSoFar] = useState(false);\n  // State for end game confirmation\n  const [showEndGameConfirm, setShowEndGameConfirm] = useState(false);\n\n  // Determine if the contract was made\n  const madeContract = currentDeal.result >= 0;\n\n  // Extract information for display\n  const {\n    totalHCP,\n    declarerHCPPercentage,\n    defenderHCPPercentage,\n    hcpAdvantage,\n    advantageSide,\n    expectedHCP,\n    singletons,\n    voids,\n    longSuits,\n    distributionPoints,\n    contractExpectedTricks,\n    handExpectedTricks,\n    nsPoints,\n    ewPoints\n  } = analysisData;\n\n  // Format contract for display\n  const formatContract = () => {\n    if (!currentDeal || !currentDeal.contract) return \"\";\n\n    // Parse contract components\n    const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\n    if (!contractMatch) return currentDeal.contract;\n    const level = contractMatch[1];\n    const suit = contractMatch[2];\n    const declarer = contractMatch[3];\n    const doubled = contractMatch[4] || \"\";\n\n    // Format doubled status\n    let doubledText = \"\";\n    if (doubled === \"X\") {\n      doubledText = \" Doubled\";\n    } else if (doubled === \"XX\") {\n      doubledText = \" Redoubled\";\n    }\n\n    // Get full declarer direction\n    let declarerFull = \"\";\n    switch (declarer) {\n      case 'N':\n        declarerFull = \"North\";\n        break;\n      case 'E':\n        declarerFull = \"East\";\n        break;\n      case 'S':\n        declarerFull = \"South\";\n        break;\n      case 'W':\n        declarerFull = \"West\";\n        break;\n      default:\n        declarerFull = declarer;\n    }\n    return `${level}${suit} By ${declarerFull}${doubledText}`;\n  };\n\n  // Get contract category description\n  const getContractCategory = () => {\n    if (!madeContract) {\n      // For defeated contracts\n      const undertricks = Math.abs(currentDeal.result);\n\n      // Check if it's a game contract\n      const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\n      if (!contractMatch) return \"Defeated Contract\";\n      const level = parseInt(contractMatch[1]);\n      const suit = contractMatch[2];\n      const isGameContract = level === 3 && suit === 'NT' || level === 4 && (suit === '♥' || suit === '♠') || level === 5 && (suit === '♣' || suit === '♦') || level >= 6;\n      if (level >= 6) {\n        return `Failed Slam Attempt (Down ${undertricks})`;\n      } else if (isGameContract) {\n        return `Failed Game Contract (Down ${undertricks})`;\n      } else {\n        return `Failed Part Score (Down ${undertricks})`;\n      }\n    } else {\n      // For made contracts\n      const overtricks = currentDeal.result;\n\n      // Check contract type\n      const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\n      if (!contractMatch) return \"Made Contract\";\n      const level = parseInt(contractMatch[1]);\n      const suit = contractMatch[2];\n      const doubled = contractMatch[4] || \"\";\n      const isGameContract = level === 3 && suit === 'NT' || level === 4 && (suit === '♥' || suit === '♠') || level === 5 && (suit === '♣' || suit === '♦') || level >= 6;\n\n      // Check HCP relationship to expected\n      const hcpDifference = totalHCP - expectedHCP;\n      const hcpStatus = hcpDifference >= 2 ? \"Strong\" : hcpDifference <= -2 ? \"Weak\" : \"Balanced\";\n\n      // Include doubled status in category\n      let doubledStatus = \"\";\n      if (doubled === \"X\") {\n        doubledStatus = \" Doubled\";\n      } else if (doubled === \"XX\") {\n        doubledStatus = \" Redoubled\";\n      }\n      if (level >= 6) {\n        return `Made Slam${doubledStatus}${overtricks > 0 ? ` (+${overtricks})` : ''}`;\n      } else if (isGameContract) {\n        return `Made Game${doubledStatus} with ${hcpStatus} Hand${overtricks > 0 ? ` (+${overtricks})` : ''}`;\n      } else {\n        return `Made Part Score${doubledStatus}${overtricks > 0 ? ` (+${overtricks})` : ''}`;\n      }\n    }\n  };\n\n  // Handler for showing explanation\n  const handleShowExplanation = () => {\n    setShowExplanation(true);\n  };\n\n  // Handler for hiding explanation\n  const handleHideExplanation = () => {\n    setShowExplanation(false);\n  };\n\n  // Toggle scores so far\n  const toggleScoresSoFar = () => {\n    setShowScoresSoFar(!showScoresSoFar);\n  };\n\n  // Show end game confirmation\n  const handleShowEndGameConfirm = () => {\n    setShowEndGameConfirm(true);\n  };\n\n  // Hide end game confirmation\n  const handleHideEndGameConfirm = () => {\n    setShowEndGameConfirm(false);\n  };\n\n  // End the game and show final results\n  const handleEndGame = () => {\n    // First save the current deal's scores\n    handleSave();\n\n    // Then set the game as ended to trigger GameScoreSheet display\n    setTimeout(() => {\n      setGameState(prevState => ({\n        ...prevState,\n        gameEnded: true\n      }));\n    }, 100);\n  };\n\n  // Change active tab\n  const handleTabChange = tab => {\n    setActiveTab(tab);\n  };\n\n  // Handle save and continue\n  const handleSave = () => {\n    // Calculate final scores to send to parent\n    const finalScore = {\n      nsPoints: nsPoints || 0,\n      ewPoints: ewPoints || 0,\n      currentDealWithBonusScores: {\n        ...currentDeal,\n        bonusNsPoints: nsPoints || 0,\n        bonusEwPoints: ewPoints || 0\n      }\n    };\n    onSave(finalScore);\n  };\n\n  // Get final score from calculation steps\n  const getFinalScore = () => {\n    if (madeContract) {\n      // Determine which side gets the score\n      const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\n      if (!contractMatch) return {\n        declarerPoints: 0,\n        defenderPoints: 0\n      };\n      const declarer = contractMatch[3];\n      const isNS = declarer === 'N' || declarer === 'S';\n      if (isNS) {\n        return {\n          declarerTeam: \"North-South\",\n          defenderTeam: \"East-West\",\n          declarerPoints: nsPoints,\n          defenderPoints: ewPoints\n        };\n      } else {\n        return {\n          declarerTeam: \"East-West\",\n          defenderTeam: \"North-South\",\n          declarerPoints: ewPoints,\n          defenderPoints: nsPoints\n        };\n      }\n    } else {\n      // For defeated contracts - defenders get the points\n      const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\n      if (!contractMatch) return {\n        defenderPoints: 0,\n        declarerPoints: 0\n      };\n      const declarer = contractMatch[3];\n      const isNS = declarer === 'N' || declarer === 'S';\n      if (isNS) {\n        // NS is declarer, EW is defender\n        return {\n          declarerTeam: \"North-South\",\n          defenderTeam: \"East-West\",\n          declarerPoints: nsPoints,\n          defenderPoints: ewPoints\n        };\n      } else {\n        // EW is declarer, NS is defender\n        return {\n          declarerTeam: \"East-West\",\n          defenderTeam: \"North-South\",\n          declarerPoints: ewPoints,\n          defenderPoints: nsPoints\n        };\n      }\n    }\n  };\n\n  // Get calculation steps for display\n  const getCalculationSteps = () => {\n    if (madeContract) {\n      return [{\n        label: \"1. Raw Score / 20:\",\n        value: `${(analysisData.rawScore || 0).toFixed(1)} points`\n      }, {\n        label: \"2. HCP Adjustment:\",\n        value: `${(analysisData.hcpAdjustment || 0).toFixed(2)} points`\n      }, {\n        label: \"3. After HCP Adjustment:\",\n        value: `${(analysisData.afterHcpAdjustment || 0).toFixed(1)} points`\n      }, {\n        label: \"4. Performance Variance:\",\n        value: `${analysisData.performanceVariance || 0} tricks`\n      }, {\n        label: \"5. After Performance Assessment:\",\n        value: `${(analysisData.afterPerformanceAssessment || 0).toFixed(1)} points`\n      }, {\n        label: \"6. Contract Type Adjustment:\",\n        value: `${(analysisData.contractTypeAdjustment || 0).toFixed(1)} ${analysisData.contractTypeDescription || ''}`\n      }, {\n        label: \"7. After Contract Adjustments:\",\n        value: `${(analysisData.afterContractAdjustments || 0).toFixed(1)} points`\n      }, {\n        label: \"8. Distribution Adjustment:\",\n        value: `${(analysisData.distributionAdjustment || 0).toFixed(1)} points`\n      }, {\n        label: \"9. Defender Reward:\",\n        value: `${(analysisData.defenderReward || 0).toFixed(1)} points`\n      }];\n    } else {\n      // For defeated contracts\n      return [{\n        label: \"1. Base Penalty:\",\n        value: `${(analysisData.basePenalty || 0).toFixed(1)} points`\n      }, {\n        label: \"2. Contract Level Penalties:\",\n        value: `${(analysisData.levelPenalties || 0).toFixed(1)} points`\n      }, {\n        label: \"3. Performance Bonus:\",\n        value: `${(analysisData.performanceBonus || 0).toFixed(1)} points`\n      }, {\n        label: \"4. Declarer Consolation:\",\n        value: `${(analysisData.consolationPoints || 0).toFixed(1)} points`\n      }];\n    }\n  };\n\n  // Get final score for display\n  const finalScore = getFinalScore();\n\n  // Get scores so far for display - FIXED: Include the current deal's scores\n  const getScoresSoFar = () => {\n    // Get the running totals from scores prop\n    const baseTotals = {\n      nsTotal: (scores === null || scores === void 0 ? void 0 : scores.nsTotal) || 0,\n      ewTotal: (scores === null || scores === void 0 ? void 0 : scores.ewTotal) || 0,\n      bonusNsTotal: (scores === null || scores === void 0 ? void 0 : scores.bonusNsTotal) || 0,\n      bonusEwTotal: (scores === null || scores === void 0 ? void 0 : scores.bonusEwTotal) || 0\n    };\n\n    // IMPORTANT: Add the current deal's points to provide the most updated view\n    // These aren't added to the running totals yet, so we need to include them\n    // This ensures the popup shows what the score will be after saving\n    return {\n      nsTotal: baseTotals.nsTotal,\n      ewTotal: baseTotals.ewTotal,\n      // Include the current bonus points in the displayed totals\n      bonusNsTotal: baseTotals.bonusNsTotal + (nsPoints || 0),\n      bonusEwTotal: baseTotals.bonusEwTotal + (ewPoints || 0)\n    };\n  };\n  const scoresSoFar = getScoresSoFar();\n\n  // End game confirmation popup styles\n  const confirmStyles = {\n    overlay: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0, 0, 0, 0.7)',\n      zIndex: 1000,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    container: {\n      backgroundColor: '#fff',\n      borderRadius: '8px',\n      padding: '20px',\n      width: '80%',\n      maxWidth: '320px',\n      boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)'\n    },\n    title: {\n      fontSize: '18px',\n      fontWeight: 'bold',\n      marginBottom: '15px',\n      textAlign: 'center',\n      color: '#1e5c8b'\n    },\n    message: {\n      marginBottom: '15px',\n      lineHeight: '1.4',\n      textAlign: 'center',\n      fontSize: '15px'\n    },\n    buttonContainer: {\n      display: 'flex',\n      justifyContent: 'space-around'\n    },\n    button: {\n      padding: '8px 15px',\n      borderRadius: '5px',\n      border: 'none',\n      color: '#fff',\n      fontWeight: 'bold',\n      cursor: 'pointer',\n      fontSize: '14px'\n    },\n    cancelButton: {\n      backgroundColor: '#1e5c8b'\n    },\n    confirmButton: {\n      backgroundColor: '#3c8c5c'\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"final-score-analysis\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"analysis-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Final Score Analysis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Bonus Bridge Score Calculation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"scores-btn\",\n          onClick: toggleScoresSoFar,\n          children: \"Scores So Far\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"info-btn\",\n          onClick: handleShowExplanation,\n          children: \"?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 7\n    }, this), showScoresSoFar && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"scores-popup\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"scores-popup-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Scores So Far\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"scores-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"scores-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"team-col\",\n              children: \"Team\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"party-col\",\n              children: \"Party Bridge\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bonus-col\",\n              children: \"Bonus Bridge\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"scores-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"team-col\",\n              children: \"North-South\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"party-col\",\n              children: scoresSoFar.nsTotal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bonus-col\",\n              children: scoresSoFar.bonusNsTotal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"scores-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"team-col\",\n              children: \"East-West\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"party-col\",\n              children: scoresSoFar.ewTotal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bonus-col\",\n              children: scoresSoFar.bonusEwTotal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-scores-btn\",\n          onClick: toggleScoresSoFar,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contract-category\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: getContractCategory()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contract-details\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Contract: \", formatContract(), \" \", madeContract ? 'Made' : 'Down', \" \", currentDeal.result !== 0 ? Math.abs(currentDeal.result) : 'exactly']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Raw score: \", currentDeal.rawScore, \" points\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"analysis-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-btn ${activeTab === 'summary' ? 'active' : ''}`,\n        onClick: () => handleTabChange('summary'),\n        children: \"Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-btn ${activeTab === 'hand' ? 'active' : ''}`,\n        onClick: () => handleTabChange('hand'),\n        children: \"Hand Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-btn ${activeTab === 'calculation' ? 'active' : ''}`,\n        onClick: () => handleTabChange('calculation'),\n        children: \"Calculation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tab-content\",\n      children: [activeTab === 'summary' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-tab\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"final-scores\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Final Bonus Bridge Score\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"score-box\",\n            children: !madeContract ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"score-label\",\n                  children: [finalScore.defenderTeam, \" (Defender):\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"score-value\",\n                  children: [finalScore.defenderPoints, \" points\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"score-label\",\n                  children: [finalScore.declarerTeam, \" (Declarer):\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"score-value\",\n                  children: [finalScore.declarerPoints, \" points\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 506,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"score-label\",\n                  children: [finalScore.declarerTeam, \" (Declarer):\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 512,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"score-value\",\n                  children: [finalScore.declarerPoints, \" points\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"score-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"score-label\",\n                  children: [finalScore.defenderTeam, \" (Defender):\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 516,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"score-value\",\n                  children: [finalScore.defenderPoints, \" points\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 517,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"score-explanation\",\n            children: madeContract ? `The contract was made${currentDeal.result > 0 ? ' with ' + currentDeal.result + ' overtrick' + (currentDeal.result > 1 ? 's' : '') : ' exactly'}.` : `The contract was defeated by ${Math.abs(currentDeal.result)} trick${Math.abs(currentDeal.result) > 1 ? 's' : ''}.`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 11\n      }, this), activeTab === 'hand' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hand-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Hand Analysis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"analysis-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Combined HCP (Declarer + Dummy):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: totalHCP\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Declarer HCP Percentage:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: [declarerHCPPercentage, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Defender HCP Percentage:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: [defenderHCPPercentage, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"HCP Advantage:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: [hcpAdvantage, \"% to \", advantageSide]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Number of Singletons:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: singletons\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Number of Voids:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: voids\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Number of Long Suits (6+ cards):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: longSuits\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 564,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Distribution Points:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: distributionPoints\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Expected HCP for Contract:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 571,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: expectedHCP\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 572,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Contract Expected Tricks:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: contractExpectedTricks\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Hand Expected Tricks:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 579,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: handExpectedTricks\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 578,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 11\n      }, this), activeTab === 'calculation' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calculation-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Calculation Steps (\", madeContract ? 'Made Contract' : 'Defeated Contract', \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"calculation-steps\",\n          children: getCalculationSteps().map((step, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"calc-step\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"step-label\",\n              children: step.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"step-value\",\n              children: step.value\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 595,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 593,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 591,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"final-calculation\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Final Result\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 601,\n            columnNumber: 15\n          }, this), !madeContract ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"calc-step\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"step-label\",\n                children: [finalScore.defenderTeam, \" Points:\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 606,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"step-value\",\n                children: finalScore.defenderPoints\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 607,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"calc-step\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"step-label\",\n                children: [finalScore.declarerTeam, \" Points:\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"step-value\",\n                children: finalScore.declarerPoints\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"calc-step\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"step-label\",\n                children: [finalScore.declarerTeam, \" Points:\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 617,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"step-value\",\n                children: finalScore.declarerPoints\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 618,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 616,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"calc-step\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"step-label\",\n                children: [finalScore.defenderTeam, \" Points:\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 621,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"step-value\",\n                children: finalScore.defenderPoints\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 622,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 620,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"action-buttons\",\n      style: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        gap: '10px',\n        marginTop: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"edit-btn\",\n        onClick: onEdit,\n        style: {\n          flex: '1 1 auto',\n          minWidth: '120px',\n          padding: '12px',\n          backgroundColor: '#8898aa',\n          color: 'white',\n          border: 'none',\n          borderRadius: '6px',\n          fontWeight: 'bold',\n          fontSize: '14px'\n        },\n        children: \"Edit Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 638,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"save-btn\",\n        onClick: handleSave,\n        style: {\n          flex: '1 1 auto',\n          minWidth: '120px',\n          padding: '12px',\n          backgroundColor: '#3c8c5c',\n          color: 'white',\n          border: 'none',\n          borderRadius: '6px',\n          fontWeight: 'bold',\n          fontSize: '14px'\n        },\n        children: \"Save & Continue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 656,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 632,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '15px',\n        width: '100%'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"end-game-btn\",\n        onClick: handleShowEndGameConfirm,\n        style: {\n          backgroundColor: '#f39c12',\n          color: 'white',\n          padding: '12px',\n          borderRadius: '6px',\n          border: 'none',\n          fontWeight: 'bold',\n          width: '100%',\n          fontSize: '16px'\n        },\n        children: \"End Game & View Results\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 680,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 676,\n      columnNumber: 7\n    }, this), showExplanation && /*#__PURE__*/_jsxDEV(BonusBridgeExplanation, {\n      onClose: handleHideExplanation\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 700,\n      columnNumber: 9\n    }, this), showEndGameConfirm && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: confirmStyles.overlay,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: confirmStyles.container,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: confirmStyles.title,\n          children: \"End Current Game?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 707,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: confirmStyles.message,\n          children: \"Are you sure you want to end the current game? This will save the current deal and show the final game results.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: confirmStyles.buttonContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              ...confirmStyles.button,\n              ...confirmStyles.cancelButton\n            },\n            onClick: handleHideEndGameConfirm,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 712,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              ...confirmStyles.button,\n              ...confirmStyles.confirmButton\n            },\n            onClick: handleEndGame,\n            children: \"End Game\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 718,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 711,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 706,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 705,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 413,\n    columnNumber: 5\n  }, this);\n};\n_s(FinalScoreAnalysis, \"v9Ikw+J/0TTen3HEFCbnb1TfkYs=\");\n_c = FinalScoreAnalysis;\nexport default FinalScoreAnalysis;\nvar _c;\n$RefreshReg$(_c, \"FinalScoreAnalysis\");","map":{"version":3,"names":["React","useState","BonusBridgeExplanation","jsxDEV","_jsxDEV","Fragment","_Fragment","FinalScoreAnalysis","analysisData","currentDeal","onSave","onEdit","setGameState","scores","_s","activeTab","setActiveTab","showExplanation","setShowExplanation","showScoresSoFar","setShowScoresSoFar","showEndGameConfirm","setShowEndGameConfirm","madeContract","result","totalHCP","declarerHCPPercentage","defenderHCPPercentage","hcpAdvantage","advantageSide","expectedHCP","singletons","voids","longSuits","distributionPoints","contractExpectedTricks","handExpectedTricks","nsPoints","ewPoints","formatContract","contract","contractMatch","match","level","suit","declarer","doubled","doubledText","declarerFull","getContractCategory","undertricks","Math","abs","parseInt","isGameContract","overtricks","hcpDifference","hcpStatus","doubledStatus","handleShowExplanation","handleHideExplanation","toggleScoresSoFar","handleShowEndGameConfirm","handleHideEndGameConfirm","handleEndGame","handleSave","setTimeout","prevState","gameEnded","handleTabChange","tab","finalScore","currentDealWithBonusScores","bonusNsPoints","bonusEwPoints","getFinalScore","declarerPoints","defenderPoints","isNS","declarerTeam","defenderTeam","getCalculationSteps","label","value","rawScore","toFixed","hcpAdjustment","afterHcpAdjustment","performanceVariance","afterPerformanceAssessment","contractTypeAdjustment","contractTypeDescription","afterContractAdjustments","distributionAdjustment","defenderReward","basePenalty","levelPenalties","performanceBonus","consolationPoints","getScoresSoFar","baseTotals","nsTotal","ewTotal","bonusNsTotal","bonusEwTotal","scoresSoFar","confirmStyles","overlay","position","top","left","right","bottom","backgroundColor","zIndex","display","justifyContent","alignItems","container","borderRadius","padding","width","maxWidth","boxShadow","title","fontSize","fontWeight","marginBottom","textAlign","color","message","lineHeight","buttonContainer","button","border","cursor","cancelButton","confirmButton","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","step","index","style","flexWrap","gap","marginTop","flex","minWidth","onClose","_c","$RefreshReg$"],"sources":["C:/Users/mikec/MikesBridge/bonusbridge/src/components/FinalScoreAnalysis.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport BonusBridgeExplanation from './BonusBridgeExplanation';\r\nimport './FinalScoreAnalysis.css';\r\n\r\n/**\r\n * Component to display final score analysis after Bonus Bridge adjustments\r\n * Redesigned for mobile with tabbed sections\r\n * @param {Object} props - Component props\r\n * @param {Object} props.analysisData - The complete analysis data\r\n * @param {Object} props.currentDeal - Current deal information\r\n * @param {Function} props.onSave - Function to save the analysis\r\n * @param {Function} props.onEdit - Function to go back to edit\r\n */\r\nconst FinalScoreAnalysis = ({ \r\n  analysisData, \r\n  currentDeal, \r\n  onSave, \r\n  onEdit,\r\n  setGameState,\r\n  scores\r\n}) => {\r\n  // State for active tab\r\n  const [activeTab, setActiveTab] = useState('calculation');\r\n  // State for showing explanation\r\n  const [showExplanation, setShowExplanation] = useState(false);\r\n  // State for showing scores so far\r\n  const [showScoresSoFar, setShowScoresSoFar] = useState(false);\r\n  // State for end game confirmation\r\n  const [showEndGameConfirm, setShowEndGameConfirm] = useState(false);\r\n  \r\n  // Determine if the contract was made\r\n  const madeContract = currentDeal.result >= 0;\r\n  \r\n  // Extract information for display\r\n  const {\r\n    totalHCP,\r\n    declarerHCPPercentage,\r\n    defenderHCPPercentage,\r\n    hcpAdvantage,\r\n    advantageSide,\r\n    expectedHCP,\r\n    singletons,\r\n    voids,\r\n    longSuits,\r\n    distributionPoints,\r\n    contractExpectedTricks,\r\n    handExpectedTricks,\r\n    nsPoints,\r\n    ewPoints\r\n  } = analysisData;\r\n  \r\n  // Format contract for display\r\n  const formatContract = () => {\r\n    if (!currentDeal || !currentDeal.contract) return \"\";\r\n    \r\n    // Parse contract components\r\n    const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\r\n    if (!contractMatch) return currentDeal.contract;\r\n    \r\n    const level = contractMatch[1];\r\n    const suit = contractMatch[2];\r\n    const declarer = contractMatch[3];\r\n    const doubled = contractMatch[4] || \"\";\r\n    \r\n    // Format doubled status\r\n    let doubledText = \"\";\r\n    if (doubled === \"X\") {\r\n      doubledText = \" Doubled\";\r\n    } else if (doubled === \"XX\") {\r\n      doubledText = \" Redoubled\";\r\n    }\r\n    \r\n    // Get full declarer direction\r\n    let declarerFull = \"\";\r\n    switch (declarer) {\r\n      case 'N': declarerFull = \"North\"; break;\r\n      case 'E': declarerFull = \"East\"; break;\r\n      case 'S': declarerFull = \"South\"; break;\r\n      case 'W': declarerFull = \"West\"; break;\r\n      default: declarerFull = declarer;\r\n    }\r\n    \r\n    return `${level}${suit} By ${declarerFull}${doubledText}`;\r\n  };\r\n  \r\n  // Get contract category description\r\n  const getContractCategory = () => {\r\n    if (!madeContract) {\r\n      // For defeated contracts\r\n      const undertricks = Math.abs(currentDeal.result);\r\n      \r\n      // Check if it's a game contract\r\n      const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\r\n      if (!contractMatch) return \"Defeated Contract\";\r\n      \r\n      const level = parseInt(contractMatch[1]);\r\n      const suit = contractMatch[2];\r\n      \r\n      const isGameContract = \r\n        (level === 3 && suit === 'NT') ||\r\n        (level === 4 && (suit === '♥' || suit === '♠')) ||\r\n        (level === 5 && (suit === '♣' || suit === '♦')) ||\r\n        level >= 6;\r\n      \r\n      if (level >= 6) {\r\n        return `Failed Slam Attempt (Down ${undertricks})`;\r\n      } else if (isGameContract) {\r\n        return `Failed Game Contract (Down ${undertricks})`;\r\n      } else {\r\n        return `Failed Part Score (Down ${undertricks})`;\r\n      }\r\n    } else {\r\n      // For made contracts\r\n      const overtricks = currentDeal.result;\r\n      \r\n      // Check contract type\r\n      const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\r\n      if (!contractMatch) return \"Made Contract\";\r\n      \r\n      const level = parseInt(contractMatch[1]);\r\n      const suit = contractMatch[2];\r\n      const doubled = contractMatch[4] || \"\";\r\n      \r\n      const isGameContract = \r\n        (level === 3 && suit === 'NT') ||\r\n        (level === 4 && (suit === '♥' || suit === '♠')) ||\r\n        (level === 5 && (suit === '♣' || suit === '♦')) ||\r\n        level >= 6;\r\n      \r\n      // Check HCP relationship to expected\r\n      const hcpDifference = totalHCP - expectedHCP;\r\n      const hcpStatus = hcpDifference >= 2 ? \"Strong\" : (hcpDifference <= -2 ? \"Weak\" : \"Balanced\");\r\n      \r\n      // Include doubled status in category\r\n      let doubledStatus = \"\";\r\n      if (doubled === \"X\") {\r\n        doubledStatus = \" Doubled\";\r\n      } else if (doubled === \"XX\") {\r\n        doubledStatus = \" Redoubled\";\r\n      }\r\n      \r\n      if (level >= 6) {\r\n        return `Made Slam${doubledStatus}${overtricks > 0 ? ` (+${overtricks})` : ''}`;\r\n      } else if (isGameContract) {\r\n        return `Made Game${doubledStatus} with ${hcpStatus} Hand${overtricks > 0 ? ` (+${overtricks})` : ''}`;\r\n      } else {\r\n        return `Made Part Score${doubledStatus}${overtricks > 0 ? ` (+${overtricks})` : ''}`;\r\n      }\r\n    }\r\n  };\r\n  \r\n  // Handler for showing explanation\r\n  const handleShowExplanation = () => {\r\n    setShowExplanation(true);\r\n  };\r\n  \r\n  // Handler for hiding explanation\r\n  const handleHideExplanation = () => {\r\n    setShowExplanation(false);\r\n  };\r\n  \r\n  // Toggle scores so far\r\n  const toggleScoresSoFar = () => {\r\n    setShowScoresSoFar(!showScoresSoFar);\r\n  };\r\n  \r\n  // Show end game confirmation\r\n  const handleShowEndGameConfirm = () => {\r\n    setShowEndGameConfirm(true);\r\n  };\r\n  \r\n  // Hide end game confirmation\r\n  const handleHideEndGameConfirm = () => {\r\n    setShowEndGameConfirm(false);\r\n  };\r\n  \r\n  // End the game and show final results\r\n  const handleEndGame = () => {\r\n    // First save the current deal's scores\r\n    handleSave();\r\n    \r\n    // Then set the game as ended to trigger GameScoreSheet display\r\n    setTimeout(() => {\r\n      setGameState(prevState => ({\r\n        ...prevState,\r\n        gameEnded: true\r\n      }));\r\n    }, 100);\r\n  };\r\n  \r\n  // Change active tab\r\n  const handleTabChange = (tab) => {\r\n    setActiveTab(tab);\r\n  };\r\n  \r\n  // Handle save and continue\r\n  const handleSave = () => {\r\n    // Calculate final scores to send to parent\r\n    const finalScore = {\r\n      nsPoints: nsPoints || 0,\r\n      ewPoints: ewPoints || 0,\r\n      currentDealWithBonusScores: {\r\n        ...currentDeal,\r\n        bonusNsPoints: nsPoints || 0,\r\n        bonusEwPoints: ewPoints || 0\r\n      }\r\n    };\r\n    \r\n    onSave(finalScore);\r\n  };\r\n  \r\n  // Get final score from calculation steps\r\n  const getFinalScore = () => {\r\n    if (madeContract) {\r\n      // Determine which side gets the score\r\n      const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\r\n      if (!contractMatch) return { declarerPoints: 0, defenderPoints: 0 };\r\n      \r\n      const declarer = contractMatch[3];\r\n      const isNS = declarer === 'N' || declarer === 'S';\r\n      \r\n      if (isNS) {\r\n        return {\r\n          declarerTeam: \"North-South\",\r\n          defenderTeam: \"East-West\",\r\n          declarerPoints: nsPoints,\r\n          defenderPoints: ewPoints\r\n        };\r\n      } else {\r\n        return {\r\n          declarerTeam: \"East-West\",\r\n          defenderTeam: \"North-South\",\r\n          declarerPoints: ewPoints,\r\n          defenderPoints: nsPoints\r\n        };\r\n      }\r\n    } else {\r\n      // For defeated contracts - defenders get the points\r\n      const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\r\n      if (!contractMatch) return { defenderPoints: 0, declarerPoints: 0 };\r\n      \r\n      const declarer = contractMatch[3];\r\n      const isNS = declarer === 'N' || declarer === 'S';\r\n      \r\n      if (isNS) {\r\n        // NS is declarer, EW is defender\r\n        return {\r\n          declarerTeam: \"North-South\",\r\n          defenderTeam: \"East-West\",\r\n          declarerPoints: nsPoints,\r\n          defenderPoints: ewPoints\r\n        };\r\n      } else {\r\n        // EW is declarer, NS is defender\r\n        return {\r\n          declarerTeam: \"East-West\",\r\n          defenderTeam: \"North-South\",\r\n          declarerPoints: ewPoints,\r\n          defenderPoints: nsPoints\r\n        };\r\n      }\r\n    }\r\n  };\r\n  \r\n  // Get calculation steps for display\r\n  const getCalculationSteps = () => {\r\n    if (madeContract) {\r\n      return [\r\n        { \r\n          label: \"1. Raw Score / 20:\", \r\n          value: `${(analysisData.rawScore || 0).toFixed(1)} points` \r\n        },\r\n        { \r\n          label: \"2. HCP Adjustment:\", \r\n          value: `${(analysisData.hcpAdjustment || 0).toFixed(2)} points` \r\n        },\r\n        { \r\n          label: \"3. After HCP Adjustment:\", \r\n          value: `${(analysisData.afterHcpAdjustment || 0).toFixed(1)} points` \r\n        },\r\n        { \r\n          label: \"4. Performance Variance:\", \r\n          value: `${analysisData.performanceVariance || 0} tricks` \r\n        },\r\n        { \r\n          label: \"5. After Performance Assessment:\", \r\n          value: `${(analysisData.afterPerformanceAssessment || 0).toFixed(1)} points` \r\n        },\r\n        { \r\n          label: \"6. Contract Type Adjustment:\", \r\n          value: `${(analysisData.contractTypeAdjustment || 0).toFixed(1)} ${analysisData.contractTypeDescription || ''}` \r\n        },\r\n        { \r\n          label: \"7. After Contract Adjustments:\", \r\n          value: `${(analysisData.afterContractAdjustments || 0).toFixed(1)} points` \r\n        },\r\n        { \r\n          label: \"8. Distribution Adjustment:\", \r\n          value: `${(analysisData.distributionAdjustment || 0).toFixed(1)} points` \r\n        },\r\n        { \r\n          label: \"9. Defender Reward:\", \r\n          value: `${(analysisData.defenderReward || 0).toFixed(1)} points` \r\n        }\r\n      ];\r\n    } else {\r\n      // For defeated contracts\r\n      return [\r\n        { \r\n          label: \"1. Base Penalty:\", \r\n          value: `${(analysisData.basePenalty || 0).toFixed(1)} points` \r\n        },\r\n        { \r\n          label: \"2. Contract Level Penalties:\", \r\n          value: `${(analysisData.levelPenalties || 0).toFixed(1)} points` \r\n        },\r\n        { \r\n          label: \"3. Performance Bonus:\", \r\n          value: `${(analysisData.performanceBonus || 0).toFixed(1)} points` \r\n        },\r\n        { \r\n          label: \"4. Declarer Consolation:\", \r\n          value: `${(analysisData.consolationPoints || 0).toFixed(1)} points` \r\n        }\r\n      ];\r\n    }\r\n  };\r\n  \r\n  // Get final score for display\r\n  const finalScore = getFinalScore();\r\n  \r\n  // Get scores so far for display - FIXED: Include the current deal's scores\r\n  const getScoresSoFar = () => {\r\n    // Get the running totals from scores prop\r\n    const baseTotals = {\r\n      nsTotal: scores?.nsTotal || 0,\r\n      ewTotal: scores?.ewTotal || 0,\r\n      bonusNsTotal: scores?.bonusNsTotal || 0,\r\n      bonusEwTotal: scores?.bonusEwTotal || 0\r\n    };\r\n    \r\n    // IMPORTANT: Add the current deal's points to provide the most updated view\r\n    // These aren't added to the running totals yet, so we need to include them\r\n    // This ensures the popup shows what the score will be after saving\r\n    return {\r\n      nsTotal: baseTotals.nsTotal,\r\n      ewTotal: baseTotals.ewTotal,\r\n      // Include the current bonus points in the displayed totals\r\n      bonusNsTotal: baseTotals.bonusNsTotal + (nsPoints || 0),\r\n      bonusEwTotal: baseTotals.bonusEwTotal + (ewPoints || 0)\r\n    };\r\n  };\r\n  \r\n  const scoresSoFar = getScoresSoFar();\r\n  \r\n  // End game confirmation popup styles\r\n  const confirmStyles = {\r\n    overlay: {\r\n      position: 'fixed',\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n      zIndex: 1000,\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center'\r\n    },\r\n    container: {\r\n      backgroundColor: '#fff',\r\n      borderRadius: '8px',\r\n      padding: '20px',\r\n      width: '80%',\r\n      maxWidth: '320px',\r\n      boxShadow: '0 4px 8px rgba(0, 0, 0, 0.2)'\r\n    },\r\n    title: {\r\n      fontSize: '18px',\r\n      fontWeight: 'bold',\r\n      marginBottom: '15px',\r\n      textAlign: 'center',\r\n      color: '#1e5c8b'\r\n    },\r\n    message: {\r\n      marginBottom: '15px',\r\n      lineHeight: '1.4',\r\n      textAlign: 'center',\r\n      fontSize: '15px'\r\n    },\r\n    buttonContainer: {\r\n      display: 'flex',\r\n      justifyContent: 'space-around'\r\n    },\r\n    button: {\r\n      padding: '8px 15px',\r\n      borderRadius: '5px',\r\n      border: 'none',\r\n      color: '#fff',\r\n      fontWeight: 'bold',\r\n      cursor: 'pointer',\r\n      fontSize: '14px'\r\n    },\r\n    cancelButton: {\r\n      backgroundColor: '#1e5c8b'\r\n    },\r\n    confirmButton: {\r\n      backgroundColor: '#3c8c5c'\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"final-score-analysis\">\r\n      <header className=\"analysis-header\">\r\n        <div className=\"title-container\">\r\n          <h1>Final Score Analysis</h1>\r\n          <p>Bonus Bridge Score Calculation</p>\r\n        </div>\r\n        <div className=\"header-buttons\">\r\n          <button className=\"scores-btn\" onClick={toggleScoresSoFar}>\r\n            Scores So Far\r\n          </button>\r\n          <button className=\"info-btn\" onClick={handleShowExplanation}>\r\n            ?\r\n          </button>\r\n        </div>\r\n      </header>\r\n      \r\n      {/* Scores So Far Popup */}\r\n      {showScoresSoFar && (\r\n        <div className=\"scores-popup\">\r\n          <div className=\"scores-popup-content\">\r\n            <h3>Scores So Far</h3>\r\n            <div className=\"scores-table\">\r\n              <div className=\"scores-header\">\r\n                <div className=\"team-col\">Team</div>\r\n                <div className=\"party-col\">Party Bridge</div>\r\n                <div className=\"bonus-col\">Bonus Bridge</div>\r\n              </div>\r\n              <div className=\"scores-row\">\r\n                <div className=\"team-col\">North-South</div>\r\n                <div className=\"party-col\">{scoresSoFar.nsTotal}</div>\r\n                <div className=\"bonus-col\">{scoresSoFar.bonusNsTotal}</div>\r\n              </div>\r\n              <div className=\"scores-row\">\r\n                <div className=\"team-col\">East-West</div>\r\n                <div className=\"party-col\">{scoresSoFar.ewTotal}</div>\r\n                <div className=\"bonus-col\">{scoresSoFar.bonusEwTotal}</div>\r\n              </div>\r\n            </div>\r\n            <button className=\"close-scores-btn\" onClick={toggleScoresSoFar}>Close</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Contract Category Banner */}\r\n      <div className=\"contract-category\">\r\n        <h2>{getContractCategory()}</h2>\r\n      </div>\r\n      \r\n      {/* Contract Details */}\r\n      <div className=\"contract-details\">\r\n        <p>Contract: {formatContract()} {madeContract ? 'Made' : 'Down'} {currentDeal.result !== 0 ? Math.abs(currentDeal.result) : 'exactly'}</p>\r\n        <p>Raw score: {currentDeal.rawScore} points</p>\r\n      </div>\r\n      \r\n      {/* Tab Navigation */}\r\n      <div className=\"analysis-tabs\">\r\n        <button \r\n          className={`tab-btn ${activeTab === 'summary' ? 'active' : ''}`}\r\n          onClick={() => handleTabChange('summary')}\r\n        >\r\n          Summary\r\n        </button>\r\n        <button \r\n          className={`tab-btn ${activeTab === 'hand' ? 'active' : ''}`}\r\n          onClick={() => handleTabChange('hand')}\r\n        >\r\n          Hand Analysis\r\n        </button>\r\n        <button \r\n          className={`tab-btn ${activeTab === 'calculation' ? 'active' : ''}`}\r\n          onClick={() => handleTabChange('calculation')}\r\n        >\r\n          Calculation\r\n        </button>\r\n      </div>\r\n      \r\n      {/* Tab Content */}\r\n      <div className=\"tab-content\">\r\n        {/* Summary Tab */}\r\n        {activeTab === 'summary' && (\r\n          <div className=\"summary-tab\">\r\n            <div className=\"final-scores\">\r\n              <h3>Final Bonus Bridge Score</h3>\r\n              <div className=\"score-box\">\r\n                {/* For defeated contracts, show defender first since they get the points */}\r\n                {!madeContract ? (\r\n                  <>\r\n                    <div className=\"score-row\">\r\n                      <span className=\"score-label\">{finalScore.defenderTeam} (Defender):</span>\r\n                      <span className=\"score-value\">{finalScore.defenderPoints} points</span>\r\n                    </div>\r\n                    <div className=\"score-row\">\r\n                      <span className=\"score-label\">{finalScore.declarerTeam} (Declarer):</span>\r\n                      <span className=\"score-value\">{finalScore.declarerPoints} points</span>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <div className=\"score-row\">\r\n                      <span className=\"score-label\">{finalScore.declarerTeam} (Declarer):</span>\r\n                      <span className=\"score-value\">{finalScore.declarerPoints} points</span>\r\n                    </div>\r\n                    <div className=\"score-row\">\r\n                      <span className=\"score-label\">{finalScore.defenderTeam} (Defender):</span>\r\n                      <span className=\"score-value\">{finalScore.defenderPoints} points</span>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n              \r\n              <p className=\"score-explanation\">\r\n                {madeContract ? \r\n                  `The contract was made${currentDeal.result > 0 ? ' with ' + currentDeal.result + ' overtrick' + (currentDeal.result > 1 ? 's' : '') : ' exactly'}.` :\r\n                  `The contract was defeated by ${Math.abs(currentDeal.result)} trick${Math.abs(currentDeal.result) > 1 ? 's' : ''}.`\r\n                }\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        {/* Hand Analysis Tab */}\r\n        {activeTab === 'hand' && (\r\n          <div className=\"hand-tab\">\r\n            <h3>Hand Analysis</h3>\r\n            <div className=\"analysis-details\">\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">Combined HCP (Declarer + Dummy):</span>\r\n                <span className=\"detail-value\">{totalHCP}</span>\r\n              </div>\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">Declarer HCP Percentage:</span>\r\n                <span className=\"detail-value\">{declarerHCPPercentage}%</span>\r\n              </div>\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">Defender HCP Percentage:</span>\r\n                <span className=\"detail-value\">{defenderHCPPercentage}%</span>\r\n              </div>\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">HCP Advantage:</span>\r\n                <span className=\"detail-value\">{hcpAdvantage}% to {advantageSide}</span>\r\n              </div>\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">Number of Singletons:</span>\r\n                <span className=\"detail-value\">{singletons}</span>\r\n              </div>\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">Number of Voids:</span>\r\n                <span className=\"detail-value\">{voids}</span>\r\n              </div>\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">Number of Long Suits (6+ cards):</span>\r\n                <span className=\"detail-value\">{longSuits}</span>\r\n              </div>\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">Distribution Points:</span>\r\n                <span className=\"detail-value\">{distributionPoints}</span>\r\n              </div>\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">Expected HCP for Contract:</span>\r\n                <span className=\"detail-value\">{expectedHCP}</span>\r\n              </div>\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">Contract Expected Tricks:</span>\r\n                <span className=\"detail-value\">{contractExpectedTricks}</span>\r\n              </div>\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">Hand Expected Tricks:</span>\r\n                <span className=\"detail-value\">{handExpectedTricks}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        {/* Calculation Tab */}\r\n        {activeTab === 'calculation' && (\r\n          <div className=\"calculation-tab\">\r\n            <h3>Calculation Steps ({madeContract ? 'Made Contract' : 'Defeated Contract'})</h3>\r\n            \r\n            <div className=\"calculation-steps\">\r\n              {getCalculationSteps().map((step, index) => (\r\n                <div className=\"calc-step\" key={index}>\r\n                  <span className=\"step-label\">{step.label}</span>\r\n                  <span className=\"step-value\">{step.value}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            \r\n            <div className=\"final-calculation\">\r\n              <h3>Final Result</h3>\r\n              {/* For defeated contracts, show in correct order */}\r\n              {!madeContract ? (\r\n                <>\r\n                  <div className=\"calc-step\">\r\n                    <span className=\"step-label\">{finalScore.defenderTeam} Points:</span>\r\n                    <span className=\"step-value\">{finalScore.defenderPoints}</span>\r\n                  </div>\r\n                  <div className=\"calc-step\">\r\n                    <span className=\"step-label\">{finalScore.declarerTeam} Points:</span>\r\n                    <span className=\"step-value\">{finalScore.declarerPoints}</span>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <div className=\"calc-step\">\r\n                    <span className=\"step-label\">{finalScore.declarerTeam} Points:</span>\r\n                    <span className=\"step-value\">{finalScore.declarerPoints}</span>\r\n                  </div>\r\n                  <div className=\"calc-step\">\r\n                    <span className=\"step-label\">{finalScore.defenderTeam} Points:</span>\r\n                    <span className=\"step-value\">{finalScore.defenderPoints}</span>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Action buttons - Improved layout */}\r\n      <div className=\"action-buttons\" style={{\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        gap: '10px',\r\n        marginTop: '20px'\r\n      }}>\r\n        <button \r\n          className=\"edit-btn\"\r\n          onClick={onEdit}\r\n          style={{\r\n            flex: '1 1 auto',\r\n            minWidth: '120px',\r\n            padding: '12px',\r\n            backgroundColor: '#8898aa',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '6px',\r\n            fontWeight: 'bold',\r\n            fontSize: '14px'\r\n          }}\r\n        >\r\n          Edit Analysis\r\n        </button>\r\n        \r\n        <button \r\n          className=\"save-btn\"\r\n          onClick={handleSave}\r\n          style={{\r\n            flex: '1 1 auto',\r\n            minWidth: '120px',\r\n            padding: '12px',\r\n            backgroundColor: '#3c8c5c',\r\n            color: 'white',\r\n            border: 'none', \r\n            borderRadius: '6px',\r\n            fontWeight: 'bold',\r\n            fontSize: '14px'\r\n          }}\r\n        >\r\n          Save & Continue\r\n        </button>\r\n      </div>\r\n      \r\n      {/* Separate row for End Game button */}\r\n      <div style={{\r\n        marginTop: '15px',\r\n        width: '100%'\r\n      }}>\r\n        <button \r\n          className=\"end-game-btn\"\r\n          onClick={handleShowEndGameConfirm}\r\n          style={{\r\n            backgroundColor: '#f39c12',\r\n            color: 'white',\r\n            padding: '12px',\r\n            borderRadius: '6px',\r\n            border: 'none',\r\n            fontWeight: 'bold',\r\n            width: '100%',\r\n            fontSize: '16px'\r\n          }}\r\n        >\r\n          End Game & View Results\r\n        </button>\r\n      </div>\r\n      \r\n      {/* Explanation popup when shown */}\r\n      {showExplanation && (\r\n        <BonusBridgeExplanation onClose={handleHideExplanation} />\r\n      )}\r\n      \r\n      {/* End Game Confirmation Popup */}\r\n      {showEndGameConfirm && (\r\n        <div style={confirmStyles.overlay}>\r\n          <div style={confirmStyles.container}>\r\n            <h2 style={confirmStyles.title}>End Current Game?</h2>\r\n            <p style={confirmStyles.message}>\r\n              Are you sure you want to end the current game? This will save the current deal and show the final game results.\r\n            </p>\r\n            <div style={confirmStyles.buttonContainer}>\r\n              <button \r\n                style={{...confirmStyles.button, ...confirmStyles.cancelButton}}\r\n                onClick={handleHideEndGameConfirm}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button \r\n                style={{...confirmStyles.button, ...confirmStyles.confirmButton}}\r\n                onClick={handleEndGame}\r\n              >\r\n                End Game\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FinalScoreAnalysis;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,sBAAsB,MAAM,0BAA0B;AAC7D,OAAO,0BAA0B;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AASA,MAAMC,kBAAkB,GAAGA,CAAC;EAC1BC,YAAY;EACZC,WAAW;EACXC,MAAM;EACNC,MAAM;EACNC,YAAY;EACZC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ;EACA,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGf,QAAQ,CAAC,aAAa,CAAC;EACzD;EACA,MAAM,CAACgB,eAAe,EAAEC,kBAAkB,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;EAC7D;EACA,MAAM,CAACkB,eAAe,EAAEC,kBAAkB,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EAC7D;EACA,MAAM,CAACoB,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;;EAEnE;EACA,MAAMsB,YAAY,GAAGd,WAAW,CAACe,MAAM,IAAI,CAAC;;EAE5C;EACA,MAAM;IACJC,QAAQ;IACRC,qBAAqB;IACrBC,qBAAqB;IACrBC,YAAY;IACZC,aAAa;IACbC,WAAW;IACXC,UAAU;IACVC,KAAK;IACLC,SAAS;IACTC,kBAAkB;IAClBC,sBAAsB;IACtBC,kBAAkB;IAClBC,QAAQ;IACRC;EACF,CAAC,GAAG9B,YAAY;;EAEhB;EACA,MAAM+B,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAI,CAAC9B,WAAW,IAAI,CAACA,WAAW,CAAC+B,QAAQ,EAAE,OAAO,EAAE;;IAEpD;IACA,MAAMC,aAAa,GAAGhC,WAAW,CAAC+B,QAAQ,CAACE,KAAK,CAAC,oCAAoC,CAAC;IACtF,IAAI,CAACD,aAAa,EAAE,OAAOhC,WAAW,CAAC+B,QAAQ;IAE/C,MAAMG,KAAK,GAAGF,aAAa,CAAC,CAAC,CAAC;IAC9B,MAAMG,IAAI,GAAGH,aAAa,CAAC,CAAC,CAAC;IAC7B,MAAMI,QAAQ,GAAGJ,aAAa,CAAC,CAAC,CAAC;IACjC,MAAMK,OAAO,GAAGL,aAAa,CAAC,CAAC,CAAC,IAAI,EAAE;;IAEtC;IACA,IAAIM,WAAW,GAAG,EAAE;IACpB,IAAID,OAAO,KAAK,GAAG,EAAE;MACnBC,WAAW,GAAG,UAAU;IAC1B,CAAC,MAAM,IAAID,OAAO,KAAK,IAAI,EAAE;MAC3BC,WAAW,GAAG,YAAY;IAC5B;;IAEA;IACA,IAAIC,YAAY,GAAG,EAAE;IACrB,QAAQH,QAAQ;MACd,KAAK,GAAG;QAAEG,YAAY,GAAG,OAAO;QAAE;MAClC,KAAK,GAAG;QAAEA,YAAY,GAAG,MAAM;QAAE;MACjC,KAAK,GAAG;QAAEA,YAAY,GAAG,OAAO;QAAE;MAClC,KAAK,GAAG;QAAEA,YAAY,GAAG,MAAM;QAAE;MACjC;QAASA,YAAY,GAAGH,QAAQ;IAClC;IAEA,OAAO,GAAGF,KAAK,GAAGC,IAAI,OAAOI,YAAY,GAAGD,WAAW,EAAE;EAC3D,CAAC;;EAED;EACA,MAAME,mBAAmB,GAAGA,CAAA,KAAM;IAChC,IAAI,CAAC1B,YAAY,EAAE;MACjB;MACA,MAAM2B,WAAW,GAAGC,IAAI,CAACC,GAAG,CAAC3C,WAAW,CAACe,MAAM,CAAC;;MAEhD;MACA,MAAMiB,aAAa,GAAGhC,WAAW,CAAC+B,QAAQ,CAACE,KAAK,CAAC,oCAAoC,CAAC;MACtF,IAAI,CAACD,aAAa,EAAE,OAAO,mBAAmB;MAE9C,MAAME,KAAK,GAAGU,QAAQ,CAACZ,aAAa,CAAC,CAAC,CAAC,CAAC;MACxC,MAAMG,IAAI,GAAGH,aAAa,CAAC,CAAC,CAAC;MAE7B,MAAMa,cAAc,GACjBX,KAAK,KAAK,CAAC,IAAIC,IAAI,KAAK,IAAI,IAC5BD,KAAK,KAAK,CAAC,KAAKC,IAAI,KAAK,GAAG,IAAIA,IAAI,KAAK,GAAG,CAAE,IAC9CD,KAAK,KAAK,CAAC,KAAKC,IAAI,KAAK,GAAG,IAAIA,IAAI,KAAK,GAAG,CAAE,IAC/CD,KAAK,IAAI,CAAC;MAEZ,IAAIA,KAAK,IAAI,CAAC,EAAE;QACd,OAAO,6BAA6BO,WAAW,GAAG;MACpD,CAAC,MAAM,IAAII,cAAc,EAAE;QACzB,OAAO,8BAA8BJ,WAAW,GAAG;MACrD,CAAC,MAAM;QACL,OAAO,2BAA2BA,WAAW,GAAG;MAClD;IACF,CAAC,MAAM;MACL;MACA,MAAMK,UAAU,GAAG9C,WAAW,CAACe,MAAM;;MAErC;MACA,MAAMiB,aAAa,GAAGhC,WAAW,CAAC+B,QAAQ,CAACE,KAAK,CAAC,oCAAoC,CAAC;MACtF,IAAI,CAACD,aAAa,EAAE,OAAO,eAAe;MAE1C,MAAME,KAAK,GAAGU,QAAQ,CAACZ,aAAa,CAAC,CAAC,CAAC,CAAC;MACxC,MAAMG,IAAI,GAAGH,aAAa,CAAC,CAAC,CAAC;MAC7B,MAAMK,OAAO,GAAGL,aAAa,CAAC,CAAC,CAAC,IAAI,EAAE;MAEtC,MAAMa,cAAc,GACjBX,KAAK,KAAK,CAAC,IAAIC,IAAI,KAAK,IAAI,IAC5BD,KAAK,KAAK,CAAC,KAAKC,IAAI,KAAK,GAAG,IAAIA,IAAI,KAAK,GAAG,CAAE,IAC9CD,KAAK,KAAK,CAAC,KAAKC,IAAI,KAAK,GAAG,IAAIA,IAAI,KAAK,GAAG,CAAE,IAC/CD,KAAK,IAAI,CAAC;;MAEZ;MACA,MAAMa,aAAa,GAAG/B,QAAQ,GAAGK,WAAW;MAC5C,MAAM2B,SAAS,GAAGD,aAAa,IAAI,CAAC,GAAG,QAAQ,GAAIA,aAAa,IAAI,CAAC,CAAC,GAAG,MAAM,GAAG,UAAW;;MAE7F;MACA,IAAIE,aAAa,GAAG,EAAE;MACtB,IAAIZ,OAAO,KAAK,GAAG,EAAE;QACnBY,aAAa,GAAG,UAAU;MAC5B,CAAC,MAAM,IAAIZ,OAAO,KAAK,IAAI,EAAE;QAC3BY,aAAa,GAAG,YAAY;MAC9B;MAEA,IAAIf,KAAK,IAAI,CAAC,EAAE;QACd,OAAO,YAAYe,aAAa,GAAGH,UAAU,GAAG,CAAC,GAAG,MAAMA,UAAU,GAAG,GAAG,EAAE,EAAE;MAChF,CAAC,MAAM,IAAID,cAAc,EAAE;QACzB,OAAO,YAAYI,aAAa,SAASD,SAAS,QAAQF,UAAU,GAAG,CAAC,GAAG,MAAMA,UAAU,GAAG,GAAG,EAAE,EAAE;MACvG,CAAC,MAAM;QACL,OAAO,kBAAkBG,aAAa,GAAGH,UAAU,GAAG,CAAC,GAAG,MAAMA,UAAU,GAAG,GAAG,EAAE,EAAE;MACtF;IACF;EACF,CAAC;;EAED;EACA,MAAMI,qBAAqB,GAAGA,CAAA,KAAM;IAClCzC,kBAAkB,CAAC,IAAI,CAAC;EAC1B,CAAC;;EAED;EACA,MAAM0C,qBAAqB,GAAGA,CAAA,KAAM;IAClC1C,kBAAkB,CAAC,KAAK,CAAC;EAC3B,CAAC;;EAED;EACA,MAAM2C,iBAAiB,GAAGA,CAAA,KAAM;IAC9BzC,kBAAkB,CAAC,CAACD,eAAe,CAAC;EACtC,CAAC;;EAED;EACA,MAAM2C,wBAAwB,GAAGA,CAAA,KAAM;IACrCxC,qBAAqB,CAAC,IAAI,CAAC;EAC7B,CAAC;;EAED;EACA,MAAMyC,wBAAwB,GAAGA,CAAA,KAAM;IACrCzC,qBAAqB,CAAC,KAAK,CAAC;EAC9B,CAAC;;EAED;EACA,MAAM0C,aAAa,GAAGA,CAAA,KAAM;IAC1B;IACAC,UAAU,CAAC,CAAC;;IAEZ;IACAC,UAAU,CAAC,MAAM;MACftD,YAAY,CAACuD,SAAS,KAAK;QACzB,GAAGA,SAAS;QACZC,SAAS,EAAE;MACb,CAAC,CAAC,CAAC;IACL,CAAC,EAAE,GAAG,CAAC;EACT,CAAC;;EAED;EACA,MAAMC,eAAe,GAAIC,GAAG,IAAK;IAC/BtD,YAAY,CAACsD,GAAG,CAAC;EACnB,CAAC;;EAED;EACA,MAAML,UAAU,GAAGA,CAAA,KAAM;IACvB;IACA,MAAMM,UAAU,GAAG;MACjBlC,QAAQ,EAAEA,QAAQ,IAAI,CAAC;MACvBC,QAAQ,EAAEA,QAAQ,IAAI,CAAC;MACvBkC,0BAA0B,EAAE;QAC1B,GAAG/D,WAAW;QACdgE,aAAa,EAAEpC,QAAQ,IAAI,CAAC;QAC5BqC,aAAa,EAAEpC,QAAQ,IAAI;MAC7B;IACF,CAAC;IAED5B,MAAM,CAAC6D,UAAU,CAAC;EACpB,CAAC;;EAED;EACA,MAAMI,aAAa,GAAGA,CAAA,KAAM;IAC1B,IAAIpD,YAAY,EAAE;MAChB;MACA,MAAMkB,aAAa,GAAGhC,WAAW,CAAC+B,QAAQ,CAACE,KAAK,CAAC,oCAAoC,CAAC;MACtF,IAAI,CAACD,aAAa,EAAE,OAAO;QAAEmC,cAAc,EAAE,CAAC;QAAEC,cAAc,EAAE;MAAE,CAAC;MAEnE,MAAMhC,QAAQ,GAAGJ,aAAa,CAAC,CAAC,CAAC;MACjC,MAAMqC,IAAI,GAAGjC,QAAQ,KAAK,GAAG,IAAIA,QAAQ,KAAK,GAAG;MAEjD,IAAIiC,IAAI,EAAE;QACR,OAAO;UACLC,YAAY,EAAE,aAAa;UAC3BC,YAAY,EAAE,WAAW;UACzBJ,cAAc,EAAEvC,QAAQ;UACxBwC,cAAc,EAAEvC;QAClB,CAAC;MACH,CAAC,MAAM;QACL,OAAO;UACLyC,YAAY,EAAE,WAAW;UACzBC,YAAY,EAAE,aAAa;UAC3BJ,cAAc,EAAEtC,QAAQ;UACxBuC,cAAc,EAAExC;QAClB,CAAC;MACH;IACF,CAAC,MAAM;MACL;MACA,MAAMI,aAAa,GAAGhC,WAAW,CAAC+B,QAAQ,CAACE,KAAK,CAAC,oCAAoC,CAAC;MACtF,IAAI,CAACD,aAAa,EAAE,OAAO;QAAEoC,cAAc,EAAE,CAAC;QAAED,cAAc,EAAE;MAAE,CAAC;MAEnE,MAAM/B,QAAQ,GAAGJ,aAAa,CAAC,CAAC,CAAC;MACjC,MAAMqC,IAAI,GAAGjC,QAAQ,KAAK,GAAG,IAAIA,QAAQ,KAAK,GAAG;MAEjD,IAAIiC,IAAI,EAAE;QACR;QACA,OAAO;UACLC,YAAY,EAAE,aAAa;UAC3BC,YAAY,EAAE,WAAW;UACzBJ,cAAc,EAAEvC,QAAQ;UACxBwC,cAAc,EAAEvC;QAClB,CAAC;MACH,CAAC,MAAM;QACL;QACA,OAAO;UACLyC,YAAY,EAAE,WAAW;UACzBC,YAAY,EAAE,aAAa;UAC3BJ,cAAc,EAAEtC,QAAQ;UACxBuC,cAAc,EAAExC;QAClB,CAAC;MACH;IACF;EACF,CAAC;;EAED;EACA,MAAM4C,mBAAmB,GAAGA,CAAA,KAAM;IAChC,IAAI1D,YAAY,EAAE;MAChB,OAAO,CACL;QACE2D,KAAK,EAAE,oBAAoB;QAC3BC,KAAK,EAAE,GAAG,CAAC3E,YAAY,CAAC4E,QAAQ,IAAI,CAAC,EAAEC,OAAO,CAAC,CAAC,CAAC;MACnD,CAAC,EACD;QACEH,KAAK,EAAE,oBAAoB;QAC3BC,KAAK,EAAE,GAAG,CAAC3E,YAAY,CAAC8E,aAAa,IAAI,CAAC,EAAED,OAAO,CAAC,CAAC,CAAC;MACxD,CAAC,EACD;QACEH,KAAK,EAAE,0BAA0B;QACjCC,KAAK,EAAE,GAAG,CAAC3E,YAAY,CAAC+E,kBAAkB,IAAI,CAAC,EAAEF,OAAO,CAAC,CAAC,CAAC;MAC7D,CAAC,EACD;QACEH,KAAK,EAAE,0BAA0B;QACjCC,KAAK,EAAE,GAAG3E,YAAY,CAACgF,mBAAmB,IAAI,CAAC;MACjD,CAAC,EACD;QACEN,KAAK,EAAE,kCAAkC;QACzCC,KAAK,EAAE,GAAG,CAAC3E,YAAY,CAACiF,0BAA0B,IAAI,CAAC,EAAEJ,OAAO,CAAC,CAAC,CAAC;MACrE,CAAC,EACD;QACEH,KAAK,EAAE,8BAA8B;QACrCC,KAAK,EAAE,GAAG,CAAC3E,YAAY,CAACkF,sBAAsB,IAAI,CAAC,EAAEL,OAAO,CAAC,CAAC,CAAC,IAAI7E,YAAY,CAACmF,uBAAuB,IAAI,EAAE;MAC/G,CAAC,EACD;QACET,KAAK,EAAE,gCAAgC;QACvCC,KAAK,EAAE,GAAG,CAAC3E,YAAY,CAACoF,wBAAwB,IAAI,CAAC,EAAEP,OAAO,CAAC,CAAC,CAAC;MACnE,CAAC,EACD;QACEH,KAAK,EAAE,6BAA6B;QACpCC,KAAK,EAAE,GAAG,CAAC3E,YAAY,CAACqF,sBAAsB,IAAI,CAAC,EAAER,OAAO,CAAC,CAAC,CAAC;MACjE,CAAC,EACD;QACEH,KAAK,EAAE,qBAAqB;QAC5BC,KAAK,EAAE,GAAG,CAAC3E,YAAY,CAACsF,cAAc,IAAI,CAAC,EAAET,OAAO,CAAC,CAAC,CAAC;MACzD,CAAC,CACF;IACH,CAAC,MAAM;MACL;MACA,OAAO,CACL;QACEH,KAAK,EAAE,kBAAkB;QACzBC,KAAK,EAAE,GAAG,CAAC3E,YAAY,CAACuF,WAAW,IAAI,CAAC,EAAEV,OAAO,CAAC,CAAC,CAAC;MACtD,CAAC,EACD;QACEH,KAAK,EAAE,8BAA8B;QACrCC,KAAK,EAAE,GAAG,CAAC3E,YAAY,CAACwF,cAAc,IAAI,CAAC,EAAEX,OAAO,CAAC,CAAC,CAAC;MACzD,CAAC,EACD;QACEH,KAAK,EAAE,uBAAuB;QAC9BC,KAAK,EAAE,GAAG,CAAC3E,YAAY,CAACyF,gBAAgB,IAAI,CAAC,EAAEZ,OAAO,CAAC,CAAC,CAAC;MAC3D,CAAC,EACD;QACEH,KAAK,EAAE,0BAA0B;QACjCC,KAAK,EAAE,GAAG,CAAC3E,YAAY,CAAC0F,iBAAiB,IAAI,CAAC,EAAEb,OAAO,CAAC,CAAC,CAAC;MAC5D,CAAC,CACF;IACH;EACF,CAAC;;EAED;EACA,MAAMd,UAAU,GAAGI,aAAa,CAAC,CAAC;;EAElC;EACA,MAAMwB,cAAc,GAAGA,CAAA,KAAM;IAC3B;IACA,MAAMC,UAAU,GAAG;MACjBC,OAAO,EAAE,CAAAxF,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEwF,OAAO,KAAI,CAAC;MAC7BC,OAAO,EAAE,CAAAzF,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEyF,OAAO,KAAI,CAAC;MAC7BC,YAAY,EAAE,CAAA1F,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE0F,YAAY,KAAI,CAAC;MACvCC,YAAY,EAAE,CAAA3F,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE2F,YAAY,KAAI;IACxC,CAAC;;IAED;IACA;IACA;IACA,OAAO;MACLH,OAAO,EAAED,UAAU,CAACC,OAAO;MAC3BC,OAAO,EAAEF,UAAU,CAACE,OAAO;MAC3B;MACAC,YAAY,EAAEH,UAAU,CAACG,YAAY,IAAIlE,QAAQ,IAAI,CAAC,CAAC;MACvDmE,YAAY,EAAEJ,UAAU,CAACI,YAAY,IAAIlE,QAAQ,IAAI,CAAC;IACxD,CAAC;EACH,CAAC;EAED,MAAMmE,WAAW,GAAGN,cAAc,CAAC,CAAC;;EAEpC;EACA,MAAMO,aAAa,GAAG;IACpBC,OAAO,EAAE;MACPC,QAAQ,EAAE,OAAO;MACjBC,GAAG,EAAE,CAAC;MACNC,IAAI,EAAE,CAAC;MACPC,KAAK,EAAE,CAAC;MACRC,MAAM,EAAE,CAAC;MACTC,eAAe,EAAE,oBAAoB;MACrCC,MAAM,EAAE,IAAI;MACZC,OAAO,EAAE,MAAM;MACfC,cAAc,EAAE,QAAQ;MACxBC,UAAU,EAAE;IACd,CAAC;IACDC,SAAS,EAAE;MACTL,eAAe,EAAE,MAAM;MACvBM,YAAY,EAAE,KAAK;MACnBC,OAAO,EAAE,MAAM;MACfC,KAAK,EAAE,KAAK;MACZC,QAAQ,EAAE,OAAO;MACjBC,SAAS,EAAE;IACb,CAAC;IACDC,KAAK,EAAE;MACLC,QAAQ,EAAE,MAAM;MAChBC,UAAU,EAAE,MAAM;MAClBC,YAAY,EAAE,MAAM;MACpBC,SAAS,EAAE,QAAQ;MACnBC,KAAK,EAAE;IACT,CAAC;IACDC,OAAO,EAAE;MACPH,YAAY,EAAE,MAAM;MACpBI,UAAU,EAAE,KAAK;MACjBH,SAAS,EAAE,QAAQ;MACnBH,QAAQ,EAAE;IACZ,CAAC;IACDO,eAAe,EAAE;MACfjB,OAAO,EAAE,MAAM;MACfC,cAAc,EAAE;IAClB,CAAC;IACDiB,MAAM,EAAE;MACNb,OAAO,EAAE,UAAU;MACnBD,YAAY,EAAE,KAAK;MACnBe,MAAM,EAAE,MAAM;MACdL,KAAK,EAAE,MAAM;MACbH,UAAU,EAAE,MAAM;MAClBS,MAAM,EAAE,SAAS;MACjBV,QAAQ,EAAE;IACZ,CAAC;IACDW,YAAY,EAAE;MACZvB,eAAe,EAAE;IACnB,CAAC;IACDwB,aAAa,EAAE;MACbxB,eAAe,EAAE;IACnB;EACF,CAAC;EAED,oBACE7G,OAAA;IAAKsI,SAAS,EAAC,sBAAsB;IAAAC,QAAA,gBACnCvI,OAAA;MAAQsI,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBACjCvI,OAAA;QAAKsI,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9BvI,OAAA;UAAAuI,QAAA,EAAI;QAAoB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC7B3I,OAAA;UAAAuI,QAAA,EAAG;QAA8B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClC,CAAC,eACN3I,OAAA;QAAKsI,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7BvI,OAAA;UAAQsI,SAAS,EAAC,YAAY;UAACM,OAAO,EAAEnF,iBAAkB;UAAA8E,QAAA,EAAC;QAE3D;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACT3I,OAAA;UAAQsI,SAAS,EAAC,UAAU;UAACM,OAAO,EAAErF,qBAAsB;UAAAgF,QAAA,EAAC;QAE7D;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,EAGR5H,eAAe,iBACdf,OAAA;MAAKsI,SAAS,EAAC,cAAc;MAAAC,QAAA,eAC3BvI,OAAA;QAAKsI,SAAS,EAAC,sBAAsB;QAAAC,QAAA,gBACnCvI,OAAA;UAAAuI,QAAA,EAAI;QAAa;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACtB3I,OAAA;UAAKsI,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3BvI,OAAA;YAAKsI,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5BvI,OAAA;cAAKsI,SAAS,EAAC,UAAU;cAAAC,QAAA,EAAC;YAAI;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACpC3I,OAAA;cAAKsI,SAAS,EAAC,WAAW;cAAAC,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC7C3I,OAAA;cAAKsI,SAAS,EAAC,WAAW;cAAAC,QAAA,EAAC;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1C,CAAC,eACN3I,OAAA;YAAKsI,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBvI,OAAA;cAAKsI,SAAS,EAAC,UAAU;cAAAC,QAAA,EAAC;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAC3C3I,OAAA;cAAKsI,SAAS,EAAC,WAAW;cAAAC,QAAA,EAAElC,WAAW,CAACJ;YAAO;cAAAuC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACtD3I,OAAA;cAAKsI,SAAS,EAAC,WAAW;cAAAC,QAAA,EAAElC,WAAW,CAACF;YAAY;cAAAqC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxD,CAAC,eACN3I,OAAA;YAAKsI,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBvI,OAAA;cAAKsI,SAAS,EAAC,UAAU;cAAAC,QAAA,EAAC;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACzC3I,OAAA;cAAKsI,SAAS,EAAC,WAAW;cAAAC,QAAA,EAAElC,WAAW,CAACH;YAAO;cAAAsC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACtD3I,OAAA;cAAKsI,SAAS,EAAC,WAAW;cAAAC,QAAA,EAAElC,WAAW,CAACD;YAAY;cAAAoC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACN3I,OAAA;UAAQsI,SAAS,EAAC,kBAAkB;UAACM,OAAO,EAAEnF,iBAAkB;UAAA8E,QAAA,EAAC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5E;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,eAGD3I,OAAA;MAAKsI,SAAS,EAAC,mBAAmB;MAAAC,QAAA,eAChCvI,OAAA;QAAAuI,QAAA,EAAK1F,mBAAmB,CAAC;MAAC;QAAA2F,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7B,CAAC,eAGN3I,OAAA;MAAKsI,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBAC/BvI,OAAA;QAAAuI,QAAA,GAAG,YAAU,EAACpG,cAAc,CAAC,CAAC,EAAC,GAAC,EAAChB,YAAY,GAAG,MAAM,GAAG,MAAM,EAAC,GAAC,EAACd,WAAW,CAACe,MAAM,KAAK,CAAC,GAAG2B,IAAI,CAACC,GAAG,CAAC3C,WAAW,CAACe,MAAM,CAAC,GAAG,SAAS;MAAA;QAAAoH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC1I3I,OAAA;QAAAuI,QAAA,GAAG,aAAW,EAAClI,WAAW,CAAC2E,QAAQ,EAAC,SAAO;MAAA;QAAAwD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5C,CAAC,eAGN3I,OAAA;MAAKsI,SAAS,EAAC,eAAe;MAAAC,QAAA,gBAC5BvI,OAAA;QACEsI,SAAS,EAAE,WAAW3H,SAAS,KAAK,SAAS,GAAG,QAAQ,GAAG,EAAE,EAAG;QAChEiI,OAAO,EAAEA,CAAA,KAAM3E,eAAe,CAAC,SAAS,CAAE;QAAAsE,QAAA,EAC3C;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACT3I,OAAA;QACEsI,SAAS,EAAE,WAAW3H,SAAS,KAAK,MAAM,GAAG,QAAQ,GAAG,EAAE,EAAG;QAC7DiI,OAAO,EAAEA,CAAA,KAAM3E,eAAe,CAAC,MAAM,CAAE;QAAAsE,QAAA,EACxC;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACT3I,OAAA;QACEsI,SAAS,EAAE,WAAW3H,SAAS,KAAK,aAAa,GAAG,QAAQ,GAAG,EAAE,EAAG;QACpEiI,OAAO,EAAEA,CAAA,KAAM3E,eAAe,CAAC,aAAa,CAAE;QAAAsE,QAAA,EAC/C;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAGN3I,OAAA;MAAKsI,SAAS,EAAC,aAAa;MAAAC,QAAA,GAEzB5H,SAAS,KAAK,SAAS,iBACtBX,OAAA;QAAKsI,SAAS,EAAC,aAAa;QAAAC,QAAA,eAC1BvI,OAAA;UAAKsI,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3BvI,OAAA;YAAAuI,QAAA,EAAI;UAAwB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACjC3I,OAAA;YAAKsI,SAAS,EAAC,WAAW;YAAAC,QAAA,EAEvB,CAACpH,YAAY,gBACZnB,OAAA,CAAAE,SAAA;cAAAqI,QAAA,gBACEvI,OAAA;gBAAKsI,SAAS,EAAC,WAAW;gBAAAC,QAAA,gBACxBvI,OAAA;kBAAMsI,SAAS,EAAC,aAAa;kBAAAC,QAAA,GAAEpE,UAAU,CAACS,YAAY,EAAC,cAAY;gBAAA;kBAAA4D,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC1E3I,OAAA;kBAAMsI,SAAS,EAAC,aAAa;kBAAAC,QAAA,GAAEpE,UAAU,CAACM,cAAc,EAAC,SAAO;gBAAA;kBAAA+D,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpE,CAAC,eACN3I,OAAA;gBAAKsI,SAAS,EAAC,WAAW;gBAAAC,QAAA,gBACxBvI,OAAA;kBAAMsI,SAAS,EAAC,aAAa;kBAAAC,QAAA,GAAEpE,UAAU,CAACQ,YAAY,EAAC,cAAY;gBAAA;kBAAA6D,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC1E3I,OAAA;kBAAMsI,SAAS,EAAC,aAAa;kBAAAC,QAAA,GAAEpE,UAAU,CAACK,cAAc,EAAC,SAAO;gBAAA;kBAAAgE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpE,CAAC;YAAA,eACN,CAAC,gBAEH3I,OAAA,CAAAE,SAAA;cAAAqI,QAAA,gBACEvI,OAAA;gBAAKsI,SAAS,EAAC,WAAW;gBAAAC,QAAA,gBACxBvI,OAAA;kBAAMsI,SAAS,EAAC,aAAa;kBAAAC,QAAA,GAAEpE,UAAU,CAACQ,YAAY,EAAC,cAAY;gBAAA;kBAAA6D,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC1E3I,OAAA;kBAAMsI,SAAS,EAAC,aAAa;kBAAAC,QAAA,GAAEpE,UAAU,CAACK,cAAc,EAAC,SAAO;gBAAA;kBAAAgE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpE,CAAC,eACN3I,OAAA;gBAAKsI,SAAS,EAAC,WAAW;gBAAAC,QAAA,gBACxBvI,OAAA;kBAAMsI,SAAS,EAAC,aAAa;kBAAAC,QAAA,GAAEpE,UAAU,CAACS,YAAY,EAAC,cAAY;gBAAA;kBAAA4D,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC1E3I,OAAA;kBAAMsI,SAAS,EAAC,aAAa;kBAAAC,QAAA,GAAEpE,UAAU,CAACM,cAAc,EAAC,SAAO;gBAAA;kBAAA+D,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpE,CAAC;YAAA,eACN;UACH;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eAEN3I,OAAA;YAAGsI,SAAS,EAAC,mBAAmB;YAAAC,QAAA,EAC7BpH,YAAY,GACX,wBAAwBd,WAAW,CAACe,MAAM,GAAG,CAAC,GAAG,QAAQ,GAAGf,WAAW,CAACe,MAAM,GAAG,YAAY,IAAIf,WAAW,CAACe,MAAM,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC,GAAG,UAAU,GAAG,GACnJ,gCAAgC2B,IAAI,CAACC,GAAG,CAAC3C,WAAW,CAACe,MAAM,CAAC,SAAS2B,IAAI,CAACC,GAAG,CAAC3C,WAAW,CAACe,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE;UAAG;YAAAoH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEpH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,EAGAhI,SAAS,KAAK,MAAM,iBACnBX,OAAA;QAAKsI,SAAS,EAAC,UAAU;QAAAC,QAAA,gBACvBvI,OAAA;UAAAuI,QAAA,EAAI;QAAa;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACtB3I,OAAA;UAAKsI,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBAC/BvI,OAAA;YAAKsI,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBvI,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAgC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACtE3I,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAElH;YAAQ;cAAAmH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7C,CAAC,eACN3I,OAAA;YAAKsI,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBvI,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAwB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC9D3I,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,GAAEjH,qBAAqB,EAAC,GAAC;YAAA;cAAAkH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3D,CAAC,eACN3I,OAAA;YAAKsI,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBvI,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAwB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC9D3I,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,GAAEhH,qBAAqB,EAAC,GAAC;YAAA;cAAAiH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3D,CAAC,eACN3I,OAAA;YAAKsI,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBvI,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAc;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACpD3I,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,GAAE/G,YAAY,EAAC,OAAK,EAACC,aAAa;YAAA;cAAA+G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrE,CAAC,eACN3I,OAAA;YAAKsI,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBvI,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAqB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC3D3I,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAE5G;YAAU;cAAA6G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/C,CAAC,eACN3I,OAAA;YAAKsI,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBvI,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAgB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACtD3I,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAE3G;YAAK;cAAA4G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1C,CAAC,eACN3I,OAAA;YAAKsI,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBvI,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAgC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACtE3I,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAE1G;YAAS;cAAA2G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9C,CAAC,eACN3I,OAAA;YAAKsI,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBvI,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAoB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC1D3I,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAEzG;YAAkB;cAAA0G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvD,CAAC,eACN3I,OAAA;YAAKsI,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBvI,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAA0B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAChE3I,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAE7G;YAAW;cAAA8G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChD,CAAC,eACN3I,OAAA;YAAKsI,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBvI,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAyB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC/D3I,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAExG;YAAsB;cAAAyG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3D,CAAC,eACN3I,OAAA;YAAKsI,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBvI,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAqB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC3D3I,OAAA;cAAMsI,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAEvG;YAAkB;cAAAwG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,EAGAhI,SAAS,KAAK,aAAa,iBAC1BX,OAAA;QAAKsI,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9BvI,OAAA;UAAAuI,QAAA,GAAI,qBAAmB,EAACpH,YAAY,GAAG,eAAe,GAAG,mBAAmB,EAAC,GAAC;QAAA;UAAAqH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAEnF3I,OAAA;UAAKsI,SAAS,EAAC,mBAAmB;UAAAC,QAAA,EAC/B1D,mBAAmB,CAAC,CAAC,CAACgE,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,kBACrC/I,OAAA;YAAKsI,SAAS,EAAC,WAAW;YAAAC,QAAA,gBACxBvI,OAAA;cAAMsI,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAEO,IAAI,CAAChE;YAAK;cAAA0D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAChD3I,OAAA;cAAMsI,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAEO,IAAI,CAAC/D;YAAK;cAAAyD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA,GAFlBI,KAAK;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAGhC,CACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAEN3I,OAAA;UAAKsI,SAAS,EAAC,mBAAmB;UAAAC,QAAA,gBAChCvI,OAAA;YAAAuI,QAAA,EAAI;UAAY;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EAEpB,CAACxH,YAAY,gBACZnB,OAAA,CAAAE,SAAA;YAAAqI,QAAA,gBACEvI,OAAA;cAAKsI,SAAS,EAAC,WAAW;cAAAC,QAAA,gBACxBvI,OAAA;gBAAMsI,SAAS,EAAC,YAAY;gBAAAC,QAAA,GAAEpE,UAAU,CAACS,YAAY,EAAC,UAAQ;cAAA;gBAAA4D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACrE3I,OAAA;gBAAMsI,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAEpE,UAAU,CAACM;cAAc;gBAAA+D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5D,CAAC,eACN3I,OAAA;cAAKsI,SAAS,EAAC,WAAW;cAAAC,QAAA,gBACxBvI,OAAA;gBAAMsI,SAAS,EAAC,YAAY;gBAAAC,QAAA,GAAEpE,UAAU,CAACQ,YAAY,EAAC,UAAQ;cAAA;gBAAA6D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACrE3I,OAAA;gBAAMsI,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAEpE,UAAU,CAACK;cAAc;gBAAAgE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5D,CAAC;UAAA,eACN,CAAC,gBAEH3I,OAAA,CAAAE,SAAA;YAAAqI,QAAA,gBACEvI,OAAA;cAAKsI,SAAS,EAAC,WAAW;cAAAC,QAAA,gBACxBvI,OAAA;gBAAMsI,SAAS,EAAC,YAAY;gBAAAC,QAAA,GAAEpE,UAAU,CAACQ,YAAY,EAAC,UAAQ;cAAA;gBAAA6D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACrE3I,OAAA;gBAAMsI,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAEpE,UAAU,CAACK;cAAc;gBAAAgE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5D,CAAC,eACN3I,OAAA;cAAKsI,SAAS,EAAC,WAAW;cAAAC,QAAA,gBACxBvI,OAAA;gBAAMsI,SAAS,EAAC,YAAY;gBAAAC,QAAA,GAAEpE,UAAU,CAACS,YAAY,EAAC,UAAQ;cAAA;gBAAA4D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACrE3I,OAAA;gBAAMsI,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAEpE,UAAU,CAACM;cAAc;gBAAA+D,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5D,CAAC;UAAA,eACN,CACH;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGN3I,OAAA;MAAKsI,SAAS,EAAC,gBAAgB;MAACU,KAAK,EAAE;QACrCjC,OAAO,EAAE,MAAM;QACfkC,QAAQ,EAAE,MAAM;QAChBC,GAAG,EAAE,MAAM;QACXC,SAAS,EAAE;MACb,CAAE;MAAAZ,QAAA,gBACAvI,OAAA;QACEsI,SAAS,EAAC,UAAU;QACpBM,OAAO,EAAErI,MAAO;QAChByI,KAAK,EAAE;UACLI,IAAI,EAAE,UAAU;UAChBC,QAAQ,EAAE,OAAO;UACjBjC,OAAO,EAAE,MAAM;UACfP,eAAe,EAAE,SAAS;UAC1BgB,KAAK,EAAE,OAAO;UACdK,MAAM,EAAE,MAAM;UACdf,YAAY,EAAE,KAAK;UACnBO,UAAU,EAAE,MAAM;UAClBD,QAAQ,EAAE;QACZ,CAAE;QAAAc,QAAA,EACH;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAET3I,OAAA;QACEsI,SAAS,EAAC,UAAU;QACpBM,OAAO,EAAE/E,UAAW;QACpBmF,KAAK,EAAE;UACLI,IAAI,EAAE,UAAU;UAChBC,QAAQ,EAAE,OAAO;UACjBjC,OAAO,EAAE,MAAM;UACfP,eAAe,EAAE,SAAS;UAC1BgB,KAAK,EAAE,OAAO;UACdK,MAAM,EAAE,MAAM;UACdf,YAAY,EAAE,KAAK;UACnBO,UAAU,EAAE,MAAM;UAClBD,QAAQ,EAAE;QACZ,CAAE;QAAAc,QAAA,EACH;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAGN3I,OAAA;MAAKgJ,KAAK,EAAE;QACVG,SAAS,EAAE,MAAM;QACjB9B,KAAK,EAAE;MACT,CAAE;MAAAkB,QAAA,eACAvI,OAAA;QACEsI,SAAS,EAAC,cAAc;QACxBM,OAAO,EAAElF,wBAAyB;QAClCsF,KAAK,EAAE;UACLnC,eAAe,EAAE,SAAS;UAC1BgB,KAAK,EAAE,OAAO;UACdT,OAAO,EAAE,MAAM;UACfD,YAAY,EAAE,KAAK;UACnBe,MAAM,EAAE,MAAM;UACdR,UAAU,EAAE,MAAM;UAClBL,KAAK,EAAE,MAAM;UACbI,QAAQ,EAAE;QACZ,CAAE;QAAAc,QAAA,EACH;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAGL9H,eAAe,iBACdb,OAAA,CAACF,sBAAsB;MAACwJ,OAAO,EAAE9F;IAAsB;MAAAgF,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAC1D,EAGA1H,kBAAkB,iBACjBjB,OAAA;MAAKgJ,KAAK,EAAE1C,aAAa,CAACC,OAAQ;MAAAgC,QAAA,eAChCvI,OAAA;QAAKgJ,KAAK,EAAE1C,aAAa,CAACY,SAAU;QAAAqB,QAAA,gBAClCvI,OAAA;UAAIgJ,KAAK,EAAE1C,aAAa,CAACkB,KAAM;UAAAe,QAAA,EAAC;QAAiB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACtD3I,OAAA;UAAGgJ,KAAK,EAAE1C,aAAa,CAACwB,OAAQ;UAAAS,QAAA,EAAC;QAEjC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJ3I,OAAA;UAAKgJ,KAAK,EAAE1C,aAAa,CAAC0B,eAAgB;UAAAO,QAAA,gBACxCvI,OAAA;YACEgJ,KAAK,EAAE;cAAC,GAAG1C,aAAa,CAAC2B,MAAM;cAAE,GAAG3B,aAAa,CAAC8B;YAAY,CAAE;YAChEQ,OAAO,EAAEjF,wBAAyB;YAAA4E,QAAA,EACnC;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACT3I,OAAA;YACEgJ,KAAK,EAAE;cAAC,GAAG1C,aAAa,CAAC2B,MAAM;cAAE,GAAG3B,aAAa,CAAC+B;YAAa,CAAE;YACjEO,OAAO,EAAEhF,aAAc;YAAA2E,QAAA,EACxB;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACjI,EAAA,CA5sBIP,kBAAkB;AAAAoJ,EAAA,GAAlBpJ,kBAAkB;AA8sBxB,eAAeA,kBAAkB;AAAC,IAAAoJ,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}