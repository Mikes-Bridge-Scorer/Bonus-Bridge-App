{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mikec\\\\MikesBridge\\\\bonusbridge\\\\src\\\\components\\\\FinalScoreAnalysis.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport BonusBridgeExplanation from './BonusBridgeExplanation';\nimport './FinalScoreAnalysis.css';\n\n/**\r\n * Component to display final score analysis after Bonus Bridge adjustments\r\n * Redesigned for mobile with tabbed sections\r\n * @param {Object} props - Component props\r\n * @param {Object} props.analysisData - The complete analysis data\r\n * @param {Object} props.currentDeal - Current deal information\r\n * @param {Function} props.onSave - Function to save the analysis\r\n * @param {Function} props.onEdit - Function to go back to edit\r\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FinalScoreAnalysis = ({\n  analysisData,\n  currentDeal,\n  onSave,\n  onEdit,\n  setGameState,\n  scores\n}) => {\n  _s();\n  // State for active tab\n  const [activeTab, setActiveTab] = useState('calculation');\n  // State for showing explanation\n  const [showExplanation, setShowExplanation] = useState(false);\n  // State for showing scores so far\n  const [showScoresSoFar, setShowScoresSoFar] = useState(false);\n\n  // Determine if the contract was made\n  const madeContract = currentDeal.result >= 0;\n\n  // Extract information for display\n  const {\n    totalHCP,\n    declarerHCPPercentage,\n    defenderHCPPercentage,\n    hcpAdvantage,\n    advantageSide,\n    expectedHCP,\n    singletons,\n    voids,\n    longSuits,\n    distributionPoints,\n    contractExpectedTricks,\n    handExpectedTricks,\n    nsPoints,\n    ewPoints\n  } = analysisData;\n\n  // Format contract for display\n  const formatContract = () => {\n    if (!currentDeal || !currentDeal.contract) return \"\";\n\n    // Parse contract components\n    const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\n    if (!contractMatch) return currentDeal.contract;\n    const level = contractMatch[1];\n    const suit = contractMatch[2];\n    const declarer = contractMatch[3];\n    const doubled = contractMatch[4] || \"\";\n\n    // Format doubled status\n    let doubledText = \"\";\n    if (doubled === \"X\") {\n      doubledText = \" Doubled\";\n    } else if (doubled === \"XX\") {\n      doubledText = \" Redoubled\";\n    }\n\n    // Get full declarer direction\n    let declarerFull = \"\";\n    switch (declarer) {\n      case 'N':\n        declarerFull = \"North\";\n        break;\n      case 'E':\n        declarerFull = \"East\";\n        break;\n      case 'S':\n        declarerFull = \"South\";\n        break;\n      case 'W':\n        declarerFull = \"West\";\n        break;\n      default:\n        declarerFull = declarer;\n    }\n    return `${level}${suit} By ${declarerFull}${doubledText}`;\n  };\n\n  // Get contract category description\n  const getContractCategory = () => {\n    if (!madeContract) {\n      // For defeated contracts\n      const undertricks = Math.abs(currentDeal.result);\n\n      // Check if it's a game contract\n      const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\n      if (!contractMatch) return \"Defeated Contract\";\n      const level = parseInt(contractMatch[1]);\n      const suit = contractMatch[2];\n      const isGameContract = level === 3 && suit === 'NT' || level === 4 && (suit === '♥' || suit === '♠') || level === 5 && (suit === '♣' || suit === '♦') || level >= 6;\n      if (level >= 6) {\n        return `Failed Slam Attempt (Down ${undertricks})`;\n      } else if (isGameContract) {\n        return `Failed Game Contract (Down ${undertricks})`;\n      } else {\n        return `Failed Part Score (Down ${undertricks})`;\n      }\n    } else {\n      // For made contracts\n      const overtricks = currentDeal.result;\n\n      // Check contract type\n      const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\n      if (!contractMatch) return \"Made Contract\";\n      const level = parseInt(contractMatch[1]);\n      const suit = contractMatch[2];\n      const doubled = contractMatch[4] || \"\";\n      const isGameContract = level === 3 && suit === 'NT' || level === 4 && (suit === '♥' || suit === '♠') || level === 5 && (suit === '♣' || suit === '♦') || level >= 6;\n\n      // Check HCP relationship to expected\n      const hcpDifference = totalHCP - expectedHCP;\n      const hcpStatus = hcpDifference >= 2 ? \"Strong\" : hcpDifference <= -2 ? \"Weak\" : \"Balanced\";\n\n      // Include doubled status in category\n      let doubledStatus = \"\";\n      if (doubled === \"X\") {\n        doubledStatus = \" Doubled\";\n      } else if (doubled === \"XX\") {\n        doubledStatus = \" Redoubled\";\n      }\n      if (level >= 6) {\n        return `Made Slam${doubledStatus}${overtricks > 0 ? ` (+${overtricks})` : ''}`;\n      } else if (isGameContract) {\n        return `Made Game${doubledStatus} with ${hcpStatus} Hand${overtricks > 0 ? ` (+${overtricks})` : ''}`;\n      } else {\n        return `Made Part Score${doubledStatus}${overtricks > 0 ? ` (+${overtricks})` : ''}`;\n      }\n    }\n  };\n\n  // Handler for showing explanation\n  const handleShowExplanation = () => {\n    setShowExplanation(true);\n  };\n\n  // Handler for hiding explanation\n  const handleHideExplanation = () => {\n    setShowExplanation(false);\n  };\n\n  // Toggle scores so far\n  const toggleScoresSoFar = () => {\n    setShowScoresSoFar(!showScoresSoFar);\n  };\n\n  // Change active tab\n  const handleTabChange = tab => {\n    setActiveTab(tab);\n  };\n\n  // Handle save and continue\n  const handleSave = () => {\n    // Calculate final scores to send to parent\n    const finalScore = {\n      nsPoints: nsPoints || 0,\n      ewPoints: ewPoints || 0,\n      currentDealWithBonusScores: {\n        ...currentDeal,\n        bonusNsPoints: nsPoints || 0,\n        bonusEwPoints: ewPoints || 0\n      }\n    };\n    onSave(finalScore);\n  };\n\n  // Get final score from calculation steps\n  const getFinalScore = () => {\n    if (madeContract) {\n      // Determine which side gets the score\n      const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\n      if (!contractMatch) return {\n        declarerPoints: 0,\n        defenderPoints: 0\n      };\n      const declarer = contractMatch[3];\n      const isNS = declarer === 'N' || declarer === 'S';\n      if (isNS) {\n        return {\n          declarerTeam: \"North-South\",\n          defenderTeam: \"East-West\",\n          declarerPoints: nsPoints,\n          defenderPoints: ewPoints\n        };\n      } else {\n        return {\n          declarerTeam: \"East-West\",\n          defenderTeam: \"North-South\",\n          declarerPoints: ewPoints,\n          defenderPoints: nsPoints\n        };\n      }\n    } else {\n      // For defeated contracts\n      const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\n      if (!contractMatch) return {\n        defenderPoints: 0,\n        declarerPoints: 0\n      };\n      const declarer = contractMatch[3];\n      const isNS = declarer === 'N' || declarer === 'S';\n      if (isNS) {\n        return {\n          declarerTeam: \"North-South\",\n          defenderTeam: \"East-West\",\n          declarerPoints: nsPoints,\n          defenderPoints: ewPoints\n        };\n      } else {\n        return {\n          declarerTeam: \"East-West\",\n          defenderTeam: \"North-South\",\n          declarerPoints: nsPoints,\n          defenderPoints: ewPoints\n        };\n      }\n    }\n  };\n\n  // Get calculation steps for display\n  const getCalculationSteps = () => {\n    if (madeContract) {\n      return [{\n        label: \"1. Raw Score / 20:\",\n        value: `${(analysisData.rawScore || 0).toFixed(1)} points`\n      }, {\n        label: \"2. HCP Adjustment:\",\n        value: `${(analysisData.hcpAdjustment || 0).toFixed(2)} points`\n      }, {\n        label: \"3. After HCP Adjustment:\",\n        value: `${(analysisData.afterHcpAdjustment || 0).toFixed(1)} points`\n      }, {\n        label: \"4. Performance Variance:\",\n        value: `${analysisData.performanceVariance || 0} tricks`\n      }, {\n        label: \"5. After Performance Assessment:\",\n        value: `${(analysisData.afterPerformanceAssessment || 0).toFixed(1)} points`\n      }, {\n        label: \"6. Contract Type Adjustment:\",\n        value: `${(analysisData.contractTypeAdjustment || 0).toFixed(1)} ${analysisData.contractTypeDescription || ''}`\n      }, {\n        label: \"7. After Contract Adjustments:\",\n        value: `${(analysisData.afterContractAdjustments || 0).toFixed(1)} points`\n      }, {\n        label: \"8. Distribution Adjustment:\",\n        value: `${(analysisData.distributionAdjustment || 0).toFixed(1)} points`\n      }, {\n        label: \"9. Defender Reward:\",\n        value: `${(analysisData.defenderReward || 0).toFixed(1)} points`\n      }];\n    } else {\n      // For defeated contracts\n      return [{\n        label: \"1. Base Penalty:\",\n        value: `${(analysisData.basePenalty || 0).toFixed(1)} points`\n      }, {\n        label: \"2. Contract Level Penalties:\",\n        value: `${(analysisData.levelPenalties || 0).toFixed(1)} points`\n      }, {\n        label: \"3. Performance Bonus:\",\n        value: `${(analysisData.performanceBonus || 0).toFixed(1)} points`\n      }, {\n        label: \"4. Declarer Consolation:\",\n        value: `${(analysisData.consolationPoints || 0).toFixed(1)} points`\n      }];\n    }\n  };\n\n  // Get final score for display\n  const finalScore = getFinalScore();\n\n  // Get scores so far for display\n  const getScoresSoFar = () => {\n    return {\n      nsTotal: (scores === null || scores === void 0 ? void 0 : scores.nsTotal) || 0,\n      ewTotal: (scores === null || scores === void 0 ? void 0 : scores.ewTotal) || 0,\n      bonusNsTotal: (scores === null || scores === void 0 ? void 0 : scores.bonusNsTotal) || 0,\n      bonusEwTotal: (scores === null || scores === void 0 ? void 0 : scores.bonusEwTotal) || 0\n    };\n  };\n  const scoresSoFar = getScoresSoFar();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"final-score-analysis\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"analysis-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Final Score Analysis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Bonus Bridge Score Calculation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"scores-btn\",\n          onClick: toggleScoresSoFar,\n          children: \"Scores So Far\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"info-btn\",\n          onClick: handleShowExplanation,\n          children: \"?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this), showScoresSoFar && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"scores-popup\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"scores-popup-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Scores So Far\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"scores-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"scores-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"team-col\",\n              children: \"Team\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"party-col\",\n              children: \"Party Bridge\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bonus-col\",\n              children: \"Bonus Bridge\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"scores-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"team-col\",\n              children: \"North-South\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"party-col\",\n              children: scoresSoFar.nsTotal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bonus-col\",\n              children: scoresSoFar.bonusNsTotal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"scores-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"team-col\",\n              children: \"East-West\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"party-col\",\n              children: scoresSoFar.ewTotal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bonus-col\",\n              children: scoresSoFar.bonusEwTotal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-scores-btn\",\n          onClick: toggleScoresSoFar,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contract-category\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: getContractCategory()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contract-details\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Contract: \", formatContract(), \" Made \", currentDeal.result > 0 ? '+' + currentDeal.result : currentDeal.result < 0 ? 'Down ' + Math.abs(currentDeal.result) : 'exactly']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Raw score: \", currentDeal.rawScore, \" points\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"analysis-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-btn ${activeTab === 'summary' ? 'active' : ''}`,\n        onClick: () => handleTabChange('summary'),\n        children: \"Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-btn ${activeTab === 'hand' ? 'active' : ''}`,\n        onClick: () => handleTabChange('hand'),\n        children: \"Hand Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-btn ${activeTab === 'calculation' ? 'active' : ''}`,\n        onClick: () => handleTabChange('calculation'),\n        children: \"Calculation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tab-content\",\n      children: [activeTab === 'summary' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"summary-tab\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"final-scores\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Final Bonus Bridge Score\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"score-box\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"score-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"score-label\",\n                children: [finalScore.declarerTeam, \" (Declarer):\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"score-value\",\n                children: [finalScore.declarerPoints, \" points\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"score-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"score-label\",\n                children: [finalScore.defenderTeam, \" (Defender):\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"score-value\",\n                children: [finalScore.defenderPoints, \" points\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"score-explanation\",\n            children: madeContract ? `The contract was made${currentDeal.result > 0 ? ' with ' + currentDeal.result + ' overtrick' + (currentDeal.result > 1 ? 's' : '') : ' exactly'}.` : `The contract was defeated by ${Math.abs(currentDeal.result)} trick${Math.abs(currentDeal.result) > 1 ? 's' : ''}.`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 11\n      }, this), activeTab === 'hand' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hand-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Hand Analysis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"analysis-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Combined HCP (Declarer + Dummy):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: totalHCP\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Declarer HCP Percentage:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: [declarerHCPPercentage, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Defender HCP Percentage:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: [defenderHCPPercentage, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"HCP Advantage:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: [hcpAdvantage, \"% to \", advantageSide]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Number of Singletons:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: singletons\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Number of Voids:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: voids\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Number of Long Suits (6+ cards):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: longSuits\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Distribution Points:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: distributionPoints\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Expected HCP for Contract:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: expectedHCP\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Contract Expected Tricks:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: contractExpectedTricks\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-label\",\n              children: \"Hand Expected Tricks:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"detail-value\",\n              children: handExpectedTricks\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 11\n      }, this), activeTab === 'calculation' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calculation-tab\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Calculation Steps (\", madeContract ? 'Made Contract' : 'Defeated Contract', \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"calculation-steps\",\n          children: getCalculationSteps().map((step, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"calc-step\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"step-label\",\n              children: step.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"step-value\",\n              children: step.value\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"final-calculation\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Final Result\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 15\n          }, this), finalScore.declarerTeam === \"East-West\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"calc-step\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"step-label\",\n                children: \"East-West Points:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"step-value\",\n                children: finalScore.declarerPoints\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"calc-step\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"step-label\",\n                children: \"North-South Points:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"step-value\",\n                children: finalScore.defenderPoints\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"calc-step\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"step-label\",\n                children: \"North-South Points:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"step-value\",\n                children: finalScore.declarerPoints\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"calc-step\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"step-label\",\n                children: \"East-West Points:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"step-value\",\n                children: finalScore.defenderPoints\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"action-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"edit-btn\",\n        onClick: onEdit,\n        children: \"Edit Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"save-btn\",\n        onClick: handleSave,\n        children: \"Save & Continue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 7\n    }, this), showExplanation && /*#__PURE__*/_jsxDEV(BonusBridgeExplanation, {\n      onClose: handleHideExplanation\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 317,\n    columnNumber: 5\n  }, this);\n};\n_s(FinalScoreAnalysis, \"z5w4D4BhemewceB0UxLyW50p8ec=\");\n_c = FinalScoreAnalysis;\nexport default FinalScoreAnalysis;\nvar _c;\n$RefreshReg$(_c, \"FinalScoreAnalysis\");","map":{"version":3,"names":["React","useState","BonusBridgeExplanation","jsxDEV","_jsxDEV","Fragment","_Fragment","FinalScoreAnalysis","analysisData","currentDeal","onSave","onEdit","setGameState","scores","_s","activeTab","setActiveTab","showExplanation","setShowExplanation","showScoresSoFar","setShowScoresSoFar","madeContract","result","totalHCP","declarerHCPPercentage","defenderHCPPercentage","hcpAdvantage","advantageSide","expectedHCP","singletons","voids","longSuits","distributionPoints","contractExpectedTricks","handExpectedTricks","nsPoints","ewPoints","formatContract","contract","contractMatch","match","level","suit","declarer","doubled","doubledText","declarerFull","getContractCategory","undertricks","Math","abs","parseInt","isGameContract","overtricks","hcpDifference","hcpStatus","doubledStatus","handleShowExplanation","handleHideExplanation","toggleScoresSoFar","handleTabChange","tab","handleSave","finalScore","currentDealWithBonusScores","bonusNsPoints","bonusEwPoints","getFinalScore","declarerPoints","defenderPoints","isNS","declarerTeam","defenderTeam","getCalculationSteps","label","value","rawScore","toFixed","hcpAdjustment","afterHcpAdjustment","performanceVariance","afterPerformanceAssessment","contractTypeAdjustment","contractTypeDescription","afterContractAdjustments","distributionAdjustment","defenderReward","basePenalty","levelPenalties","performanceBonus","consolationPoints","getScoresSoFar","nsTotal","ewTotal","bonusNsTotal","bonusEwTotal","scoresSoFar","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","step","index","onClose","_c","$RefreshReg$"],"sources":["C:/Users/mikec/MikesBridge/bonusbridge/src/components/FinalScoreAnalysis.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport BonusBridgeExplanation from './BonusBridgeExplanation';\r\nimport './FinalScoreAnalysis.css';\r\n\r\n/**\r\n * Component to display final score analysis after Bonus Bridge adjustments\r\n * Redesigned for mobile with tabbed sections\r\n * @param {Object} props - Component props\r\n * @param {Object} props.analysisData - The complete analysis data\r\n * @param {Object} props.currentDeal - Current deal information\r\n * @param {Function} props.onSave - Function to save the analysis\r\n * @param {Function} props.onEdit - Function to go back to edit\r\n */\r\nconst FinalScoreAnalysis = ({ \r\n  analysisData, \r\n  currentDeal, \r\n  onSave, \r\n  onEdit,\r\n  setGameState,\r\n  scores\r\n}) => {\r\n  // State for active tab\r\n  const [activeTab, setActiveTab] = useState('calculation');\r\n  // State for showing explanation\r\n  const [showExplanation, setShowExplanation] = useState(false);\r\n  // State for showing scores so far\r\n  const [showScoresSoFar, setShowScoresSoFar] = useState(false);\r\n  \r\n  // Determine if the contract was made\r\n  const madeContract = currentDeal.result >= 0;\r\n  \r\n  // Extract information for display\r\n  const {\r\n    totalHCP,\r\n    declarerHCPPercentage,\r\n    defenderHCPPercentage,\r\n    hcpAdvantage,\r\n    advantageSide,\r\n    expectedHCP,\r\n    singletons,\r\n    voids,\r\n    longSuits,\r\n    distributionPoints,\r\n    contractExpectedTricks,\r\n    handExpectedTricks,\r\n    nsPoints,\r\n    ewPoints\r\n  } = analysisData;\r\n  \r\n  // Format contract for display\r\n  const formatContract = () => {\r\n    if (!currentDeal || !currentDeal.contract) return \"\";\r\n    \r\n    // Parse contract components\r\n    const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\r\n    if (!contractMatch) return currentDeal.contract;\r\n    \r\n    const level = contractMatch[1];\r\n    const suit = contractMatch[2];\r\n    const declarer = contractMatch[3];\r\n    const doubled = contractMatch[4] || \"\";\r\n    \r\n    // Format doubled status\r\n    let doubledText = \"\";\r\n    if (doubled === \"X\") {\r\n      doubledText = \" Doubled\";\r\n    } else if (doubled === \"XX\") {\r\n      doubledText = \" Redoubled\";\r\n    }\r\n    \r\n    // Get full declarer direction\r\n    let declarerFull = \"\";\r\n    switch (declarer) {\r\n      case 'N': declarerFull = \"North\"; break;\r\n      case 'E': declarerFull = \"East\"; break;\r\n      case 'S': declarerFull = \"South\"; break;\r\n      case 'W': declarerFull = \"West\"; break;\r\n      default: declarerFull = declarer;\r\n    }\r\n    \r\n    return `${level}${suit} By ${declarerFull}${doubledText}`;\r\n  };\r\n  \r\n  // Get contract category description\r\n  const getContractCategory = () => {\r\n    if (!madeContract) {\r\n      // For defeated contracts\r\n      const undertricks = Math.abs(currentDeal.result);\r\n      \r\n      // Check if it's a game contract\r\n      const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\r\n      if (!contractMatch) return \"Defeated Contract\";\r\n      \r\n      const level = parseInt(contractMatch[1]);\r\n      const suit = contractMatch[2];\r\n      \r\n      const isGameContract = \r\n        (level === 3 && suit === 'NT') ||\r\n        (level === 4 && (suit === '♥' || suit === '♠')) ||\r\n        (level === 5 && (suit === '♣' || suit === '♦')) ||\r\n        level >= 6;\r\n      \r\n      if (level >= 6) {\r\n        return `Failed Slam Attempt (Down ${undertricks})`;\r\n      } else if (isGameContract) {\r\n        return `Failed Game Contract (Down ${undertricks})`;\r\n      } else {\r\n        return `Failed Part Score (Down ${undertricks})`;\r\n      }\r\n    } else {\r\n      // For made contracts\r\n      const overtricks = currentDeal.result;\r\n      \r\n      // Check contract type\r\n      const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\r\n      if (!contractMatch) return \"Made Contract\";\r\n      \r\n      const level = parseInt(contractMatch[1]);\r\n      const suit = contractMatch[2];\r\n      const doubled = contractMatch[4] || \"\";\r\n      \r\n      const isGameContract = \r\n        (level === 3 && suit === 'NT') ||\r\n        (level === 4 && (suit === '♥' || suit === '♠')) ||\r\n        (level === 5 && (suit === '♣' || suit === '♦')) ||\r\n        level >= 6;\r\n      \r\n      // Check HCP relationship to expected\r\n      const hcpDifference = totalHCP - expectedHCP;\r\n      const hcpStatus = hcpDifference >= 2 ? \"Strong\" : (hcpDifference <= -2 ? \"Weak\" : \"Balanced\");\r\n      \r\n      // Include doubled status in category\r\n      let doubledStatus = \"\";\r\n      if (doubled === \"X\") {\r\n        doubledStatus = \" Doubled\";\r\n      } else if (doubled === \"XX\") {\r\n        doubledStatus = \" Redoubled\";\r\n      }\r\n      \r\n      if (level >= 6) {\r\n        return `Made Slam${doubledStatus}${overtricks > 0 ? ` (+${overtricks})` : ''}`;\r\n      } else if (isGameContract) {\r\n        return `Made Game${doubledStatus} with ${hcpStatus} Hand${overtricks > 0 ? ` (+${overtricks})` : ''}`;\r\n      } else {\r\n        return `Made Part Score${doubledStatus}${overtricks > 0 ? ` (+${overtricks})` : ''}`;\r\n      }\r\n    }\r\n  };\r\n  \r\n  // Handler for showing explanation\r\n  const handleShowExplanation = () => {\r\n    setShowExplanation(true);\r\n  };\r\n  \r\n  // Handler for hiding explanation\r\n  const handleHideExplanation = () => {\r\n    setShowExplanation(false);\r\n  };\r\n  \r\n  // Toggle scores so far\r\n  const toggleScoresSoFar = () => {\r\n    setShowScoresSoFar(!showScoresSoFar);\r\n  };\r\n  \r\n  // Change active tab\r\n  const handleTabChange = (tab) => {\r\n    setActiveTab(tab);\r\n  };\r\n  \r\n  // Handle save and continue\r\n  const handleSave = () => {\r\n    // Calculate final scores to send to parent\r\n    const finalScore = {\r\n      nsPoints: nsPoints || 0,\r\n      ewPoints: ewPoints || 0,\r\n      currentDealWithBonusScores: {\r\n        ...currentDeal,\r\n        bonusNsPoints: nsPoints || 0,\r\n        bonusEwPoints: ewPoints || 0\r\n      }\r\n    };\r\n    \r\n    onSave(finalScore);\r\n  };\r\n  \r\n  // Get final score from calculation steps\r\n  const getFinalScore = () => {\r\n    if (madeContract) {\r\n      // Determine which side gets the score\r\n      const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\r\n      if (!contractMatch) return { declarerPoints: 0, defenderPoints: 0 };\r\n      \r\n      const declarer = contractMatch[3];\r\n      const isNS = declarer === 'N' || declarer === 'S';\r\n      \r\n      if (isNS) {\r\n        return {\r\n          declarerTeam: \"North-South\",\r\n          defenderTeam: \"East-West\",\r\n          declarerPoints: nsPoints,\r\n          defenderPoints: ewPoints\r\n        };\r\n      } else {\r\n        return {\r\n          declarerTeam: \"East-West\",\r\n          defenderTeam: \"North-South\",\r\n          declarerPoints: ewPoints,\r\n          defenderPoints: nsPoints\r\n        };\r\n      }\r\n    } else {\r\n      // For defeated contracts\r\n      const contractMatch = currentDeal.contract.match(/(\\d)([♣♦♥♠]|NT)\\s+([NESW])(X{0,2})/);\r\n      if (!contractMatch) return { defenderPoints: 0, declarerPoints: 0 };\r\n      \r\n      const declarer = contractMatch[3];\r\n      const isNS = declarer === 'N' || declarer === 'S';\r\n      \r\n      if (isNS) {\r\n        return {\r\n          declarerTeam: \"North-South\",\r\n          defenderTeam: \"East-West\",\r\n          declarerPoints: nsPoints,\r\n          defenderPoints: ewPoints\r\n        };\r\n      } else {\r\n        return {\r\n          declarerTeam: \"East-West\",\r\n          defenderTeam: \"North-South\",\r\n          declarerPoints: nsPoints,\r\n          defenderPoints: ewPoints\r\n        };\r\n      }\r\n    }\r\n  };\r\n  \r\n  // Get calculation steps for display\r\n  const getCalculationSteps = () => {\r\n    if (madeContract) {\r\n      return [\r\n        { \r\n          label: \"1. Raw Score / 20:\", \r\n          value: `${(analysisData.rawScore || 0).toFixed(1)} points` \r\n        },\r\n        { \r\n          label: \"2. HCP Adjustment:\", \r\n          value: `${(analysisData.hcpAdjustment || 0).toFixed(2)} points` \r\n        },\r\n        { \r\n          label: \"3. After HCP Adjustment:\", \r\n          value: `${(analysisData.afterHcpAdjustment || 0).toFixed(1)} points` \r\n        },\r\n        { \r\n          label: \"4. Performance Variance:\", \r\n          value: `${analysisData.performanceVariance || 0} tricks` \r\n        },\r\n        { \r\n          label: \"5. After Performance Assessment:\", \r\n          value: `${(analysisData.afterPerformanceAssessment || 0).toFixed(1)} points` \r\n        },\r\n        { \r\n          label: \"6. Contract Type Adjustment:\", \r\n          value: `${(analysisData.contractTypeAdjustment || 0).toFixed(1)} ${analysisData.contractTypeDescription || ''}` \r\n        },\r\n        { \r\n          label: \"7. After Contract Adjustments:\", \r\n          value: `${(analysisData.afterContractAdjustments || 0).toFixed(1)} points` \r\n        },\r\n        { \r\n          label: \"8. Distribution Adjustment:\", \r\n          value: `${(analysisData.distributionAdjustment || 0).toFixed(1)} points` \r\n        },\r\n        { \r\n          label: \"9. Defender Reward:\", \r\n          value: `${(analysisData.defenderReward || 0).toFixed(1)} points` \r\n        }\r\n      ];\r\n    } else {\r\n      // For defeated contracts\r\n      return [\r\n        { \r\n          label: \"1. Base Penalty:\", \r\n          value: `${(analysisData.basePenalty || 0).toFixed(1)} points` \r\n        },\r\n        { \r\n          label: \"2. Contract Level Penalties:\", \r\n          value: `${(analysisData.levelPenalties || 0).toFixed(1)} points` \r\n        },\r\n        { \r\n          label: \"3. Performance Bonus:\", \r\n          value: `${(analysisData.performanceBonus || 0).toFixed(1)} points` \r\n        },\r\n        { \r\n          label: \"4. Declarer Consolation:\", \r\n          value: `${(analysisData.consolationPoints || 0).toFixed(1)} points` \r\n        }\r\n      ];\r\n    }\r\n  };\r\n  \r\n  // Get final score for display\r\n  const finalScore = getFinalScore();\r\n  \r\n  // Get scores so far for display\r\n  const getScoresSoFar = () => {\r\n    return {\r\n      nsTotal: scores?.nsTotal || 0,\r\n      ewTotal: scores?.ewTotal || 0,\r\n      bonusNsTotal: scores?.bonusNsTotal || 0,\r\n      bonusEwTotal: scores?.bonusEwTotal || 0\r\n    };\r\n  };\r\n  \r\n  const scoresSoFar = getScoresSoFar();\r\n  \r\n  return (\r\n    <div className=\"final-score-analysis\">\r\n      <header className=\"analysis-header\">\r\n        <div className=\"title-container\">\r\n          <h1>Final Score Analysis</h1>\r\n          <p>Bonus Bridge Score Calculation</p>\r\n        </div>\r\n        <div className=\"header-buttons\">\r\n          <button className=\"scores-btn\" onClick={toggleScoresSoFar}>\r\n            Scores So Far\r\n          </button>\r\n          <button className=\"info-btn\" onClick={handleShowExplanation}>\r\n            ?\r\n          </button>\r\n        </div>\r\n      </header>\r\n      \r\n      {/* Scores So Far Popup */}\r\n      {showScoresSoFar && (\r\n        <div className=\"scores-popup\">\r\n          <div className=\"scores-popup-content\">\r\n            <h3>Scores So Far</h3>\r\n            <div className=\"scores-table\">\r\n              <div className=\"scores-header\">\r\n                <div className=\"team-col\">Team</div>\r\n                <div className=\"party-col\">Party Bridge</div>\r\n                <div className=\"bonus-col\">Bonus Bridge</div>\r\n              </div>\r\n              <div className=\"scores-row\">\r\n                <div className=\"team-col\">North-South</div>\r\n                <div className=\"party-col\">{scoresSoFar.nsTotal}</div>\r\n                <div className=\"bonus-col\">{scoresSoFar.bonusNsTotal}</div>\r\n              </div>\r\n              <div className=\"scores-row\">\r\n                <div className=\"team-col\">East-West</div>\r\n                <div className=\"party-col\">{scoresSoFar.ewTotal}</div>\r\n                <div className=\"bonus-col\">{scoresSoFar.bonusEwTotal}</div>\r\n              </div>\r\n            </div>\r\n            <button className=\"close-scores-btn\" onClick={toggleScoresSoFar}>Close</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Contract Category Banner */}\r\n      <div className=\"contract-category\">\r\n        <h2>{getContractCategory()}</h2>\r\n      </div>\r\n      \r\n      {/* Contract Details */}\r\n      <div className=\"contract-details\">\r\n        <p>Contract: {formatContract()} Made {currentDeal.result > 0 ? '+' + currentDeal.result : (currentDeal.result < 0 ? 'Down ' + Math.abs(currentDeal.result) : 'exactly')}</p>\r\n        <p>Raw score: {currentDeal.rawScore} points</p>\r\n      </div>\r\n      \r\n      {/* Tab Navigation */}\r\n      <div className=\"analysis-tabs\">\r\n        <button \r\n          className={`tab-btn ${activeTab === 'summary' ? 'active' : ''}`}\r\n          onClick={() => handleTabChange('summary')}\r\n        >\r\n          Summary\r\n        </button>\r\n        <button \r\n          className={`tab-btn ${activeTab === 'hand' ? 'active' : ''}`}\r\n          onClick={() => handleTabChange('hand')}\r\n        >\r\n          Hand Analysis\r\n        </button>\r\n        <button \r\n          className={`tab-btn ${activeTab === 'calculation' ? 'active' : ''}`}\r\n          onClick={() => handleTabChange('calculation')}\r\n        >\r\n          Calculation\r\n        </button>\r\n      </div>\r\n      \r\n      {/* Tab Content */}\r\n      <div className=\"tab-content\">\r\n        {/* Summary Tab */}\r\n        {activeTab === 'summary' && (\r\n          <div className=\"summary-tab\">\r\n            <div className=\"final-scores\">\r\n              <h3>Final Bonus Bridge Score</h3>\r\n              <div className=\"score-box\">\r\n                <div className=\"score-row\">\r\n                  <span className=\"score-label\">{finalScore.declarerTeam} (Declarer):</span>\r\n                  <span className=\"score-value\">{finalScore.declarerPoints} points</span>\r\n                </div>\r\n                <div className=\"score-row\">\r\n                  <span className=\"score-label\">{finalScore.defenderTeam} (Defender):</span>\r\n                  <span className=\"score-value\">{finalScore.defenderPoints} points</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <p className=\"score-explanation\">\r\n                {madeContract ? \r\n                  `The contract was made${currentDeal.result > 0 ? ' with ' + currentDeal.result + ' overtrick' + (currentDeal.result > 1 ? 's' : '') : ' exactly'}.` :\r\n                  `The contract was defeated by ${Math.abs(currentDeal.result)} trick${Math.abs(currentDeal.result) > 1 ? 's' : ''}.`\r\n                }\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        {/* Hand Analysis Tab */}\r\n        {activeTab === 'hand' && (\r\n          <div className=\"hand-tab\">\r\n            <h3>Hand Analysis</h3>\r\n            <div className=\"analysis-details\">\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">Combined HCP (Declarer + Dummy):</span>\r\n                <span className=\"detail-value\">{totalHCP}</span>\r\n              </div>\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">Declarer HCP Percentage:</span>\r\n                <span className=\"detail-value\">{declarerHCPPercentage}%</span>\r\n              </div>\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">Defender HCP Percentage:</span>\r\n                <span className=\"detail-value\">{defenderHCPPercentage}%</span>\r\n              </div>\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">HCP Advantage:</span>\r\n                <span className=\"detail-value\">{hcpAdvantage}% to {advantageSide}</span>\r\n              </div>\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">Number of Singletons:</span>\r\n                <span className=\"detail-value\">{singletons}</span>\r\n              </div>\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">Number of Voids:</span>\r\n                <span className=\"detail-value\">{voids}</span>\r\n              </div>\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">Number of Long Suits (6+ cards):</span>\r\n                <span className=\"detail-value\">{longSuits}</span>\r\n              </div>\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">Distribution Points:</span>\r\n                <span className=\"detail-value\">{distributionPoints}</span>\r\n              </div>\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">Expected HCP for Contract:</span>\r\n                <span className=\"detail-value\">{expectedHCP}</span>\r\n              </div>\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">Contract Expected Tricks:</span>\r\n                <span className=\"detail-value\">{contractExpectedTricks}</span>\r\n              </div>\r\n              <div className=\"detail-row\">\r\n                <span className=\"detail-label\">Hand Expected Tricks:</span>\r\n                <span className=\"detail-value\">{handExpectedTricks}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        {/* Calculation Tab */}\r\n        {activeTab === 'calculation' && (\r\n          <div className=\"calculation-tab\">\r\n            <h3>Calculation Steps ({madeContract ? 'Made Contract' : 'Defeated Contract'})</h3>\r\n            \r\n            <div className=\"calculation-steps\">\r\n              {getCalculationSteps().map((step, index) => (\r\n                <div className=\"calc-step\" key={index}>\r\n                  <span className=\"step-label\">{step.label}</span>\r\n                  <span className=\"step-value\">{step.value}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            \r\n            <div className=\"final-calculation\">\r\n              <h3>Final Result</h3>\r\n              {finalScore.declarerTeam === \"East-West\" ? (\r\n                <>\r\n                  <div className=\"calc-step\">\r\n                    <span className=\"step-label\">East-West Points:</span>\r\n                    <span className=\"step-value\">{finalScore.declarerPoints}</span>\r\n                  </div>\r\n                  <div className=\"calc-step\">\r\n                    <span className=\"step-label\">North-South Points:</span>\r\n                    <span className=\"step-value\">{finalScore.defenderPoints}</span>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <div className=\"calc-step\">\r\n                    <span className=\"step-label\">North-South Points:</span>\r\n                    <span className=\"step-value\">{finalScore.declarerPoints}</span>\r\n                  </div>\r\n                  <div className=\"calc-step\">\r\n                    <span className=\"step-label\">East-West Points:</span>\r\n                    <span className=\"step-value\">{finalScore.defenderPoints}</span>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      {/* Action buttons */}\r\n      <div className=\"action-buttons\">\r\n        <button \r\n          className=\"edit-btn\"\r\n          onClick={onEdit}\r\n        >\r\n          Edit Analysis\r\n        </button>\r\n        <button \r\n          className=\"save-btn\"\r\n          onClick={handleSave}\r\n        >\r\n          Save & Continue\r\n        </button>\r\n      </div>\r\n      \r\n      {/* Explanation popup when shown */}\r\n      {showExplanation && (\r\n        <BonusBridgeExplanation onClose={handleHideExplanation} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FinalScoreAnalysis;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}