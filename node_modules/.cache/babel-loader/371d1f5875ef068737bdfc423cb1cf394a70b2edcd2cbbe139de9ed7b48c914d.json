{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mikec\\\\MikesBridge\\\\bonusbridge\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport BridgeGameUI from './BridgeGameUI';\nimport ScoreAdjustment from './components/ScoreAdjustment';\nimport FinalScoreAnalysis from './components/FinalScoreAnalysis';\nimport { determineVulnerability, parseContract, calculateBridgeScore } from './utils/scoring';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  // State to track current view (main game, score adjustment, or final analysis)\n  const [currentView, setCurrentView] = useState('game');\n  // State to track score adjustment data\n  const [adjustmentData, setAdjustmentData] = useState(null);\n\n  // Create a function to generate a new initial state\n  const createInitialState = () => {\n    return {\n      gameNumber: 1,\n      dealNumber: 1,\n      scores: {\n        nsScore: 0,\n        ewScore: 0\n      },\n      deals: [],\n      currentDeal: {\n        contract: '',\n        declarer: '',\n        result: null,\n        tricks: null,\n        vulnerable: determineVulnerability(1)\n      },\n      isAwake: false,\n      showScorePopup: false\n    };\n  };\n  const [gameState, setGameState] = useState(() => {\n    // Try to load game state from local storage\n    const savedState = localStorage.getItem('bridgeGameState');\n\n    // Check if we have a valid saved state\n    if (savedState) {\n      try {\n        const parsedState = JSON.parse(savedState);\n\n        // Check if it's a new session (you can use a timestamp or other method)\n        // For simplicity, we'll just always start fresh\n        // If you want to resume the previous game, you can remove this condition\n        const shouldStartFresh = true; // Change this logic if you want to resume games\n\n        if (shouldStartFresh) {\n          // Start a new game\n          return createInitialState();\n        }\n        return parsedState;\n      } catch (e) {\n        console.error('Error parsing saved game state', e);\n        return createInitialState();\n      }\n    }\n\n    // Default initial state\n    return createInitialState();\n  });\n\n  // Save game state to local storage whenever it changes\n  // Use a more specific dependency array to avoid infinite loops\n  useEffect(() => {\n    localStorage.setItem('bridgeGameState', JSON.stringify(gameState));\n  }, [gameState.gameNumber, gameState.dealNumber, gameState.scores.nsScore, gameState.scores.ewScore, gameState.isAwake, gameState.showScorePopup,\n  // We don't want to deeply track all changes to currentDeal as it would cause too many updates\n  // Instead, just track these key properties:\n  gameState.currentDeal.contract, gameState.currentDeal.result]);\n\n  // Handle choosing Bonus Bridge scoring\n  const handleChooseBonusBridge = useCallback(() => {\n    // Hide the score popup and show the Score Adjustment view\n    setGameState(prev => ({\n      ...prev,\n      showScorePopup: false\n    }));\n\n    // Switch to score adjustment view\n    setCurrentView('scoreAdjustment');\n  }, []);\n\n  // Handle choosing Party Bridge scoring\n  const handleChoosePartyBridge = useCallback(() => {\n    // Hide the score popup and proceed directly to next deal\n    setGameState(prev => ({\n      ...prev,\n      showScorePopup: false\n    }));\n\n    // Process the deal with standard scoring\n    handleNextDeal();\n  }, []);\n\n  // Handle saving score adjustments\n  const handleSaveAdjustment = useCallback(data => {\n    // Save the adjustment data\n    setAdjustmentData(data);\n\n    // Switch to final analysis view\n    setCurrentView('finalAnalysis');\n  }, []);\n\n  // Handle editing adjustments\n  const handleEditAdjustments = useCallback(() => {\n    // Go back to the score adjustment view\n    setCurrentView('scoreAdjustment');\n  }, []);\n\n  // Handle saving final score and continuing\n  const handleSaveFinalScore = useCallback(finalScore => {\n    // Process the current deal with the final score\n    setGameState(prev => {\n      // Determine which team gets the score\n      const contractDetails = parseContract(prev.currentDeal.contract, prev.currentDeal.result, prev.currentDeal.vulnerable);\n      if (!contractDetails) {\n        return prev;\n      }\n      const isNS = contractDetails.isNS;\n      const madeContract = prev.currentDeal.result >= 0;\n      let nsScore = prev.scores.nsScore;\n      let ewScore = prev.scores.ewScore;\n\n      // Assign the adjusted score to the appropriate team\n      if (madeContract) {\n        // If made, declarer's team gets the score\n        if (isNS) {\n          nsScore += finalScore;\n        } else {\n          ewScore += finalScore;\n        }\n      } else {\n        // If down, defender's team gets the score\n        if (isNS) {\n          ewScore += finalScore;\n        } else {\n          nsScore += finalScore;\n        }\n      }\n\n      // Store completed deal\n      const completedDeal = {\n        ...prev.currentDeal,\n        dealNumber: prev.dealNumber,\n        finalScore,\n        adjustmentData\n      };\n\n      // Prepare for next deal\n      return {\n        ...prev,\n        dealNumber: prev.dealNumber + 1,\n        scores: {\n          nsScore,\n          ewScore\n        },\n        deals: [...prev.deals, completedDeal],\n        currentDeal: {\n          contract: '',\n          declarer: '',\n          result: null,\n          tricks: null,\n          vulnerable: determineVulnerability(prev.dealNumber + 1)\n        }\n      };\n    });\n\n    // Reset adjustment data\n    setAdjustmentData(null);\n\n    // Return to game view\n    setCurrentView('game');\n  }, [adjustmentData]);\n\n  // Handle canceling score adjustment\n  const handleCancelAdjustment = useCallback(() => {\n    // Return to game view without saving\n    setCurrentView('game');\n\n    // Make sure popup is closed\n    setGameState(prev => ({\n      ...prev,\n      showScorePopup: false\n    }));\n  }, []);\n\n  // Handle starting a new deal - this is for Party Bridge mode only\n  const handleNextDeal = useCallback(() => {\n    setGameState(prev => {\n      // Store the completed deal in history first\n      const completedDeal = {\n        ...prev.currentDeal,\n        dealNumber: prev.dealNumber\n      };\n\n      // Calculate the scores from the current deal\n      let nsScore = prev.scores.nsScore;\n      let ewScore = prev.scores.ewScore;\n      if (prev.currentDeal.contract && prev.currentDeal.result !== null) {\n        const contractDetails = parseContract(prev.currentDeal.contract, prev.currentDeal.result, prev.currentDeal.vulnerable);\n        if (contractDetails) {\n          const dealScore = calculateBridgeScore(contractDetails);\n          nsScore += dealScore.nsPoints;\n          ewScore += dealScore.ewPoints;\n        }\n      }\n      return {\n        ...prev,\n        dealNumber: prev.dealNumber + 1,\n        showScorePopup: false,\n        scores: {\n          nsScore: nsScore,\n          ewScore: ewScore\n        },\n        deals: [...prev.deals, completedDeal],\n        currentDeal: {\n          contract: '',\n          declarer: '',\n          result: null,\n          tricks: null,\n          vulnerable: determineVulnerability(prev.dealNumber + 1)\n        }\n      };\n    });\n  }, []);\n  const handleNewGame = useCallback(() => {\n    setGameState(prev => ({\n      gameNumber: prev.gameNumber + 1,\n      dealNumber: 1,\n      scores: {\n        nsScore: 0,\n        ewScore: 0\n      },\n      deals: [],\n      currentDeal: {\n        contract: '',\n        declarer: '',\n        result: null,\n        tricks: null,\n        vulnerable: determineVulnerability(1)\n      },\n      isAwake: prev.isAwake,\n      showScorePopup: false\n    }));\n\n    // Reset adjustment data\n    setAdjustmentData(null);\n\n    // Return to game view\n    setCurrentView('game');\n  }, []);\n  const updateCurrentDeal = useCallback(updatedDeal => {\n    setGameState(prev => ({\n      ...prev,\n      currentDeal: {\n        ...prev.currentDeal,\n        ...updatedDeal\n      }\n    }));\n  }, []);\n\n  // Get the correct view based on currentView state\n  const renderCurrentView = () => {\n    switch (currentView) {\n      case 'scoreAdjustment':\n        return /*#__PURE__*/_jsxDEV(ScoreAdjustment, {\n          currentDeal: gameState.currentDeal,\n          onSaveAdjustment: handleSaveAdjustment,\n          onCancel: handleCancelAdjustment\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this);\n      case 'finalAnalysis':\n        return /*#__PURE__*/_jsxDEV(FinalScoreAnalysis, {\n          analysisData: adjustmentData,\n          currentDeal: gameState.currentDeal,\n          onSave: handleSaveFinalScore,\n          onEdit: handleEditAdjustments\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this);\n      case 'game':\n      default:\n        return /*#__PURE__*/_jsxDEV(BridgeGameUI, {\n          gameState: gameState,\n          updateCurrentDeal: updateCurrentDeal,\n          onNextDeal: handleNextDeal,\n          onNewGame: handleNewGame,\n          setGameState: setGameState,\n          onChooseBonusBridge: handleChooseBonusBridge,\n          onChoosePartyBridge: handleChoosePartyBridge\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: renderCurrentView()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 329,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"rHxNIspqTGlC0dhTVRAkP40uzZg=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","BridgeGameUI","ScoreAdjustment","FinalScoreAnalysis","determineVulnerability","parseContract","calculateBridgeScore","jsxDEV","_jsxDEV","App","_s","currentView","setCurrentView","adjustmentData","setAdjustmentData","createInitialState","gameNumber","dealNumber","scores","nsScore","ewScore","deals","currentDeal","contract","declarer","result","tricks","vulnerable","isAwake","showScorePopup","gameState","setGameState","savedState","localStorage","getItem","parsedState","JSON","parse","shouldStartFresh","e","console","error","setItem","stringify","handleChooseBonusBridge","prev","handleChoosePartyBridge","handleNextDeal","handleSaveAdjustment","data","handleEditAdjustments","handleSaveFinalScore","finalScore","contractDetails","isNS","madeContract","completedDeal","handleCancelAdjustment","dealScore","nsPoints","ewPoints","handleNewGame","updateCurrentDeal","updatedDeal","renderCurrentView","onSaveAdjustment","onCancel","fileName","_jsxFileName","lineNumber","columnNumber","analysisData","onSave","onEdit","onNextDeal","onNewGame","onChooseBonusBridge","onChoosePartyBridge","className","children","_c","$RefreshReg$"],"sources":["C:/Users/mikec/MikesBridge/bonusbridge/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport BridgeGameUI from './BridgeGameUI';\r\nimport ScoreAdjustment from './components/ScoreAdjustment';\r\nimport FinalScoreAnalysis from './components/FinalScoreAnalysis';\r\nimport { \r\n  determineVulnerability,\r\n  parseContract, \r\n  calculateBridgeScore \r\n} from './utils/scoring';\r\n\r\nconst App = () => {\r\n  // State to track current view (main game, score adjustment, or final analysis)\r\n  const [currentView, setCurrentView] = useState('game');\r\n  // State to track score adjustment data\r\n  const [adjustmentData, setAdjustmentData] = useState(null);\r\n  \r\n  // Create a function to generate a new initial state\r\n  const createInitialState = () => {\r\n    return {\r\n      gameNumber: 1,\r\n      dealNumber: 1,\r\n      scores: {\r\n        nsScore: 0,\r\n        ewScore: 0\r\n      },\r\n      deals: [],\r\n      currentDeal: {\r\n        contract: '',\r\n        declarer: '',\r\n        result: null,\r\n        tricks: null,\r\n        vulnerable: determineVulnerability(1)\r\n      },\r\n      isAwake: false,\r\n      showScorePopup: false\r\n    };\r\n  };\r\n\r\n  const [gameState, setGameState] = useState(() => {\r\n    // Try to load game state from local storage\r\n    const savedState = localStorage.getItem('bridgeGameState');\r\n    \r\n    // Check if we have a valid saved state\r\n    if (savedState) {\r\n      try {\r\n        const parsedState = JSON.parse(savedState);\r\n        \r\n        // Check if it's a new session (you can use a timestamp or other method)\r\n        // For simplicity, we'll just always start fresh\r\n        // If you want to resume the previous game, you can remove this condition\r\n        const shouldStartFresh = true; // Change this logic if you want to resume games\r\n        \r\n        if (shouldStartFresh) {\r\n          // Start a new game\r\n          return createInitialState();\r\n        }\r\n        \r\n        return parsedState;\r\n      } catch (e) {\r\n        console.error('Error parsing saved game state', e);\r\n        return createInitialState();\r\n      }\r\n    }\r\n    \r\n    // Default initial state\r\n    return createInitialState();\r\n  });\r\n  \r\n  // Save game state to local storage whenever it changes\r\n  // Use a more specific dependency array to avoid infinite loops\r\n  useEffect(() => {\r\n    localStorage.setItem('bridgeGameState', JSON.stringify(gameState));\r\n  }, [\r\n    gameState.gameNumber, \r\n    gameState.dealNumber, \r\n    gameState.scores.nsScore, \r\n    gameState.scores.ewScore,\r\n    gameState.isAwake,\r\n    gameState.showScorePopup,\r\n    // We don't want to deeply track all changes to currentDeal as it would cause too many updates\r\n    // Instead, just track these key properties:\r\n    gameState.currentDeal.contract,\r\n    gameState.currentDeal.result\r\n  ]);\r\n  \r\n  // Handle choosing Bonus Bridge scoring\r\n  const handleChooseBonusBridge = useCallback(() => {\r\n    // Hide the score popup and show the Score Adjustment view\r\n    setGameState(prev => ({\r\n      ...prev,\r\n      showScorePopup: false\r\n    }));\r\n    \r\n    // Switch to score adjustment view\r\n    setCurrentView('scoreAdjustment');\r\n  }, []);\r\n  \r\n  // Handle choosing Party Bridge scoring\r\n  const handleChoosePartyBridge = useCallback(() => {\r\n    // Hide the score popup and proceed directly to next deal\r\n    setGameState(prev => ({\r\n      ...prev,\r\n      showScorePopup: false\r\n    }));\r\n    \r\n    // Process the deal with standard scoring\r\n    handleNextDeal();\r\n  }, []);\r\n  \r\n  // Handle saving score adjustments\r\n  const handleSaveAdjustment = useCallback((data) => {\r\n    // Save the adjustment data\r\n    setAdjustmentData(data);\r\n    \r\n    // Switch to final analysis view\r\n    setCurrentView('finalAnalysis');\r\n  }, []);\r\n  \r\n  // Handle editing adjustments\r\n  const handleEditAdjustments = useCallback(() => {\r\n    // Go back to the score adjustment view\r\n    setCurrentView('scoreAdjustment');\r\n  }, []);\r\n  \r\n  // Handle saving final score and continuing\r\n  const handleSaveFinalScore = useCallback((finalScore) => {\r\n    // Process the current deal with the final score\r\n    setGameState(prev => {\r\n      // Determine which team gets the score\r\n      const contractDetails = parseContract(\r\n        prev.currentDeal.contract,\r\n        prev.currentDeal.result,\r\n        prev.currentDeal.vulnerable\r\n      );\r\n      \r\n      if (!contractDetails) {\r\n        return prev;\r\n      }\r\n      \r\n      const isNS = contractDetails.isNS;\r\n      const madeContract = prev.currentDeal.result >= 0;\r\n      let nsScore = prev.scores.nsScore;\r\n      let ewScore = prev.scores.ewScore;\r\n      \r\n      // Assign the adjusted score to the appropriate team\r\n      if (madeContract) {\r\n        // If made, declarer's team gets the score\r\n        if (isNS) {\r\n          nsScore += finalScore;\r\n        } else {\r\n          ewScore += finalScore;\r\n        }\r\n      } else {\r\n        // If down, defender's team gets the score\r\n        if (isNS) {\r\n          ewScore += finalScore;\r\n        } else {\r\n          nsScore += finalScore;\r\n        }\r\n      }\r\n      \r\n      // Store completed deal\r\n      const completedDeal = {\r\n        ...prev.currentDeal,\r\n        dealNumber: prev.dealNumber,\r\n        finalScore,\r\n        adjustmentData\r\n      };\r\n      \r\n      // Prepare for next deal\r\n      return {\r\n        ...prev,\r\n        dealNumber: prev.dealNumber + 1,\r\n        scores: {\r\n          nsScore,\r\n          ewScore\r\n        },\r\n        deals: [...prev.deals, completedDeal],\r\n        currentDeal: {\r\n          contract: '',\r\n          declarer: '',\r\n          result: null,\r\n          tricks: null,\r\n          vulnerable: determineVulnerability(prev.dealNumber + 1)\r\n        }\r\n      };\r\n    });\r\n    \r\n    // Reset adjustment data\r\n    setAdjustmentData(null);\r\n    \r\n    // Return to game view\r\n    setCurrentView('game');\r\n  }, [adjustmentData]);\r\n  \r\n  // Handle canceling score adjustment\r\n  const handleCancelAdjustment = useCallback(() => {\r\n    // Return to game view without saving\r\n    setCurrentView('game');\r\n    \r\n    // Make sure popup is closed\r\n    setGameState(prev => ({\r\n      ...prev,\r\n      showScorePopup: false\r\n    }));\r\n  }, []);\r\n\r\n  // Handle starting a new deal - this is for Party Bridge mode only\r\n  const handleNextDeal = useCallback(() => {\r\n    setGameState(prev => {\r\n      // Store the completed deal in history first\r\n      const completedDeal = {\r\n        ...prev.currentDeal,\r\n        dealNumber: prev.dealNumber\r\n      };\r\n      \r\n      // Calculate the scores from the current deal\r\n      let nsScore = prev.scores.nsScore;\r\n      let ewScore = prev.scores.ewScore;\r\n      \r\n      if (prev.currentDeal.contract && prev.currentDeal.result !== null) {\r\n        const contractDetails = parseContract(\r\n          prev.currentDeal.contract, \r\n          prev.currentDeal.result, \r\n          prev.currentDeal.vulnerable\r\n        );\r\n        \r\n        if (contractDetails) {\r\n          const dealScore = calculateBridgeScore(contractDetails);\r\n          nsScore += dealScore.nsPoints;\r\n          ewScore += dealScore.ewPoints;\r\n        }\r\n      }\r\n      \r\n      return {\r\n        ...prev,\r\n        dealNumber: prev.dealNumber + 1,\r\n        showScorePopup: false,\r\n        scores: {\r\n          nsScore: nsScore,\r\n          ewScore: ewScore\r\n        },\r\n        deals: [...prev.deals, completedDeal],\r\n        currentDeal: {\r\n          contract: '',\r\n          declarer: '',\r\n          result: null,\r\n          tricks: null,\r\n          vulnerable: determineVulnerability(prev.dealNumber + 1)\r\n        }\r\n      };\r\n    });\r\n  }, []);\r\n  \r\n  const handleNewGame = useCallback(() => {\r\n    setGameState(prev => ({\r\n      gameNumber: prev.gameNumber + 1,\r\n      dealNumber: 1,\r\n      scores: {\r\n        nsScore: 0,\r\n        ewScore: 0\r\n      },\r\n      deals: [],\r\n      currentDeal: {\r\n        contract: '',\r\n        declarer: '',\r\n        result: null,\r\n        tricks: null,\r\n        vulnerable: determineVulnerability(1)\r\n      },\r\n      isAwake: prev.isAwake,\r\n      showScorePopup: false\r\n    }));\r\n    \r\n    // Reset adjustment data\r\n    setAdjustmentData(null);\r\n    \r\n    // Return to game view\r\n    setCurrentView('game');\r\n  }, []);\r\n  \r\n  const updateCurrentDeal = useCallback((updatedDeal) => {\r\n    setGameState(prev => ({\r\n      ...prev,\r\n      currentDeal: {\r\n        ...prev.currentDeal,\r\n        ...updatedDeal\r\n      }\r\n    }));\r\n  }, []);\r\n  \r\n  // Get the correct view based on currentView state\r\n  const renderCurrentView = () => {\r\n    switch (currentView) {\r\n      case 'scoreAdjustment':\r\n        return (\r\n          <ScoreAdjustment \r\n            currentDeal={gameState.currentDeal}\r\n            onSaveAdjustment={handleSaveAdjustment}\r\n            onCancel={handleCancelAdjustment}\r\n          />\r\n        );\r\n      case 'finalAnalysis':\r\n        return (\r\n          <FinalScoreAnalysis \r\n            analysisData={adjustmentData}\r\n            currentDeal={gameState.currentDeal}\r\n            onSave={handleSaveFinalScore}\r\n            onEdit={handleEditAdjustments}\r\n          />\r\n        );\r\n      case 'game':\r\n      default:\r\n        return (\r\n          <BridgeGameUI \r\n            gameState={gameState} \r\n            updateCurrentDeal={updateCurrentDeal}\r\n            onNextDeal={handleNextDeal}\r\n            onNewGame={handleNewGame}\r\n            setGameState={setGameState}\r\n            onChooseBonusBridge={handleChooseBonusBridge}\r\n            onChoosePartyBridge={handleChoosePartyBridge}\r\n          />\r\n        );\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"app-container\">\r\n      {renderCurrentView()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}