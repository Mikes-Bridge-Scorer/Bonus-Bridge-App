{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mikec\\\\MikesBridge\\\\bonusbridge\\\\src\\\\components\\\\scoreTracking.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { parseContract, calculateBridgeScore } from '../utils/scoring';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ScoreTracking = ({\n  scores,\n  currentDeal\n}) => {\n  _s();\n  const [showScoreDetails, setShowScoreDetails] = useState(false);\n\n  // Get a detailed score calculation explanation\n  const getScoreCalculationDetails = () => {\n    var _currentDeal$vulnerab, _currentDeal$vulnerab2;\n    if (!currentDeal || !currentDeal.contract) return [];\n    const contractDetails = parseContract(currentDeal.contract, currentDeal.result, currentDeal.vulnerable);\n    if (!contractDetails) return [];\n    const {\n      level,\n      suit,\n      declarer,\n      doubled,\n      isMade,\n      result\n    } = contractDetails;\n    const isNS = declarer === 'N' || declarer === 'S';\n\n    // Check actual vulnerability based on declarer's side\n    const declarerVulnerable = isNS ? ((_currentDeal$vulnerab = currentDeal.vulnerable) === null || _currentDeal$vulnerab === void 0 ? void 0 : _currentDeal$vulnerab.ns) || false : ((_currentDeal$vulnerab2 = currentDeal.vulnerable) === null || _currentDeal$vulnerab2 === void 0 ? void 0 : _currentDeal$vulnerab2.ew) || false;\n    const vulText = declarerVulnerable ? \"vulnerable\" : \"not vulnerable\";\n    const details = [];\n    details.push(`Contract: ${level}${suit} by ${declarer}${doubled || ''} (${vulText})`);\n    details.push(`Required tricks: ${level} + 6 = ${parseInt(level) + 6}`);\n    details.push(`Actual tricks: ${parseInt(level) + 6 + (result || 0)}`);\n    if (isMade) {\n      // Add trick score calculation\n      const trickValue = suit === '♣' || suit === '♦' ? 20 : 30;\n      const firstTrickValue = suit === 'NT' ? 40 : trickValue;\n      let trickScore = firstTrickValue + (level - 1) * trickValue;\n      details.push(`Trick score: ${firstTrickValue} + (${level - 1} × ${trickValue}) = ${trickScore}`);\n\n      // Apply doubling if applicable\n      if (doubled === 'X') {\n        details.push(`Doubled: ${trickScore} × 2 = ${trickScore * 2}`);\n        trickScore *= 2;\n      } else if (doubled === 'XX') {\n        details.push(`Redoubled: ${trickScore} × 4 = ${trickScore * 4}`);\n        trickScore *= 4;\n      }\n\n      // Game or part score bonus\n      if (trickScore >= 100) {\n        const gameBonus = declarerVulnerable ? 500 : 300;\n        details.push(`Game bonus (${trickScore} ≥ 100): + ${gameBonus}`);\n      } else {\n        details.push(`Part score bonus: + 50`);\n      }\n\n      // Slam bonus if applicable\n      if (level === 6) {\n        const slamBonus = declarerVulnerable ? 750 : 500;\n        details.push(`Small slam bonus: + ${slamBonus}`);\n      } else if (level === 7) {\n        const grandSlamBonus = declarerVulnerable ? 1500 : 1000;\n        details.push(`Grand slam bonus: + ${grandSlamBonus}`);\n      }\n\n      // Overtrick bonus if applicable\n      if (result > 0) {\n        const overtrickValue = doubled ? (declarerVulnerable ? 200 : 100) * (doubled === 'XX' ? 2 : 1) : suit === '♣' || suit === '♦' ? 20 : 30;\n        details.push(`Overtrick${result > 1 ? 's' : ''} (${result}): + ${overtrickValue * result}`);\n      }\n\n      // Insult bonus for doubles made\n      if (doubled === 'X') {\n        details.push(`Insult bonus (making doubled contract): + 50`);\n      } else if (doubled === 'XX') {\n        details.push(`Insult bonus (making redoubled contract): + 100`);\n      }\n    } else {\n      // Undertrick penalties\n      const undertricks = Math.abs(result);\n      if (!doubled) {\n        const penalty = declarerVulnerable ? 100 : 50;\n        details.push(`Undertrick${undertricks > 1 ? 's' : ''} (${undertricks}): - ${penalty * undertricks}`);\n      } else {\n        // Doubled undertrick calculations are more complex\n        if (doubled === 'X') {\n          details.push(`Doubled undertrick${undertricks > 1 ? 's' : ''} (${undertricks}):`);\n        } else {\n          details.push(`Redoubled undertrick${undertricks > 1 ? 's' : ''} (${undertricks}):`);\n        }\n        const multiplier = doubled === 'XX' ? 2 : 1;\n        if (declarerVulnerable) {\n          details.push(`  First undertrick: ${300 * multiplier}`);\n          if (undertricks > 1) {\n            details.push(`  Additional undertrick${undertricks - 1 > 1 ? 's' : ''} (${undertricks - 1}): ${(undertricks - 1) * 300 * multiplier}`);\n          }\n        } else {\n          details.push(`  First undertrick: ${100 * multiplier}`);\n          if (undertricks > 1) {\n            const secondAndThird = Math.min(undertricks - 1, 2);\n            details.push(`  Second${secondAndThird > 1 ? ' and third' : ''} undertrick${secondAndThird > 1 ? 's' : ''}: ${secondAndThird * 200 * multiplier}`);\n          }\n          if (undertricks > 3) {\n            details.push(`  Fourth and subsequent undertrick${undertricks - 3 > 1 ? 's' : ''} (${undertricks - 3}): ${(undertricks - 3) * 300 * multiplier}`);\n          }\n        }\n      }\n    }\n\n    // Calculate the total score\n    const score = calculateBridgeScore(contractDetails);\n    const totalScore = isNS ? score.nsPoints : score.ewPoints;\n    const scoringTeam = isNS ? \"North-South\" : \"East-West\";\n    if (totalScore > 0) {\n      details.push(`Total: ${totalScore} points to ${scoringTeam}`);\n    } else {\n      details.push(`Total: ${-totalScore} points to ${isNS ? \"East-West\" : \"North-South\"}`);\n    }\n    return details;\n  };\n\n  // Format contract display\n  const formatContract = () => {\n    if (!currentDeal || !currentDeal.contract) return '';\n\n    // This will return the contract as entered but can be formatted more nicely\n    return currentDeal.contract;\n  };\n\n  // Get result description\n  const getResultString = () => {\n    if (!currentDeal || currentDeal.result === null) return '';\n    if (currentDeal.result > 0) {\n      return `Made +${currentDeal.result}`;\n    } else if (currentDeal.result < 0) {\n      return `Down ${Math.abs(currentDeal.result)}`;\n    } else {\n      return 'Made exactly';\n    }\n  };\n\n  // Calculate deal-specific score\n  const getDealScore = () => {\n    if (!currentDeal || !currentDeal.contract) {\n      return {\n        ns: 0,\n        ew: 0\n      };\n    }\n    const contractDetails = parseContract(currentDeal.contract, currentDeal.result, currentDeal.vulnerable);\n    if (!contractDetails) {\n      return {\n        ns: 0,\n        ew: 0\n      };\n    }\n    const score = calculateBridgeScore(contractDetails);\n    return {\n      ns: score.nsPoints,\n      ew: score.ewPoints\n    };\n  };\n  const dealScore = getDealScore();\n  const scoreDetails = getScoreCalculationDetails();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"score-tracking\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Score Summary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"score-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Team\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"This Deal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Running Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"North-South\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: dealScore.ns\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: scores.nsScore\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"East-West\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: dealScore.ew\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: scores.ewScore\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contract-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Contract: \", formatContract()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Result: \", getResultString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"details-btn\",\n      onClick: () => setShowScoreDetails(!showScoreDetails),\n      children: showScoreDetails ? 'Hide Score Details' : 'Show Score Details'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), showScoreDetails && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"score-details\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Score Calculation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: scoreDetails.map((detail, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: detail\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 5\n  }, this);\n};\n_s(ScoreTracking, \"w16gvqvvR8jrZRTpesE8ZFf6qH0=\");\n_c = ScoreTracking;\nexport default ScoreTracking;\nvar _c;\n$RefreshReg$(_c, \"ScoreTracking\");","map":{"version":3,"names":["React","useState","parseContract","calculateBridgeScore","jsxDEV","_jsxDEV","ScoreTracking","scores","currentDeal","_s","showScoreDetails","setShowScoreDetails","getScoreCalculationDetails","_currentDeal$vulnerab","_currentDeal$vulnerab2","contract","contractDetails","result","vulnerable","level","suit","declarer","doubled","isMade","isNS","declarerVulnerable","ns","ew","vulText","details","push","parseInt","trickValue","firstTrickValue","trickScore","gameBonus","slamBonus","grandSlamBonus","overtrickValue","undertricks","Math","abs","penalty","multiplier","secondAndThird","min","score","totalScore","nsPoints","ewPoints","scoringTeam","formatContract","getResultString","getDealScore","dealScore","scoreDetails","className","children","fileName","_jsxFileName","lineNumber","columnNumber","nsScore","ewScore","onClick","map","detail","index","_c","$RefreshReg$"],"sources":["C:/Users/mikec/MikesBridge/bonusbridge/src/components/scoreTracking.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { parseContract, calculateBridgeScore } from '../utils/scoring';\r\n\r\nconst ScoreTracking = ({ scores, currentDeal }) => {\r\n  const [showScoreDetails, setShowScoreDetails] = useState(false);\r\n  \r\n  // Get a detailed score calculation explanation\r\n  const getScoreCalculationDetails = () => {\r\n    if (!currentDeal || !currentDeal.contract) return [];\r\n    \r\n    const contractDetails = parseContract(currentDeal.contract, currentDeal.result, currentDeal.vulnerable);\r\n    if (!contractDetails) return [];\r\n    \r\n    const { level, suit, declarer, doubled, isMade, result } = contractDetails;\r\n    const isNS = declarer === 'N' || declarer === 'S';\r\n    \r\n    // Check actual vulnerability based on declarer's side\r\n    const declarerVulnerable = isNS ? \r\n      (currentDeal.vulnerable?.ns || false) : \r\n      (currentDeal.vulnerable?.ew || false);\r\n    \r\n    const vulText = declarerVulnerable ? \"vulnerable\" : \"not vulnerable\";\r\n    \r\n    const details = [];\r\n    \r\n    details.push(`Contract: ${level}${suit} by ${declarer}${doubled || ''} (${vulText})`);\r\n    details.push(`Required tricks: ${level} + 6 = ${parseInt(level) + 6}`);\r\n    details.push(`Actual tricks: ${parseInt(level) + 6 + (result || 0)}`);\r\n    \r\n    if (isMade) {\r\n      // Add trick score calculation\r\n      const trickValue = (suit === '♣' || suit === '♦') ? 20 : 30;\r\n      const firstTrickValue = suit === 'NT' ? 40 : trickValue;\r\n      let trickScore = firstTrickValue + (level - 1) * trickValue;\r\n      \r\n      details.push(`Trick score: ${firstTrickValue} + (${level - 1} × ${trickValue}) = ${trickScore}`);\r\n      \r\n      // Apply doubling if applicable\r\n      if (doubled === 'X') {\r\n        details.push(`Doubled: ${trickScore} × 2 = ${trickScore * 2}`);\r\n        trickScore *= 2;\r\n      } else if (doubled === 'XX') {\r\n        details.push(`Redoubled: ${trickScore} × 4 = ${trickScore * 4}`);\r\n        trickScore *= 4;\r\n      }\r\n      \r\n      // Game or part score bonus\r\n      if (trickScore >= 100) {\r\n        const gameBonus = declarerVulnerable ? 500 : 300;\r\n        details.push(`Game bonus (${trickScore} ≥ 100): + ${gameBonus}`);\r\n      } else {\r\n        details.push(`Part score bonus: + 50`);\r\n      }\r\n      \r\n      // Slam bonus if applicable\r\n      if (level === 6) {\r\n        const slamBonus = declarerVulnerable ? 750 : 500;\r\n        details.push(`Small slam bonus: + ${slamBonus}`);\r\n      } else if (level === 7) {\r\n        const grandSlamBonus = declarerVulnerable ? 1500 : 1000;\r\n        details.push(`Grand slam bonus: + ${grandSlamBonus}`);\r\n      }\r\n      \r\n      // Overtrick bonus if applicable\r\n      if (result > 0) {\r\n        const overtrickValue = doubled \r\n          ? (declarerVulnerable ? 200 : 100) * (doubled === 'XX' ? 2 : 1)\r\n          : (suit === '♣' || suit === '♦' ? 20 : 30);\r\n        \r\n        details.push(`Overtrick${result > 1 ? 's' : ''} (${result}): + ${overtrickValue * result}`);\r\n      }\r\n      \r\n      // Insult bonus for doubles made\r\n      if (doubled === 'X') {\r\n        details.push(`Insult bonus (making doubled contract): + 50`);\r\n      } else if (doubled === 'XX') {\r\n        details.push(`Insult bonus (making redoubled contract): + 100`);\r\n      }\r\n      \r\n    } else {\r\n      // Undertrick penalties\r\n      const undertricks = Math.abs(result);\r\n      \r\n      if (!doubled) {\r\n        const penalty = declarerVulnerable ? 100 : 50;\r\n        details.push(`Undertrick${undertricks > 1 ? 's' : ''} (${undertricks}): - ${penalty * undertricks}`);\r\n      } else {\r\n        // Doubled undertrick calculations are more complex\r\n        if (doubled === 'X') {\r\n          details.push(`Doubled undertrick${undertricks > 1 ? 's' : ''} (${undertricks}):`);\r\n        } else {\r\n          details.push(`Redoubled undertrick${undertricks > 1 ? 's' : ''} (${undertricks}):`);\r\n        }\r\n        \r\n        const multiplier = doubled === 'XX' ? 2 : 1;\r\n        \r\n        if (declarerVulnerable) {\r\n          details.push(`  First undertrick: ${300 * multiplier}`);\r\n          if (undertricks > 1) {\r\n            details.push(`  Additional undertrick${undertricks - 1 > 1 ? 's' : ''} (${undertricks - 1}): ${(undertricks - 1) * 300 * multiplier}`);\r\n          }\r\n        } else {\r\n          details.push(`  First undertrick: ${100 * multiplier}`);\r\n          \r\n          if (undertricks > 1) {\r\n            const secondAndThird = Math.min(undertricks - 1, 2);\r\n            details.push(`  Second${secondAndThird > 1 ? ' and third' : ''} undertrick${secondAndThird > 1 ? 's' : ''}: ${secondAndThird * 200 * multiplier}`);\r\n          }\r\n          \r\n          if (undertricks > 3) {\r\n            details.push(`  Fourth and subsequent undertrick${undertricks - 3 > 1 ? 's' : ''} (${undertricks - 3}): ${(undertricks - 3) * 300 * multiplier}`);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Calculate the total score\r\n    const score = calculateBridgeScore(contractDetails);\r\n    const totalScore = isNS ? score.nsPoints : score.ewPoints;\r\n    const scoringTeam = isNS ? \"North-South\" : \"East-West\";\r\n    \r\n    if (totalScore > 0) {\r\n      details.push(`Total: ${totalScore} points to ${scoringTeam}`);\r\n    } else {\r\n      details.push(`Total: ${-totalScore} points to ${isNS ? \"East-West\" : \"North-South\"}`);\r\n    }\r\n    \r\n    return details;\r\n  };\r\n  \r\n  // Format contract display\r\n  const formatContract = () => {\r\n    if (!currentDeal || !currentDeal.contract) return '';\r\n    \r\n    // This will return the contract as entered but can be formatted more nicely\r\n    return currentDeal.contract;\r\n  };\r\n  \r\n  // Get result description\r\n  const getResultString = () => {\r\n    if (!currentDeal || currentDeal.result === null) return '';\r\n    \r\n    if (currentDeal.result > 0) {\r\n      return `Made +${currentDeal.result}`;\r\n    } else if (currentDeal.result < 0) {\r\n      return `Down ${Math.abs(currentDeal.result)}`;\r\n    } else {\r\n      return 'Made exactly';\r\n    }\r\n  };\r\n  \r\n  // Calculate deal-specific score\r\n  const getDealScore = () => {\r\n    if (!currentDeal || !currentDeal.contract) {\r\n      return { ns: 0, ew: 0 };\r\n    }\r\n    \r\n    const contractDetails = parseContract(\r\n      currentDeal.contract, \r\n      currentDeal.result, \r\n      currentDeal.vulnerable\r\n    );\r\n    \r\n    if (!contractDetails) {\r\n      return { ns: 0, ew: 0 };\r\n    }\r\n    \r\n    const score = calculateBridgeScore(contractDetails);\r\n    \r\n    return { \r\n      ns: score.nsPoints, \r\n      ew: score.ewPoints \r\n    };\r\n  };\r\n  \r\n  const dealScore = getDealScore();\r\n  const scoreDetails = getScoreCalculationDetails();\r\n  \r\n  return (\r\n    <div className=\"score-tracking\">\r\n      <h3>Score Summary</h3>\r\n      \r\n      <table className=\"score-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Team</th>\r\n            <th>This Deal</th>\r\n            <th>Running Total</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td>North-South</td>\r\n            <td>{dealScore.ns}</td>\r\n            <td>{scores.nsScore}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>East-West</td>\r\n            <td>{dealScore.ew}</td>\r\n            <td>{scores.ewScore}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      \r\n      <div className=\"contract-info\">\r\n        <div>Contract: {formatContract()}</div>\r\n        <div>Result: {getResultString()}</div>\r\n      </div>\r\n      \r\n      <button \r\n        className=\"details-btn\" \r\n        onClick={() => setShowScoreDetails(!showScoreDetails)}\r\n      >\r\n        {showScoreDetails ? 'Hide Score Details' : 'Show Score Details'}\r\n      </button>\r\n      \r\n      {showScoreDetails && (\r\n        <div className=\"score-details\">\r\n          <h4>Score Calculation</h4>\r\n          <ul>\r\n            {scoreDetails.map((detail, index) => (\r\n              <li key={index}>{detail}</li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ScoreTracking;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}